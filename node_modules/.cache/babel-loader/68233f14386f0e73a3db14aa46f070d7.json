{"ast":null,"code":"\"use strict\";\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"configure\", {\n  enumerable: true,\n  get: function get() {\n    return _config.configure;\n  }\n});\nexports.Touchable = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _dispatcher = require(\"@enact/core/dispatcher\");\n\nvar _complement = _interopRequireDefault(require(\"ramda/src/complement\"));\n\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _config = require(\"./config\");\n\nvar _state = require(\"./state\");\n\nvar _ClickAllow = _interopRequireDefault(require(\"./ClickAllow\"));\n\nvar _Drag = require(\"./Drag\");\n\nvar _Flick = require(\"./Flick\");\n\nvar _Hold = require(\"./Hold\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar getEventCoordinates = function getEventCoordinates(ev) {\n  var x = ev.clientX,\n      y = ev.clientY,\n      type = ev.type;\n\n  if (type.indexOf('touch') === 0) {\n    x = ev.targetTouches[0].clientX;\n    y = ev.targetTouches[0].clientY;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}; // Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\n\n\nvar makeTouchableEvent = function makeTouchableEvent(type) {\n  return function (ev) {\n    var target = ev.target,\n        currentTarget = ev.currentTarget;\n    var clientX = ev.clientX,\n        clientY = ev.clientY,\n        pageX = ev.pageX,\n        pageY = ev.pageY;\n\n    if (ev.changedTouches) {\n      clientX = ev.changedTouches[0].clientX;\n      clientY = ev.changedTouches[0].clientY;\n      pageX = ev.changedTouches[0].pageX;\n      pageY = ev.changedTouches[0].pageY;\n    }\n\n    return {\n      type: type,\n      target: target,\n      currentTarget: currentTarget,\n      clientX: clientX,\n      clientY: clientY,\n      pageX: pageX,\n      pageY: pageY\n    };\n  };\n};\n\nvar isEnabled = (0, _handle.forProp)('disabled', false);\nvar handleDown = (0, _handle.handle)(isEnabled, (0, _handle.adaptEvent)(makeTouchableEvent('onDown'), (0, _handle.forwardWithPrevent)('onDown')), (0, _handle.call)('activate'), (0, _handle.call)('startGesture')).named('handleDown');\nvar handleUp = (0, _handle.handle)(isEnabled, (0, _handle.call)('endGesture'), (0, _handle.call)('isTracking'), (0, _handle.adaptEvent)(makeTouchableEvent('onUp'), (0, _handle.forwardWithPrevent)('onUp')), (0, _handle.adaptEvent)(makeTouchableEvent('onTap'), (0, _handle.forward)('onTap')))[\"finally\"]((0, _handle.call)('deactivate')).named('handleUp');\nvar handleEnter = (0, _handle.handle)(isEnabled, (0, _handle.forProp)('noResume', false), (0, _handle.call)('enterGesture'), (0, _handle.call)('isPaused'), (0, _handle.call)('activate')).named('handleEnter');\nvar handleLeave = (0, _handle.handle)(isEnabled, (0, _handle.call)('leaveGesture'), (0, _handle.oneOf)([(0, _handle.forProp)('noResume', false), (0, _handle.call)('pause')], [_handle.returnsTrue, (0, _handle.call)('deactivate')])).named('handleLeave'); // Mouse event handlers\n\nvar handleMouseDown = (0, _handle.handle)((0, _handle.forward)('onMouseDown'), (0, _handle.call)('shouldAllowMouseEvent'), handleDown);\nvar handleMouseEnter = (0, _handle.handle)((0, _handle.forward)('onMouseEnter'), handleEnter);\nvar handleMouseMove = (0, _handle.handle)((0, _handle.forward)('onMouseMove'), (0, _handle.call)('moveGesture'));\nvar handleMouseLeave = (0, _handle.handle)((0, _handle.forward)('onMouseLeave'), handleLeave);\nvar handleMouseUp = (0, _handle.handle)((0, _handle.returnsTrue)((0, _handle.call)('setLastMouseUp')), (0, _handle.forward)('onMouseUp'), handleUp);\nvar handleClick = (0, _handle.handle)(isEnabled, // wrapping another handler to always forward onClick but, if onTap should occur, it should\n// occur first to keep in sync with the up handler which emits onTap first\n(0, _handle.handle)((0, _handle.call)('shouldAllowTap'), (0, _handle.call)('activate'), handleUp)[\"finally\"]((0, _handle.forward)('onClick'))); // Touch event handlers\n\nvar handleTouchStart = (0, _handle.handle)((0, _handle.forward)('onTouchStart'), handleDown);\nvar handleTouchMove = (0, _handle.handle)((0, _handle.forward)('onTouchMove'), (0, _handle.call)('isTracking'), // we don't receive enter/leave events during a touch so we have to simulate them by\n// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n// branch it follows so we append moveHold to either to handle moves that aren't\n// entering or leaving\n(0, _handle.adaptEvent)(makeTouchableEvent('onMove'), (0, _handle.forward)('onMove')), (0, _handle.oneOf)([(0, _handle.call)('hasTouchLeftTarget'), handleLeave], [_handle.returnsTrue, handleEnter])[\"finally\"]((0, _handle.call)('moveGesture')));\nvar handleTouchEnd = (0, _handle.handle)((0, _handle.forward)('onTouchEnd'), // block the next mousedown to prevent duplicate touchable events\n(0, _handle.returnsTrue)((0, _handle.call)('setLastTouchEnd')), (0, _handle.call)('isTracking'), (0, _complement[\"default\"])((0, _handle.call)('hasTouchLeftTarget')), handleUp); // Global touchend/mouseup event handler to deactivate the component\n\nvar handleGlobalUp = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('deactivate'))[\"finally\"]((0, _handle.call)('endGesture'));\nvar handleGlobalMove = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('containsCurrentTarget'), (0, _handle.call)('moveGesture'));\nvar handleBlur = (0, _handle.handle)((0, _handle.forward)('onBlur'), (0, _handle.call)('hasFocus'), (0, _handle.call)('blurGesture'));\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\n\nvar defaultConfig = {\n  /**\n   * Configures the prop name to pass the active state to the wrapped component\n   *\n   * @type {String}\n   * @default null\n   * @memberof ui/Touchable.Touchable.defaultConfig\n   */\n  activeProp: null\n};\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\n\nvar Touchable = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var _class, _temp;\n\n  var activeProp = config.activeProp;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class(props) {\n      var _this;\n\n      _classCallCheck(this, _class);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this, props));\n      _this.state = {\n        active: _state.States.Inactive,\n        prevDisabled: props.disabled\n      };\n      _this.config = (0, _config.mergeConfig)({\n        drag: props.dragConfig,\n        flick: props.flickConfig,\n        hold: props.holdConfig\n      });\n      _this.target = null;\n      _this.targetHadFocus = false;\n      _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n      _this.drag = new _Drag.Drag();\n      _this.flick = new _Flick.Flick();\n      _this.hold = new _Hold.Hold();\n      _this.clickAllow = new _ClickAllow[\"default\"]();\n      handleClick.bindAs(_assertThisInitialized(_this), 'handleClick');\n      handleBlur.bindAs(_assertThisInitialized(_this), 'handleBlur');\n      handleMouseDown.bindAs(_assertThisInitialized(_this), 'handleMouseDown');\n      handleMouseEnter.bindAs(_assertThisInitialized(_this), 'handleMouseEnter');\n      handleMouseMove.bindAs(_assertThisInitialized(_this), 'handleMouseMove');\n      handleMouseLeave.bindAs(_assertThisInitialized(_this), 'handleMouseLeave');\n      handleMouseUp.bindAs(_assertThisInitialized(_this), 'handleMouseUp');\n      handleTouchStart.bindAs(_assertThisInitialized(_this), 'handleTouchStart');\n      handleTouchMove.bindAs(_assertThisInitialized(_this), 'handleTouchMove');\n      handleTouchEnd.bindAs(_assertThisInitialized(_this), 'handleTouchEnd');\n      handleGlobalUp.bindAs(_assertThisInitialized(_this), 'handleGlobalUp');\n      handleGlobalMove.bindAs(_assertThisInitialized(_this), 'handleGlobalMove');\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // ensure we clean up our internal state\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.on)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.on)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.on)('mousemove', this.handleGlobalMove, document);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!prevProps.disabled && this.props.disabled) {\n          this.clearTarget();\n          this.hold.end();\n        }\n\n        this.config = (0, _config.mergeConfig)({\n          drag: this.props.dragConfig,\n          flick: this.props.flickConfig,\n          hold: this.props.holdConfig\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearTarget();\n        this.hold.end();\n\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.off)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.off)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.off)('mousemove', this.handleGlobalMove, document);\n      } // State Management\n\n    }, {\n      key: \"setTarget\",\n      value: function setTarget(target) {\n        this.target = target;\n\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.on)('contextmenu', _handle.preventDefault);\n          this.targetBounds = this.target.getBoundingClientRect();\n        }\n      }\n    }, {\n      key: \"clearTarget\",\n      value: function clearTarget() {\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.off)('contextmenu', _handle.preventDefault);\n          this.targetBounds = null;\n        }\n\n        this.target = null;\n      }\n    }, {\n      key: \"activate\",\n      value: function activate(ev) {\n        this.setTarget(ev.currentTarget);\n\n        if (activeProp) {\n          this.setState(_state.activate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"deactivate\",\n      value: function deactivate() {\n        this.clearTarget();\n\n        if (activeProp) {\n          this.setState(_state.deactivate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        if (activeProp) {\n          this.setState(_state.pause);\n        }\n\n        return true;\n      } // Gesture Support\n\n    }, {\n      key: \"startGesture\",\n      value: function startGesture(ev, props) {\n        var coords = getEventCoordinates(ev);\n        var _this$config = this.config,\n            hold = _this$config.hold,\n            flick = _this$config.flick,\n            drag = _this$config.drag;\n        this.hold.begin(hold, props, coords);\n        this.flick.begin(flick, props, coords);\n        this.drag.begin(drag, props, coords, this.target);\n        this.targetHadFocus = this.target === document.activeElement;\n        return true;\n      }\n    }, {\n      key: \"moveGesture\",\n      value: function moveGesture(ev) {\n        var coords = getEventCoordinates(ev);\n        this.hold.move(coords);\n        this.flick.move(coords);\n        this.drag.move(coords);\n        return true;\n      }\n    }, {\n      key: \"enterGesture\",\n      value: function enterGesture() {\n        this.drag.enter();\n        this.hold.enter();\n        return true;\n      }\n    }, {\n      key: \"leaveGesture\",\n      value: function leaveGesture() {\n        this.drag.leave();\n        this.hold.leave();\n        return true;\n      }\n    }, {\n      key: \"blurGesture\",\n      value: function blurGesture() {\n        this.targetHadFocus = false;\n        this.hold.blur();\n        this.flick.blur();\n        this.drag.blur();\n        return true;\n      }\n    }, {\n      key: \"endGesture\",\n      value: function endGesture() {\n        this.targetHadFocus = false;\n        this.hold.end();\n        this.flick.end();\n        this.drag.end();\n        return true;\n      } // Event handler utilities\n\n    }, {\n      key: \"isTracking\",\n      value: function isTracking() {\n        // verify we had a target and the up target is still within the current node\n        return this.target;\n      }\n    }, {\n      key: \"isPaused\",\n      value: function isPaused() {\n        return this.state.active === _state.States.Paused;\n      }\n    }, {\n      key: \"hasFocus\",\n      value: function hasFocus() {\n        return this.targetHadFocus;\n      }\n    }, {\n      key: \"hasTouchLeftTarget\",\n      value: function hasTouchLeftTarget(ev) {\n        var _this2 = this;\n\n        return Array.from(ev.changedTouches).reduce(function (hasLeft, _ref) {\n          var pageX = _ref.pageX,\n              pageY = _ref.pageY;\n          var _this2$targetBounds = _this2.targetBounds,\n              left = _this2$targetBounds.left,\n              right = _this2$targetBounds.right,\n              top = _this2$targetBounds.top,\n              bottom = _this2$targetBounds.bottom;\n          return hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n        }, true);\n      }\n    }, {\n      key: \"containsCurrentTarget\",\n      value: function containsCurrentTarget(_ref2) {\n        var target = _ref2.target;\n        return !this.target.contains(target);\n      }\n    }, {\n      key: \"shouldAllowMouseEvent\",\n      value: function shouldAllowMouseEvent(ev) {\n        return this.clickAllow.shouldAllowMouseEvent(ev);\n      }\n    }, {\n      key: \"shouldAllowTap\",\n      value: function shouldAllowTap(ev) {\n        return this.clickAllow.shouldAllowTap(ev);\n      }\n    }, {\n      key: \"setLastMouseUp\",\n      value: function setLastMouseUp(ev) {\n        this.clickAllow.setLastMouseUp(ev);\n      }\n    }, {\n      key: \"setLastTouchEnd\",\n      value: function setLastTouchEnd(ev) {\n        this.clickAllow.setLastTouchEnd(ev);\n      }\n    }, {\n      key: \"addHandlers\",\n      value: function addHandlers(props) {\n        props.onClick = this.handleClick;\n        props.onMouseDown = this.handleMouseDown;\n        props.onMouseLeave = this.handleMouseLeave;\n        props.onMouseMove = this.handleMouseMove;\n        props.onMouseEnter = this.handleMouseEnter;\n        props.onMouseUp = this.handleMouseUp;\n        props.onBlur = this.handleBlur;\n\n        if (_platform[\"default\"].touch) {\n          props.onTouchStart = this.handleTouchStart;\n          props.onTouchMove = this.handleTouchMove;\n          props.onTouchEnd = this.handleTouchEnd;\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var props = Object.assign({}, this.props);\n        this.addHandlers(props);\n        delete props.dragConfig;\n        delete props.flickConfig;\n        delete props.holdConfig;\n        delete props.noResume;\n        delete props.onDown;\n        delete props.onFlick;\n        delete props.onHold;\n        delete props.onHoldEnd;\n        delete props.onHoldPulse;\n        delete props.onTap;\n        delete props.onUp;\n\n        if (activeProp) {\n          props[activeProp] = this.state.active !== _state.States.Inactive;\n        }\n\n        return _react[\"default\"].createElement(Wrapped, props);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var disabled = props.disabled;\n        var prevDisabled = state.prevDisabled;\n\n        if (prevDisabled !== disabled) {\n          return _objectSpread({}, activeProp && !prevDisabled && disabled && (0, _state.deactivate)(state), {\n            prevDisabled: disabled\n          });\n        }\n\n        return null;\n      }\n    }]);\n\n    return _class;\n  }(_react[\"default\"].Component), _class.displayName = 'Touchable', _class.propTypes =\n  /** @lends ui/Touchable.Touchable.prototype */\n  {\n    /**\n     * Disables the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    disabled: _propTypes[\"default\"].bool,\n\n    /**\n     * Instance-specific overrides of the drag configuration.\n     *\n     * @see ui/Touchable.configure\n     * @type {Object}\n     * @public\n     */\n    dragConfig: _Drag.dragConfigPropType,\n\n    /**\n     * Instance-specific overrides of the flick configuration.\n     *\n     * @see ui/Touchable.configure\n     * @type {Object}\n     * @public\n     */\n    flickConfig: _Flick.flickConfigPropType,\n\n    /**\n     * Instance-specific overrides of the hold configuration.\n     *\n     * @see ui/Touchable.configure\n     * @type {Object}\n     * @public\n     */\n    holdConfig: _Hold.holdConfigPropType,\n\n    /**\n     * Prevents resuming the touch events and gestures when re-entering the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    noResume: _propTypes[\"default\"].bool,\n\n    /**\n     * Event handler for 'down' pointer events.\n     *\n     * @type {Function}\n     * @public\n     */\n    onDown: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDrag'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDrag: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragEnd'`\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the start of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragStart'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragStart: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a flick gesture.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onFlick'`\n     * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n     * * `velocity` - Velocity of flick\n     * * `velocityX` - Velocity of flick along te horizontal axis\n     * * `velocityY` - Velocity of flick along te vertical axis\n     *\n     * @type {Function}\n     * @public\n     */\n    onFlick: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHold'`\n     * * `name` - The name of the hold as configured in the events list\n     * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n     *            from time since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHold: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldEnd'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold pulse events\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldPulse'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldPulse: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'tap' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onTap: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'up' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onUp: _propTypes[\"default\"].func\n  }, _class.defaultProps = {\n    disabled: false,\n    noResume: false\n  }, _temp;\n});\nexports.Touchable = Touchable;\nvar _default = Touchable;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["F:\\books\\vscode\\enact\\final\\SteAPp\\node_modules\\@enact\\ui\\Touchable\\Touchable.js"],"names":["Object","defineProperty","exports","value","enumerable","get","_config","configure","Touchable","_handle","require","_hoc","_interopRequireDefault","_dispatcher","_complement","_platform","_propTypes","_react","_state","_ClickAllow","_Drag","_Flick","_Hold","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","key","_defineProperty","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","getEventCoordinates","ev","x","clientX","y","clientY","type","indexOf","targetTouches","makeTouchableEvent","currentTarget","pageX","pageY","changedTouches","isEnabled","forProp","handleDown","handle","adaptEvent","forwardWithPrevent","named","handleUp","forward","handleEnter","handleLeave","oneOf","returnsTrue","handleMouseDown","handleMouseEnter","handleMouseMove","handleMouseLeave","handleMouseUp","handleClick","handleTouchStart","handleTouchMove","handleTouchEnd","handleGlobalUp","handleGlobalMove","handleBlur","defaultConfig","activeProp","config","Wrapped","_class","_temp","_React$Component","_this","state","active","States","Inactive","prevDisabled","disabled","mergeConfig","drag","dragConfig","flick","flickConfig","hold","holdConfig","targetHadFocus","bind","Drag","Flick","Hold","clickAllow","bindAs","componentDidMount","touch","on","document","componentDidUpdate","prevProps","clearTarget","end","componentWillUnmount","off","setTarget","preventDefault","targetBounds","getBoundingClientRect","activate","setState","deactivate","pause","startGesture","coords","_this$config","begin","activeElement","moveGesture","move","enterGesture","enter","leaveGesture","leave","blurGesture","blur","endGesture","isTracking","isPaused","Paused","hasFocus","hasTouchLeftTarget","_this2","Array","from","reduce","hasLeft","_ref","_this2$targetBounds","left","right","top","bottom","containsCurrentTarget","_ref2","contains","shouldAllowMouseEvent","shouldAllowTap","setLastMouseUp","setLastTouchEnd","addHandlers","onClick","onMouseDown","onMouseLeave","onMouseMove","onMouseEnter","onMouseUp","onBlur","onTouchStart","onTouchMove","onTouchEnd","render","assign","noResume","onDown","onFlick","onHold","onHoldEnd","onHoldPulse","onTap","onUp","createElement","getDerivedStateFromProps","Component","displayName","propTypes","bool","dragConfigPropType","flickConfigPropType","holdConfigPropType","func","onDrag","onDragEnd","onDragStart","defaultProps","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"configure\", {\n  enumerable: true,\n  get: function get() {\n    return _config.configure;\n  }\n});\nexports.Touchable = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _dispatcher = require(\"@enact/core/dispatcher\");\n\nvar _complement = _interopRequireDefault(require(\"ramda/src/complement\"));\n\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _config = require(\"./config\");\n\nvar _state = require(\"./state\");\n\nvar _ClickAllow = _interopRequireDefault(require(\"./ClickAllow\"));\n\nvar _Drag = require(\"./Drag\");\n\nvar _Flick = require(\"./Flick\");\n\nvar _Hold = require(\"./Hold\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar getEventCoordinates = function getEventCoordinates(ev) {\n  var x = ev.clientX,\n      y = ev.clientY,\n      type = ev.type;\n\n  if (type.indexOf('touch') === 0) {\n    x = ev.targetTouches[0].clientX;\n    y = ev.targetTouches[0].clientY;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}; // Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\n\n\nvar makeTouchableEvent = function makeTouchableEvent(type) {\n  return function (ev) {\n    var target = ev.target,\n        currentTarget = ev.currentTarget;\n    var clientX = ev.clientX,\n        clientY = ev.clientY,\n        pageX = ev.pageX,\n        pageY = ev.pageY;\n\n    if (ev.changedTouches) {\n      clientX = ev.changedTouches[0].clientX;\n      clientY = ev.changedTouches[0].clientY;\n      pageX = ev.changedTouches[0].pageX;\n      pageY = ev.changedTouches[0].pageY;\n    }\n\n    return {\n      type: type,\n      target: target,\n      currentTarget: currentTarget,\n      clientX: clientX,\n      clientY: clientY,\n      pageX: pageX,\n      pageY: pageY\n    };\n  };\n};\n\nvar isEnabled = (0, _handle.forProp)('disabled', false);\nvar handleDown = (0, _handle.handle)(isEnabled, (0, _handle.adaptEvent)(makeTouchableEvent('onDown'), (0, _handle.forwardWithPrevent)('onDown')), (0, _handle.call)('activate'), (0, _handle.call)('startGesture')).named('handleDown');\nvar handleUp = (0, _handle.handle)(isEnabled, (0, _handle.call)('endGesture'), (0, _handle.call)('isTracking'), (0, _handle.adaptEvent)(makeTouchableEvent('onUp'), (0, _handle.forwardWithPrevent)('onUp')), (0, _handle.adaptEvent)(makeTouchableEvent('onTap'), (0, _handle.forward)('onTap')))[\"finally\"]((0, _handle.call)('deactivate')).named('handleUp');\nvar handleEnter = (0, _handle.handle)(isEnabled, (0, _handle.forProp)('noResume', false), (0, _handle.call)('enterGesture'), (0, _handle.call)('isPaused'), (0, _handle.call)('activate')).named('handleEnter');\nvar handleLeave = (0, _handle.handle)(isEnabled, (0, _handle.call)('leaveGesture'), (0, _handle.oneOf)([(0, _handle.forProp)('noResume', false), (0, _handle.call)('pause')], [_handle.returnsTrue, (0, _handle.call)('deactivate')])).named('handleLeave'); // Mouse event handlers\n\nvar handleMouseDown = (0, _handle.handle)((0, _handle.forward)('onMouseDown'), (0, _handle.call)('shouldAllowMouseEvent'), handleDown);\nvar handleMouseEnter = (0, _handle.handle)((0, _handle.forward)('onMouseEnter'), handleEnter);\nvar handleMouseMove = (0, _handle.handle)((0, _handle.forward)('onMouseMove'), (0, _handle.call)('moveGesture'));\nvar handleMouseLeave = (0, _handle.handle)((0, _handle.forward)('onMouseLeave'), handleLeave);\nvar handleMouseUp = (0, _handle.handle)((0, _handle.returnsTrue)((0, _handle.call)('setLastMouseUp')), (0, _handle.forward)('onMouseUp'), handleUp);\nvar handleClick = (0, _handle.handle)(isEnabled, // wrapping another handler to always forward onClick but, if onTap should occur, it should\n// occur first to keep in sync with the up handler which emits onTap first\n(0, _handle.handle)((0, _handle.call)('shouldAllowTap'), (0, _handle.call)('activate'), handleUp)[\"finally\"]((0, _handle.forward)('onClick'))); // Touch event handlers\n\nvar handleTouchStart = (0, _handle.handle)((0, _handle.forward)('onTouchStart'), handleDown);\nvar handleTouchMove = (0, _handle.handle)((0, _handle.forward)('onTouchMove'), (0, _handle.call)('isTracking'), // we don't receive enter/leave events during a touch so we have to simulate them by\n// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n// branch it follows so we append moveHold to either to handle moves that aren't\n// entering or leaving\n(0, _handle.adaptEvent)(makeTouchableEvent('onMove'), (0, _handle.forward)('onMove')), (0, _handle.oneOf)([(0, _handle.call)('hasTouchLeftTarget'), handleLeave], [_handle.returnsTrue, handleEnter])[\"finally\"]((0, _handle.call)('moveGesture')));\nvar handleTouchEnd = (0, _handle.handle)((0, _handle.forward)('onTouchEnd'), // block the next mousedown to prevent duplicate touchable events\n(0, _handle.returnsTrue)((0, _handle.call)('setLastTouchEnd')), (0, _handle.call)('isTracking'), (0, _complement[\"default\"])((0, _handle.call)('hasTouchLeftTarget')), handleUp); // Global touchend/mouseup event handler to deactivate the component\n\nvar handleGlobalUp = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('deactivate'))[\"finally\"]((0, _handle.call)('endGesture'));\nvar handleGlobalMove = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('containsCurrentTarget'), (0, _handle.call)('moveGesture'));\nvar handleBlur = (0, _handle.handle)((0, _handle.forward)('onBlur'), (0, _handle.call)('hasFocus'), (0, _handle.call)('blurGesture'));\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\n\nvar defaultConfig = {\n  /**\n   * Configures the prop name to pass the active state to the wrapped component\n   *\n   * @type {String}\n   * @default null\n   * @memberof ui/Touchable.Touchable.defaultConfig\n   */\n  activeProp: null\n};\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\n\nvar Touchable = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var _class, _temp;\n\n  var activeProp = config.activeProp;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class(props) {\n      var _this;\n\n      _classCallCheck(this, _class);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this, props));\n      _this.state = {\n        active: _state.States.Inactive,\n        prevDisabled: props.disabled\n      };\n      _this.config = (0, _config.mergeConfig)({\n        drag: props.dragConfig,\n        flick: props.flickConfig,\n        hold: props.holdConfig\n      });\n      _this.target = null;\n      _this.targetHadFocus = false;\n      _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n      _this.drag = new _Drag.Drag();\n      _this.flick = new _Flick.Flick();\n      _this.hold = new _Hold.Hold();\n      _this.clickAllow = new _ClickAllow[\"default\"]();\n      handleClick.bindAs(_assertThisInitialized(_this), 'handleClick');\n      handleBlur.bindAs(_assertThisInitialized(_this), 'handleBlur');\n      handleMouseDown.bindAs(_assertThisInitialized(_this), 'handleMouseDown');\n      handleMouseEnter.bindAs(_assertThisInitialized(_this), 'handleMouseEnter');\n      handleMouseMove.bindAs(_assertThisInitialized(_this), 'handleMouseMove');\n      handleMouseLeave.bindAs(_assertThisInitialized(_this), 'handleMouseLeave');\n      handleMouseUp.bindAs(_assertThisInitialized(_this), 'handleMouseUp');\n      handleTouchStart.bindAs(_assertThisInitialized(_this), 'handleTouchStart');\n      handleTouchMove.bindAs(_assertThisInitialized(_this), 'handleTouchMove');\n      handleTouchEnd.bindAs(_assertThisInitialized(_this), 'handleTouchEnd');\n      handleGlobalUp.bindAs(_assertThisInitialized(_this), 'handleGlobalUp');\n      handleGlobalMove.bindAs(_assertThisInitialized(_this), 'handleGlobalMove');\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // ensure we clean up our internal state\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.on)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.on)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.on)('mousemove', this.handleGlobalMove, document);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!prevProps.disabled && this.props.disabled) {\n          this.clearTarget();\n          this.hold.end();\n        }\n\n        this.config = (0, _config.mergeConfig)({\n          drag: this.props.dragConfig,\n          flick: this.props.flickConfig,\n          hold: this.props.holdConfig\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearTarget();\n        this.hold.end();\n\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.off)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.off)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.off)('mousemove', this.handleGlobalMove, document);\n      } // State Management\n\n    }, {\n      key: \"setTarget\",\n      value: function setTarget(target) {\n        this.target = target;\n\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.on)('contextmenu', _handle.preventDefault);\n          this.targetBounds = this.target.getBoundingClientRect();\n        }\n      }\n    }, {\n      key: \"clearTarget\",\n      value: function clearTarget() {\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.off)('contextmenu', _handle.preventDefault);\n          this.targetBounds = null;\n        }\n\n        this.target = null;\n      }\n    }, {\n      key: \"activate\",\n      value: function activate(ev) {\n        this.setTarget(ev.currentTarget);\n\n        if (activeProp) {\n          this.setState(_state.activate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"deactivate\",\n      value: function deactivate() {\n        this.clearTarget();\n\n        if (activeProp) {\n          this.setState(_state.deactivate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        if (activeProp) {\n          this.setState(_state.pause);\n        }\n\n        return true;\n      } // Gesture Support\n\n    }, {\n      key: \"startGesture\",\n      value: function startGesture(ev, props) {\n        var coords = getEventCoordinates(ev);\n        var _this$config = this.config,\n            hold = _this$config.hold,\n            flick = _this$config.flick,\n            drag = _this$config.drag;\n        this.hold.begin(hold, props, coords);\n        this.flick.begin(flick, props, coords);\n        this.drag.begin(drag, props, coords, this.target);\n        this.targetHadFocus = this.target === document.activeElement;\n        return true;\n      }\n    }, {\n      key: \"moveGesture\",\n      value: function moveGesture(ev) {\n        var coords = getEventCoordinates(ev);\n        this.hold.move(coords);\n        this.flick.move(coords);\n        this.drag.move(coords);\n        return true;\n      }\n    }, {\n      key: \"enterGesture\",\n      value: function enterGesture() {\n        this.drag.enter();\n        this.hold.enter();\n        return true;\n      }\n    }, {\n      key: \"leaveGesture\",\n      value: function leaveGesture() {\n        this.drag.leave();\n        this.hold.leave();\n        return true;\n      }\n    }, {\n      key: \"blurGesture\",\n      value: function blurGesture() {\n        this.targetHadFocus = false;\n        this.hold.blur();\n        this.flick.blur();\n        this.drag.blur();\n        return true;\n      }\n    }, {\n      key: \"endGesture\",\n      value: function endGesture() {\n        this.targetHadFocus = false;\n        this.hold.end();\n        this.flick.end();\n        this.drag.end();\n        return true;\n      } // Event handler utilities\n\n    }, {\n      key: \"isTracking\",\n      value: function isTracking() {\n        // verify we had a target and the up target is still within the current node\n        return this.target;\n      }\n    }, {\n      key: \"isPaused\",\n      value: function isPaused() {\n        return this.state.active === _state.States.Paused;\n      }\n    }, {\n      key: \"hasFocus\",\n      value: function hasFocus() {\n        return this.targetHadFocus;\n      }\n    }, {\n      key: \"hasTouchLeftTarget\",\n      value: function hasTouchLeftTarget(ev) {\n        var _this2 = this;\n\n        return Array.from(ev.changedTouches).reduce(function (hasLeft, _ref) {\n          var pageX = _ref.pageX,\n              pageY = _ref.pageY;\n          var _this2$targetBounds = _this2.targetBounds,\n              left = _this2$targetBounds.left,\n              right = _this2$targetBounds.right,\n              top = _this2$targetBounds.top,\n              bottom = _this2$targetBounds.bottom;\n          return hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n        }, true);\n      }\n    }, {\n      key: \"containsCurrentTarget\",\n      value: function containsCurrentTarget(_ref2) {\n        var target = _ref2.target;\n        return !this.target.contains(target);\n      }\n    }, {\n      key: \"shouldAllowMouseEvent\",\n      value: function shouldAllowMouseEvent(ev) {\n        return this.clickAllow.shouldAllowMouseEvent(ev);\n      }\n    }, {\n      key: \"shouldAllowTap\",\n      value: function shouldAllowTap(ev) {\n        return this.clickAllow.shouldAllowTap(ev);\n      }\n    }, {\n      key: \"setLastMouseUp\",\n      value: function setLastMouseUp(ev) {\n        this.clickAllow.setLastMouseUp(ev);\n      }\n    }, {\n      key: \"setLastTouchEnd\",\n      value: function setLastTouchEnd(ev) {\n        this.clickAllow.setLastTouchEnd(ev);\n      }\n    }, {\n      key: \"addHandlers\",\n      value: function addHandlers(props) {\n        props.onClick = this.handleClick;\n        props.onMouseDown = this.handleMouseDown;\n        props.onMouseLeave = this.handleMouseLeave;\n        props.onMouseMove = this.handleMouseMove;\n        props.onMouseEnter = this.handleMouseEnter;\n        props.onMouseUp = this.handleMouseUp;\n        props.onBlur = this.handleBlur;\n\n        if (_platform[\"default\"].touch) {\n          props.onTouchStart = this.handleTouchStart;\n          props.onTouchMove = this.handleTouchMove;\n          props.onTouchEnd = this.handleTouchEnd;\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var props = Object.assign({}, this.props);\n        this.addHandlers(props);\n        delete props.dragConfig;\n        delete props.flickConfig;\n        delete props.holdConfig;\n        delete props.noResume;\n        delete props.onDown;\n        delete props.onFlick;\n        delete props.onHold;\n        delete props.onHoldEnd;\n        delete props.onHoldPulse;\n        delete props.onTap;\n        delete props.onUp;\n\n        if (activeProp) {\n          props[activeProp] = this.state.active !== _state.States.Inactive;\n        }\n\n        return _react[\"default\"].createElement(Wrapped, props);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var disabled = props.disabled;\n        var prevDisabled = state.prevDisabled;\n\n        if (prevDisabled !== disabled) {\n          return _objectSpread({}, activeProp && !prevDisabled && disabled && (0, _state.deactivate)(state), {\n            prevDisabled: disabled\n          });\n        }\n\n        return null;\n      }\n    }]);\n\n    return _class;\n  }(_react[\"default\"].Component), _class.displayName = 'Touchable', _class.propTypes =\n  /** @lends ui/Touchable.Touchable.prototype */\n  {\n    /**\n     * Disables the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    disabled: _propTypes[\"default\"].bool,\n\n    /**\n     * Instance-specific overrides of the drag configuration.\n     *\n     * @see ui/Touchable.configure\n     * @type {Object}\n     * @public\n     */\n    dragConfig: _Drag.dragConfigPropType,\n\n    /**\n     * Instance-specific overrides of the flick configuration.\n     *\n     * @see ui/Touchable.configure\n     * @type {Object}\n     * @public\n     */\n    flickConfig: _Flick.flickConfigPropType,\n\n    /**\n     * Instance-specific overrides of the hold configuration.\n     *\n     * @see ui/Touchable.configure\n     * @type {Object}\n     * @public\n     */\n    holdConfig: _Hold.holdConfigPropType,\n\n    /**\n     * Prevents resuming the touch events and gestures when re-entering the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    noResume: _propTypes[\"default\"].bool,\n\n    /**\n     * Event handler for 'down' pointer events.\n     *\n     * @type {Function}\n     * @public\n     */\n    onDown: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDrag'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDrag: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragEnd'`\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the start of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragStart'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragStart: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a flick gesture.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onFlick'`\n     * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n     * * `velocity` - Velocity of flick\n     * * `velocityX` - Velocity of flick along te horizontal axis\n     * * `velocityY` - Velocity of flick along te vertical axis\n     *\n     * @type {Function}\n     * @public\n     */\n    onFlick: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHold'`\n     * * `name` - The name of the hold as configured in the events list\n     * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n     *            from time since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHold: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldEnd'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold pulse events\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldPulse'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldPulse: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'tap' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onTap: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'up' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onUp: _propTypes[\"default\"].func\n  }, _class.defaultProps = {\n    disabled: false,\n    noResume: false\n  }, _temp;\n});\nexports.Touchable = Touchable;\nvar _default = Touchable;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}