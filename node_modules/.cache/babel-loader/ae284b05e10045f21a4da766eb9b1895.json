{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dragConfigPropType = exports.Drag = exports.defaultDragConfig = exports[\"default\"] = void 0;\n\nvar _clamp = _interopRequireDefault(require(\"ramda/src/clamp\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar Tracking = {\n  Untracked: 0,\n  Active: 1,\n  Paused: 2\n};\n\nvar Drag = function Drag() {\n  var _this = this;\n\n  _classCallCheck(this, Drag);\n\n  this.dragConfig = null;\n\n  this.isDragging = function () {\n    return _this.dragConfig != null;\n  };\n\n  this.setContainerBounds = function (node) {\n    var _this$dragConfig = _this.dragConfig,\n        isGlobal = _this$dragConfig.global,\n        boxSizing = _this$dragConfig.boxSizing;\n    var bounds = null;\n    if (!node) return;\n\n    if (isGlobal) {\n      bounds = {\n        minX: 0,\n        minY: 0,\n        maxX: window.innerWidth,\n        maxY: window.innerHeight\n      };\n    } else {\n      bounds = node.getBoundingClientRect(); // adjust for padding when using content-box\n\n      if (boxSizing === 'content-box') {\n        var computedStyle = window.getComputedStyle(node);\n        bounds = {\n          minX: bounds.left + parseInt(computedStyle.paddingLeft),\n          minY: bounds.top + parseInt(computedStyle.paddingTop),\n          maxX: bounds.right - parseInt(computedStyle.paddingRight),\n          maxY: bounds.bottom - parseInt(computedStyle.paddingBottom)\n        };\n      }\n    }\n\n    _this.bounds = bounds;\n  };\n\n  this.updatePosition = function (clientX, clientY) {\n    var _this$bounds = _this.bounds,\n        maxX = _this$bounds.maxX,\n        maxY = _this$bounds.maxY,\n        minX = _this$bounds.minX,\n        minY = _this$bounds.minY;\n    var x = (0, _clamp[\"default\"])(minX, maxX, clientX) - minX;\n    var y = (0, _clamp[\"default\"])(minY, maxY, clientY) - minY;\n\n    if (x !== _this.x || y !== _this.y) {\n      _this.x = x;\n      _this.y = y;\n      return true;\n    }\n\n    return false;\n  };\n\n  this.begin = function (config, _ref, coords, node) {\n    var noResume = _ref.noResume,\n        onDrag = _ref.onDrag,\n        onDragEnd = _ref.onDragEnd,\n        onDragStart = _ref.onDragStart;\n    if (!onDrag && !onDragStart && !onDragEnd) return;\n    var x = coords.x,\n        y = coords.y;\n    _this.tracking = Tracking.Untracked;\n    _this.startX = x;\n    _this.startY = y;\n    _this.dragConfig = _objectSpread({}, config, {\n      node: node,\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      onDrag: onDrag,\n      resume: !noResume\n    });\n\n    _this.setContainerBounds(node);\n\n    _this.move(coords);\n  };\n\n  this.move = function (coords) {\n    if (!_this.isDragging()) return;\n    var _this$dragConfig2 = _this.dragConfig,\n        moveTolerance = _this$dragConfig2.moveTolerance,\n        onDrag = _this$dragConfig2.onDrag,\n        onDragStart = _this$dragConfig2.onDragStart;\n\n    if (_this.tracking === Tracking.Untracked) {\n      var dx = coords.x - _this.startX;\n      var dy = coords.y - _this.startY;\n\n      if (Math.sqrt(dx * dx + dy * dy) >= moveTolerance) {\n        _this.tracking = Tracking.Active;\n\n        if (onDragStart) {\n          onDragStart(_objectSpread({\n            type: 'onDragStart'\n          }, coords));\n        }\n      }\n    } else if (onDrag && _this.tracking === Tracking.Active && _this.updatePosition(coords)) {\n      onDrag(_objectSpread({\n        type: 'onDrag'\n      }, coords));\n    }\n  };\n\n  this.blur = function () {\n    if (!_this.isDragging()) return;\n\n    if (!_this.dragConfig.global) {\n      _this.end();\n    }\n  };\n\n  this.end = function () {\n    if (!_this.isDragging()) return;\n    var onDragEnd = _this.dragConfig.onDragEnd;\n\n    if (onDragEnd && _this.tracking !== Tracking.Untracked) {\n      onDragEnd({\n        type: 'onDragEnd'\n      });\n    }\n\n    _this.tracking = Tracking.Untracked;\n    _this.dragConfig = null;\n  };\n\n  this.enter = function () {\n    if (!_this.isDragging()) return;\n\n    if (_this.dragConfig.resume && _this.tracking === Tracking.Paused) {\n      _this.tracking = Tracking.Active;\n    }\n  };\n\n  this.leave = function () {\n    if (!_this.isDragging()) return;\n\n    if (!_this.dragConfig.global && _this.tracking === Tracking.Active) {\n      _this.tracking = Tracking.Paused;\n    }\n  };\n};\n\nexports.Drag = Drag;\nvar defaultDragConfig = {\n  boxSizing: 'border-box',\n  global: false,\n  moveTolerance: 16\n};\nexports.defaultDragConfig = defaultDragConfig;\n\nvar dragConfigPropType = _propTypes[\"default\"].shape({\n  boxSizing: _propTypes[\"default\"].string,\n  global: _propTypes[\"default\"].bool,\n  moveTolerance: _propTypes[\"default\"].number\n});\n\nexports.dragConfigPropType = dragConfigPropType;\nvar _default = Drag;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/cdi/final/SteApp/node_modules/@enact/ui/Touchable/Drag.js"],"names":["Object","defineProperty","exports","value","dragConfigPropType","Drag","defaultDragConfig","_clamp","_interopRequireDefault","require","_propTypes","obj","__esModule","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","configurable","writable","_classCallCheck","instance","Constructor","TypeError","Tracking","Untracked","Active","Paused","_this","dragConfig","isDragging","setContainerBounds","node","_this$dragConfig","isGlobal","global","boxSizing","bounds","minX","minY","maxX","window","innerWidth","maxY","innerHeight","getBoundingClientRect","computedStyle","getComputedStyle","left","parseInt","paddingLeft","top","paddingTop","right","paddingRight","bottom","paddingBottom","updatePosition","clientX","clientY","_this$bounds","x","y","begin","config","_ref","coords","noResume","onDrag","onDragEnd","onDragStart","tracking","startX","startY","resume","move","_this$dragConfig2","moveTolerance","dx","dy","Math","sqrt","type","blur","end","enter","leave","shape","string","bool","number","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dragConfigPropType = exports.Drag = exports.defaultDragConfig = exports[\"default\"] = void 0;\n\nvar _clamp = _interopRequireDefault(require(\"ramda/src/clamp\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tracking = {\n  Untracked: 0,\n  Active: 1,\n  Paused: 2\n};\n\nvar Drag = function Drag() {\n  var _this = this;\n\n  _classCallCheck(this, Drag);\n\n  this.dragConfig = null;\n\n  this.isDragging = function () {\n    return _this.dragConfig != null;\n  };\n\n  this.setContainerBounds = function (node) {\n    var _this$dragConfig = _this.dragConfig,\n        isGlobal = _this$dragConfig.global,\n        boxSizing = _this$dragConfig.boxSizing;\n    var bounds = null;\n    if (!node) return;\n\n    if (isGlobal) {\n      bounds = {\n        minX: 0,\n        minY: 0,\n        maxX: window.innerWidth,\n        maxY: window.innerHeight\n      };\n    } else {\n      bounds = node.getBoundingClientRect(); // adjust for padding when using content-box\n\n      if (boxSizing === 'content-box') {\n        var computedStyle = window.getComputedStyle(node);\n        bounds = {\n          minX: bounds.left + parseInt(computedStyle.paddingLeft),\n          minY: bounds.top + parseInt(computedStyle.paddingTop),\n          maxX: bounds.right - parseInt(computedStyle.paddingRight),\n          maxY: bounds.bottom - parseInt(computedStyle.paddingBottom)\n        };\n      }\n    }\n\n    _this.bounds = bounds;\n  };\n\n  this.updatePosition = function (clientX, clientY) {\n    var _this$bounds = _this.bounds,\n        maxX = _this$bounds.maxX,\n        maxY = _this$bounds.maxY,\n        minX = _this$bounds.minX,\n        minY = _this$bounds.minY;\n    var x = (0, _clamp[\"default\"])(minX, maxX, clientX) - minX;\n    var y = (0, _clamp[\"default\"])(minY, maxY, clientY) - minY;\n\n    if (x !== _this.x || y !== _this.y) {\n      _this.x = x;\n      _this.y = y;\n      return true;\n    }\n\n    return false;\n  };\n\n  this.begin = function (config, _ref, coords, node) {\n    var noResume = _ref.noResume,\n        onDrag = _ref.onDrag,\n        onDragEnd = _ref.onDragEnd,\n        onDragStart = _ref.onDragStart;\n    if (!onDrag && !onDragStart && !onDragEnd) return;\n    var x = coords.x,\n        y = coords.y;\n    _this.tracking = Tracking.Untracked;\n    _this.startX = x;\n    _this.startY = y;\n    _this.dragConfig = _objectSpread({}, config, {\n      node: node,\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      onDrag: onDrag,\n      resume: !noResume\n    });\n\n    _this.setContainerBounds(node);\n\n    _this.move(coords);\n  };\n\n  this.move = function (coords) {\n    if (!_this.isDragging()) return;\n    var _this$dragConfig2 = _this.dragConfig,\n        moveTolerance = _this$dragConfig2.moveTolerance,\n        onDrag = _this$dragConfig2.onDrag,\n        onDragStart = _this$dragConfig2.onDragStart;\n\n    if (_this.tracking === Tracking.Untracked) {\n      var dx = coords.x - _this.startX;\n      var dy = coords.y - _this.startY;\n\n      if (Math.sqrt(dx * dx + dy * dy) >= moveTolerance) {\n        _this.tracking = Tracking.Active;\n\n        if (onDragStart) {\n          onDragStart(_objectSpread({\n            type: 'onDragStart'\n          }, coords));\n        }\n      }\n    } else if (onDrag && _this.tracking === Tracking.Active && _this.updatePosition(coords)) {\n      onDrag(_objectSpread({\n        type: 'onDrag'\n      }, coords));\n    }\n  };\n\n  this.blur = function () {\n    if (!_this.isDragging()) return;\n\n    if (!_this.dragConfig.global) {\n      _this.end();\n    }\n  };\n\n  this.end = function () {\n    if (!_this.isDragging()) return;\n    var onDragEnd = _this.dragConfig.onDragEnd;\n\n    if (onDragEnd && _this.tracking !== Tracking.Untracked) {\n      onDragEnd({\n        type: 'onDragEnd'\n      });\n    }\n\n    _this.tracking = Tracking.Untracked;\n    _this.dragConfig = null;\n  };\n\n  this.enter = function () {\n    if (!_this.isDragging()) return;\n\n    if (_this.dragConfig.resume && _this.tracking === Tracking.Paused) {\n      _this.tracking = Tracking.Active;\n    }\n  };\n\n  this.leave = function () {\n    if (!_this.isDragging()) return;\n\n    if (!_this.dragConfig.global && _this.tracking === Tracking.Active) {\n      _this.tracking = Tracking.Paused;\n    }\n  };\n};\n\nexports.Drag = Drag;\nvar defaultDragConfig = {\n  boxSizing: 'border-box',\n  global: false,\n  moveTolerance: 16\n};\nexports.defaultDragConfig = defaultDragConfig;\n\nvar dragConfigPropType = _propTypes[\"default\"].shape({\n  boxSizing: _propTypes[\"default\"].string,\n  global: _propTypes[\"default\"].bool,\n  moveTolerance: _propTypes[\"default\"].number\n});\n\nexports.dragConfigPropType = dragConfigPropType;\nvar _default = Drag;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}