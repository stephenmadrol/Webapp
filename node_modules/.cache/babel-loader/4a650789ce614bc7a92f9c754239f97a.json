{"ast":null,"code":"\"use strict\";\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.spotlightDefaultClass = exports.SpotlightContainerDecorator = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pointer = require(\"../src/pointer\");\n\nvar _spotlight = _interopRequireDefault(require(\"../src/spotlight\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/**\n * The class name to apply to the default component to focus in a container.\n *\n * @memberof spotlight/SpotlightContainerDecorator\n * @public\n */\n\n\nvar spotlightDefaultClass = 'spottable-default';\nexports.spotlightDefaultClass = spotlightDefaultClass;\n\nvar isNewPointerPosition = function isNewPointerPosition(ev) {\n  return (0, _pointer.hasPointerMoved)(ev.clientX, ev.clientY);\n};\n\nvar not = function not(fn) {\n  return function () {\n    return !fn.apply(this, arguments);\n  };\n};\n/**\n * Default config for {@link spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator}\n *\n * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator\n * @hocconfig\n */\n\n\nvar defaultConfig = {\n  /**\n   * When `true`, allows focus to move outside the container to the next spottable element when\n   * holding 5 way keys.\n   *\n   * @type {Boolean}\n   * @default false\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  continue5WayHold: false,\n\n  /**\n   * The selector for the default spottable element within the container.\n   *\n   * @type {String}\n   * @default '.spottable-default'\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  defaultElement: \".\".concat(spotlightDefaultClass),\n\n  /**\n   * Directs which element receives focus when gaining focus from another container. If\n   * `'default-element'`, the default focused item will be selected. If `'last-focused'`, the\n   * container will focus the last focused item; if the container has never had focus, the default\n   * element will receive focus. If `null`, the default 5-way behavior will be applied.\n   *\n   * @type {String}\n   * @default null\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  enterTo: null,\n\n  /**\n   * Whether the container will preserve the id when it unmounts.\n   *\n   * @type {Boolean}\n   * @default false\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  preserveId: false\n};\n/**\n * Constructs a higher-order component that allows Spotlight focus to be passed to\n * its own configurable hierarchy of spottable child controls.\n *\n * Example:\n * ```\n *\tconst DefaultContainer = SpotlightContainerDecorator(Component);\n *\tconst FocusDefaultContainer = SpotlightContainerDecorator({enterTo: 'default-element'}, Component);\n * ```\n *\n * To specify a default element to spot in a container, utilize the `spotlightDefaultClass`.\n *\n * Example:\n * ```\n *\timport Spotlight from '@enact/spotlight';\n *\timport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\n *\tconst ContainerComponent = SpotlightContainerDecorator(Component);\n *\tconst View = kind({\n *\t\trender: () => {\n *\t\t\t<ContainerComponent>\n *\t\t\t\t<SpottableComponent>foo</SpottableComponent>\n *\t\t\t\t<SpottableComponent className={spotlightDefaultClass}>spot me first</SpottableComponent>\n *\t\t\t</ContainerComponent>\n *\t\t}\n *\t});\n * ```\n * @param  {Object}    defaultConfig  Set of default configuration parameters. Additional parameters\n *                                    are passed as configuration to {@link spotlight/Spotlight.set}\n * @param  {Function} higher-order component\n *\n * @returns {Function} SpotlightContainerDecorator\n * @class SpotlightContainerDecorator\n * @memberof spotlight/SpotlightContainerDecorator\n * @hoc\n */\n\nvar SpotlightContainerDecorator = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var _class, _temp;\n\n  var navigableFilter = config.navigableFilter,\n      preserveId = config.preserveId,\n      containerConfig = _objectWithoutProperties(config, [\"navigableFilter\", \"preserveId\"]);\n\n  var stateFromProps = function stateFromProps(_ref) {\n    var spotlightId = _ref.spotlightId,\n        spotlightRestrict = _ref.spotlightRestrict;\n    var options = {\n      restrict: spotlightRestrict\n    };\n\n    var id = _spotlight[\"default\"].add(spotlightId || options, options);\n\n    return {\n      id: id,\n      preserveId: preserveId && id === spotlightId,\n      spotlightRestrict: spotlightRestrict\n    };\n  };\n\n  var releaseContainer = function releaseContainer(_ref2) {\n    var preserve = _ref2.preserveId,\n        id = _ref2.id;\n\n    if (preserve) {\n      _spotlight[\"default\"].unmount(id);\n    } else {\n      _spotlight[\"default\"].remove(id);\n    }\n  };\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class(props) {\n      var _this;\n\n      _classCallCheck(this, _class);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this, props));\n\n      _this.navigableFilter = function (elem) {\n        // If the component to which this was applied specified a navigableFilter, run it\n        if (typeof navigableFilter === 'function') {\n          if (navigableFilter(elem, _this.props, _this.context) === false) {\n            return false;\n          }\n        }\n\n        return true;\n      };\n\n      _this.silentBlur = function (_ref3) {\n        var target = _ref3.target;\n        _this.shouldPreventBlur = true;\n        target.blur();\n        _this.shouldPreventBlur = false;\n      };\n\n      _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n      _this.handleBlur = _this.handle(function () {\n        return _this.shouldPreventBlur;\n      }, _handle.stop);\n      _this.handleFocus = _this.handle((0, _handle.forProp)('spotlightDisabled', true), _handle.stop, _this.silentBlur);\n      _this.handleMouseEnter = _this.handle((0, _handle.forward)('onMouseEnter'), isNewPointerPosition, function () {\n        return _spotlight[\"default\"].setActiveContainer(_this.state.id);\n      });\n      _this.handleMouseLeave = _this.handle((0, _handle.forward)('onMouseLeave'), not((0, _handle.forProp)('spotlightRestrict', 'self-only')), isNewPointerPosition, function (ev) {\n        var parentContainer = ev.currentTarget.parentNode.closest('[data-spotlight-container]');\n\n        var activeContainer = _spotlight[\"default\"].getActiveContainer(); // if this container is wrapped by another and this is the currently active\n        // container, move the active container to the parent\n\n\n        if (parentContainer && activeContainer === _this.state.id) {\n          activeContainer = parentContainer.dataset.spotlightId;\n\n          _spotlight[\"default\"].setActiveContainer(activeContainer);\n        }\n      });\n      _this.state = stateFromProps(props); // Used to indicate that we want to stop propagation on blur events that occur as a\n      // result of this component imperatively blurring itself on focus when spotlightDisabled\n\n      _this.shouldPreventBlur = false;\n\n      var cfg = _objectSpread({}, containerConfig, {\n        navigableFilter: _this.navigableFilter\n      });\n\n      _spotlight[\"default\"].set(_this.state.id, cfg);\n\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        releaseContainer(this.state);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            spotlightDisabled = _this$props.spotlightDisabled,\n            spotlightMuted = _this$props.spotlightMuted,\n            rest = _objectWithoutProperties(_this$props, [\"spotlightDisabled\", \"spotlightMuted\"]);\n\n        delete rest.containerId;\n        delete rest.spotlightId;\n        delete rest.spotlightRestrict;\n        rest['data-spotlight-container'] = true;\n        rest['data-spotlight-id'] = this.state.id;\n        rest.onBlurCapture = this.handleBlur;\n        rest.onFocusCapture = this.handleFocus;\n        rest.onMouseEnter = this.handleMouseEnter;\n        rest.onMouseLeave = this.handleMouseLeave;\n\n        if (spotlightDisabled) {\n          rest['data-spotlight-container-disabled'] = spotlightDisabled;\n        }\n\n        if (spotlightMuted) {\n          rest['data-spotlight-container-muted'] = spotlightMuted;\n        }\n\n        return _react[\"default\"].createElement(Wrapped, rest);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var id = props.spotlightId,\n            spotlightRestrict = props.spotlightRestrict;\n        var prevId = state.id,\n            prevSpotlightRestrict = state.spotlightRestrict; // prevId will only be undefined the first render so this prevents releasing the\n        // container after initially creating it\n\n        var isIdChanged = prevId && id && prevId !== id;\n\n        if (isIdChanged) {\n          releaseContainer(state);\n        }\n\n        if (isIdChanged || spotlightRestrict !== prevSpotlightRestrict) {\n          return stateFromProps(_objectSpread({\n            spotlightId: prevId,\n            spotlightRestrict: prevSpotlightRestrict\n          }, props));\n        } else {\n          return null;\n        }\n      }\n    }]);\n\n    return _class;\n  }(_react[\"default\"].Component), _class.displayName = 'SpotlightContainerDecorator', _class.propTypes =\n  /** @lends spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.prototype */\n  {\n    /**\n     * When `true`, controls in the container cannot be navigated.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    spotlightDisabled: _propTypes[\"default\"].bool,\n\n    /**\n     * Used to identify this component within the Spotlight system.\n     *\n     * If the value is `null`, an id will be generated.\n     *\n     * @type {String}\n     * @public\n     */\n    spotlightId: _propTypes[\"default\"].string,\n\n    /**\n     * Whether or not the container is in muted mode.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    spotlightMuted: _propTypes[\"default\"].bool,\n\n    /**\n     * Restricts or prioritizes navigation when focus attempts to leave the container. It\n     * can be either 'none', 'self-first', or 'self-only'. Specifying 'self-first' indicates that\n     * elements within the container will have a higher likelihood to be chosen as the next\n     * navigable element. Specifying 'self-only' indicates that elements in other containers\n     * cannot be navigated to by using 5-way navigation - however, elements in other containers\n     * can still receive focus by calling `Spotlight.focus(elem)` explicitly. Specying 'none'\n     * indicates there should be no restrictions when 5-way navigating the container.\n     *\n     * @type {String}\n     * @public\n     */\n    spotlightRestrict: _propTypes[\"default\"].oneOf(['none', 'self-first', 'self-only'])\n  }, _class.defaultProps = {\n    spotlightDisabled: false,\n    spotlightMuted: false,\n    spotlightRestrict: 'self-first'\n  }, _temp;\n});\nexports.SpotlightContainerDecorator = SpotlightContainerDecorator;\nvar _default = SpotlightContainerDecorator;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/cdi/stephen/node_modules/@enact/spotlight/SpotlightContainerDecorator/SpotlightContainerDecorator.js"],"names":["Object","defineProperty","exports","value","spotlightDefaultClass","SpotlightContainerDecorator","_handle","require","_hoc","_interopRequireDefault","_react","_propTypes","_pointer","_spotlight","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","isNewPointerPosition","ev","hasPointerMoved","clientX","clientY","not","fn","apply","defaultConfig","continue5WayHold","defaultElement","enterTo","preserveId","config","Wrapped","_class","_temp","navigableFilter","containerConfig","stateFromProps","_ref","spotlightId","spotlightRestrict","options","restrict","id","add","releaseContainer","_ref2","preserve","unmount","remove","_React$Component","_this","elem","context","silentBlur","_ref3","shouldPreventBlur","blur","handle","bind","handleBlur","stop","handleFocus","forProp","handleMouseEnter","forward","setActiveContainer","state","handleMouseLeave","parentContainer","currentTarget","parentNode","closest","activeContainer","getActiveContainer","dataset","cfg","set","componentWillUnmount","render","_this$props","spotlightDisabled","spotlightMuted","rest","containerId","onBlurCapture","onFocusCapture","onMouseEnter","onMouseLeave","createElement","getDerivedStateFromProps","prevId","prevSpotlightRestrict","isIdChanged","Component","displayName","propTypes","bool","string","oneOf","defaultProps","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.spotlightDefaultClass = exports.SpotlightContainerDecorator = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pointer = require(\"../src/pointer\");\n\nvar _spotlight = _interopRequireDefault(require(\"../src/spotlight\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/**\n * The class name to apply to the default component to focus in a container.\n *\n * @memberof spotlight/SpotlightContainerDecorator\n * @public\n */\nvar spotlightDefaultClass = 'spottable-default';\nexports.spotlightDefaultClass = spotlightDefaultClass;\n\nvar isNewPointerPosition = function isNewPointerPosition(ev) {\n  return (0, _pointer.hasPointerMoved)(ev.clientX, ev.clientY);\n};\n\nvar not = function not(fn) {\n  return function () {\n    return !fn.apply(this, arguments);\n  };\n};\n/**\n * Default config for {@link spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator}\n *\n * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator\n * @hocconfig\n */\n\n\nvar defaultConfig = {\n  /**\n   * When `true`, allows focus to move outside the container to the next spottable element when\n   * holding 5 way keys.\n   *\n   * @type {Boolean}\n   * @default false\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  continue5WayHold: false,\n\n  /**\n   * The selector for the default spottable element within the container.\n   *\n   * @type {String}\n   * @default '.spottable-default'\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  defaultElement: \".\".concat(spotlightDefaultClass),\n\n  /**\n   * Directs which element receives focus when gaining focus from another container. If\n   * `'default-element'`, the default focused item will be selected. If `'last-focused'`, the\n   * container will focus the last focused item; if the container has never had focus, the default\n   * element will receive focus. If `null`, the default 5-way behavior will be applied.\n   *\n   * @type {String}\n   * @default null\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  enterTo: null,\n\n  /**\n   * Whether the container will preserve the id when it unmounts.\n   *\n   * @type {Boolean}\n   * @default false\n   * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n   * @public\n   */\n  preserveId: false\n};\n/**\n * Constructs a higher-order component that allows Spotlight focus to be passed to\n * its own configurable hierarchy of spottable child controls.\n *\n * Example:\n * ```\n *\tconst DefaultContainer = SpotlightContainerDecorator(Component);\n *\tconst FocusDefaultContainer = SpotlightContainerDecorator({enterTo: 'default-element'}, Component);\n * ```\n *\n * To specify a default element to spot in a container, utilize the `spotlightDefaultClass`.\n *\n * Example:\n * ```\n *\timport Spotlight from '@enact/spotlight';\n *\timport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\n *\tconst ContainerComponent = SpotlightContainerDecorator(Component);\n *\tconst View = kind({\n *\t\trender: () => {\n *\t\t\t<ContainerComponent>\n *\t\t\t\t<SpottableComponent>foo</SpottableComponent>\n *\t\t\t\t<SpottableComponent className={spotlightDefaultClass}>spot me first</SpottableComponent>\n *\t\t\t</ContainerComponent>\n *\t\t}\n *\t});\n * ```\n * @param  {Object}    defaultConfig  Set of default configuration parameters. Additional parameters\n *                                    are passed as configuration to {@link spotlight/Spotlight.set}\n * @param  {Function} higher-order component\n *\n * @returns {Function} SpotlightContainerDecorator\n * @class SpotlightContainerDecorator\n * @memberof spotlight/SpotlightContainerDecorator\n * @hoc\n */\n\nvar SpotlightContainerDecorator = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var _class, _temp;\n\n  var navigableFilter = config.navigableFilter,\n      preserveId = config.preserveId,\n      containerConfig = _objectWithoutProperties(config, [\"navigableFilter\", \"preserveId\"]);\n\n  var stateFromProps = function stateFromProps(_ref) {\n    var spotlightId = _ref.spotlightId,\n        spotlightRestrict = _ref.spotlightRestrict;\n    var options = {\n      restrict: spotlightRestrict\n    };\n\n    var id = _spotlight[\"default\"].add(spotlightId || options, options);\n\n    return {\n      id: id,\n      preserveId: preserveId && id === spotlightId,\n      spotlightRestrict: spotlightRestrict\n    };\n  };\n\n  var releaseContainer = function releaseContainer(_ref2) {\n    var preserve = _ref2.preserveId,\n        id = _ref2.id;\n\n    if (preserve) {\n      _spotlight[\"default\"].unmount(id);\n    } else {\n      _spotlight[\"default\"].remove(id);\n    }\n  };\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class(props) {\n      var _this;\n\n      _classCallCheck(this, _class);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this, props));\n\n      _this.navigableFilter = function (elem) {\n        // If the component to which this was applied specified a navigableFilter, run it\n        if (typeof navigableFilter === 'function') {\n          if (navigableFilter(elem, _this.props, _this.context) === false) {\n            return false;\n          }\n        }\n\n        return true;\n      };\n\n      _this.silentBlur = function (_ref3) {\n        var target = _ref3.target;\n        _this.shouldPreventBlur = true;\n        target.blur();\n        _this.shouldPreventBlur = false;\n      };\n\n      _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n      _this.handleBlur = _this.handle(function () {\n        return _this.shouldPreventBlur;\n      }, _handle.stop);\n      _this.handleFocus = _this.handle((0, _handle.forProp)('spotlightDisabled', true), _handle.stop, _this.silentBlur);\n      _this.handleMouseEnter = _this.handle((0, _handle.forward)('onMouseEnter'), isNewPointerPosition, function () {\n        return _spotlight[\"default\"].setActiveContainer(_this.state.id);\n      });\n      _this.handleMouseLeave = _this.handle((0, _handle.forward)('onMouseLeave'), not((0, _handle.forProp)('spotlightRestrict', 'self-only')), isNewPointerPosition, function (ev) {\n        var parentContainer = ev.currentTarget.parentNode.closest('[data-spotlight-container]');\n\n        var activeContainer = _spotlight[\"default\"].getActiveContainer(); // if this container is wrapped by another and this is the currently active\n        // container, move the active container to the parent\n\n\n        if (parentContainer && activeContainer === _this.state.id) {\n          activeContainer = parentContainer.dataset.spotlightId;\n\n          _spotlight[\"default\"].setActiveContainer(activeContainer);\n        }\n      });\n      _this.state = stateFromProps(props); // Used to indicate that we want to stop propagation on blur events that occur as a\n      // result of this component imperatively blurring itself on focus when spotlightDisabled\n\n      _this.shouldPreventBlur = false;\n\n      var cfg = _objectSpread({}, containerConfig, {\n        navigableFilter: _this.navigableFilter\n      });\n\n      _spotlight[\"default\"].set(_this.state.id, cfg);\n\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        releaseContainer(this.state);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            spotlightDisabled = _this$props.spotlightDisabled,\n            spotlightMuted = _this$props.spotlightMuted,\n            rest = _objectWithoutProperties(_this$props, [\"spotlightDisabled\", \"spotlightMuted\"]);\n\n        delete rest.containerId;\n        delete rest.spotlightId;\n        delete rest.spotlightRestrict;\n        rest['data-spotlight-container'] = true;\n        rest['data-spotlight-id'] = this.state.id;\n        rest.onBlurCapture = this.handleBlur;\n        rest.onFocusCapture = this.handleFocus;\n        rest.onMouseEnter = this.handleMouseEnter;\n        rest.onMouseLeave = this.handleMouseLeave;\n\n        if (spotlightDisabled) {\n          rest['data-spotlight-container-disabled'] = spotlightDisabled;\n        }\n\n        if (spotlightMuted) {\n          rest['data-spotlight-container-muted'] = spotlightMuted;\n        }\n\n        return _react[\"default\"].createElement(Wrapped, rest);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var id = props.spotlightId,\n            spotlightRestrict = props.spotlightRestrict;\n        var prevId = state.id,\n            prevSpotlightRestrict = state.spotlightRestrict; // prevId will only be undefined the first render so this prevents releasing the\n        // container after initially creating it\n\n        var isIdChanged = prevId && id && prevId !== id;\n\n        if (isIdChanged) {\n          releaseContainer(state);\n        }\n\n        if (isIdChanged || spotlightRestrict !== prevSpotlightRestrict) {\n          return stateFromProps(_objectSpread({\n            spotlightId: prevId,\n            spotlightRestrict: prevSpotlightRestrict\n          }, props));\n        } else {\n          return null;\n        }\n      }\n    }]);\n\n    return _class;\n  }(_react[\"default\"].Component), _class.displayName = 'SpotlightContainerDecorator', _class.propTypes =\n  /** @lends spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.prototype */\n  {\n    /**\n     * When `true`, controls in the container cannot be navigated.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    spotlightDisabled: _propTypes[\"default\"].bool,\n\n    /**\n     * Used to identify this component within the Spotlight system.\n     *\n     * If the value is `null`, an id will be generated.\n     *\n     * @type {String}\n     * @public\n     */\n    spotlightId: _propTypes[\"default\"].string,\n\n    /**\n     * Whether or not the container is in muted mode.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    spotlightMuted: _propTypes[\"default\"].bool,\n\n    /**\n     * Restricts or prioritizes navigation when focus attempts to leave the container. It\n     * can be either 'none', 'self-first', or 'self-only'. Specifying 'self-first' indicates that\n     * elements within the container will have a higher likelihood to be chosen as the next\n     * navigable element. Specifying 'self-only' indicates that elements in other containers\n     * cannot be navigated to by using 5-way navigation - however, elements in other containers\n     * can still receive focus by calling `Spotlight.focus(elem)` explicitly. Specying 'none'\n     * indicates there should be no restrictions when 5-way navigating the container.\n     *\n     * @type {String}\n     * @public\n     */\n    spotlightRestrict: _propTypes[\"default\"].oneOf(['none', 'self-first', 'self-only'])\n  }, _class.defaultProps = {\n    spotlightDisabled: false,\n    spotlightMuted: false,\n    spotlightRestrict: 'self-first'\n  }, _temp;\n});\nexports.SpotlightContainerDecorator = SpotlightContainerDecorator;\nvar _default = SpotlightContainerDecorator;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}