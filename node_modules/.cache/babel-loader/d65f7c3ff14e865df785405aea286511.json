{"ast":null,"code":"\"use strict\";\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VirtualListBaseNative = exports.VirtualListBase = exports.ScrollableVirtualListNative = exports.ScrollableVirtualList = exports.gridListItemSizeShape = exports[\"default\"] = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _equals = _interopRequireDefault(require(\"ramda/src/equals\"));\n\nvar _platform = require(\"@enact/core/platform\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Scrollable = _interopRequireDefault(require(\"../Scrollable\"));\n\nvar _ScrollableNative = _interopRequireDefault(require(\"../Scrollable/ScrollableNative\"));\n\nvar _VirtualListModule = _interopRequireDefault(require(\"./VirtualList.module.css\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar nop = function nop() {},\n    JS = 'JS',\n    Native = 'Native';\n/**\n * The shape for the grid list item size\n * in a list for [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @typedef {Object} gridListItemSizeShape\n * @memberof ui/VirtualList\n * @property {Number}    minWidth    The minimum width of the grid list item.\n * @property {Number}    minHeight    The minimum height of the grid list item.\n * @public\n */\n\n\nvar gridListItemSizeShape = _propTypes[\"default\"].shape({\n  minHeight: _propTypes[\"default\"].number.isRequired,\n  minWidth: _propTypes[\"default\"].number.isRequired\n});\n/**\n * The base version of the virtual list component.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\n\n\nexports.gridListItemSizeShape = gridListItemSizeShape;\n\nvar VirtualListBaseFactory = function VirtualListBaseFactory(type) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(VirtualListCore, _Component);\n    /* No displayName here. We set displayName to returned components of this factory function. */\n\n\n    function VirtualListCore(_props) {\n      var _this;\n\n      _classCallCheck(this, VirtualListCore);\n\n      var nextState = null;\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(VirtualListCore).call(this, _props));\n      _this.scrollBounds = {\n        clientWidth: 0,\n        clientHeight: 0,\n        scrollWidth: 0,\n        scrollHeight: 0,\n        maxLeft: 0,\n        maxTop: 0\n      };\n      _this.moreInfo = {\n        firstVisibleIndex: null,\n        lastVisibleIndex: null\n      };\n      _this.primary = null;\n      _this.secondary = null;\n      _this.isPrimaryDirectionVertical = true;\n      _this.isItemSized = false;\n      _this.dimensionToExtent = 0;\n      _this.threshold = 0;\n      _this.maxFirstIndex = 0;\n      _this.curDataSize = 0;\n      _this.hasDataSizeChanged = false;\n      _this.cc = [];\n      _this.scrollPosition = 0;\n\n      _this.isVertical = function () {\n        return _this.isPrimaryDirectionVertical;\n      };\n\n      _this.isHorizontal = function () {\n        return !_this.isPrimaryDirectionVertical;\n      };\n\n      _this.getScrollBounds = function () {\n        return _this.scrollBounds;\n      };\n\n      _this.getMoreInfo = function () {\n        return _this.moreInfo;\n      };\n\n      _this.getItemPosition = function (index) {\n        var stickTo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'start';\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            primary = _assertThisInitialize.primary,\n            position = _this.getGridPosition(index),\n            offset = stickTo === 'start' ? 0 : primary.clientSize - primary.itemSize;\n\n        position.primaryPosition -= offset;\n        return _this.gridPositionToItemPosition(position);\n      };\n\n      _this.gridPositionToItemPosition = function (_ref) {\n        var primaryPosition = _ref.primaryPosition,\n            secondaryPosition = _ref.secondaryPosition;\n        return _this.isPrimaryDirectionVertical ? {\n          left: secondaryPosition,\n          top: primaryPosition\n        } : {\n          left: primaryPosition,\n          top: secondaryPosition\n        };\n      };\n\n      _this.getXY = function (primaryPosition, secondaryPosition) {\n        return _this.isPrimaryDirectionVertical ? {\n          x: secondaryPosition,\n          y: primaryPosition\n        } : {\n          x: primaryPosition,\n          y: secondaryPosition\n        };\n      };\n\n      _this.getClientSize = function (node) {\n        return {\n          clientWidth: node.clientWidth,\n          clientHeight: node.clientHeight\n        };\n      };\n\n      _this.getStatesAndUpdateBounds = function (props) {\n        var firstIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        var dataSize = props.dataSize,\n            overhang = props.overhang,\n            updateStatesAndBounds = props.updateStatesAndBounds,\n            _assertThisInitialize2 = _assertThisInitialized(_this),\n            dimensionToExtent = _assertThisInitialize2.dimensionToExtent,\n            primary = _assertThisInitialize2.primary,\n            moreInfo = _assertThisInitialize2.moreInfo,\n            scrollPosition = _assertThisInitialize2.scrollPosition,\n            numOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n            wasFirstIndexMax = _this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent && firstIndex === _this.maxFirstIndex,\n            dataSizeDiff = dataSize - _this.curDataSize;\n\n        var newFirstIndex = firstIndex;\n        _this.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n        _this.curDataSize = dataSize; // reset children\n\n        _this.cc = [];\n\n        _this.calculateScrollBounds(props);\n\n        _this.updateMoreInfo(dataSize, scrollPosition);\n\n        if (!(updateStatesAndBounds && updateStatesAndBounds({\n          cbScrollTo: props.cbScrollTo,\n          numOfItems: numOfItems,\n          dataSize: dataSize,\n          moreInfo: moreInfo\n        }))) {\n          newFirstIndex = _this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n        }\n\n        return {\n          firstIndex: newFirstIndex,\n          numOfItems: numOfItems\n        };\n      };\n\n      _this.setContainerSize = function () {\n        if (_this.contentRef.current) {\n          _this.contentRef.current.style.width = _this.scrollBounds.scrollWidth + (_this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n          _this.contentRef.current.style.height = _this.scrollBounds.scrollHeight + (_this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n        }\n      };\n\n      _this.getItemNode = function (index) {\n        var ref = _this.itemContainerRef.current;\n        return ref ? ref.children[index % _this.state.numOfItems] : null;\n      };\n\n      _this.applyStyleToNewNode = function (index) {\n        var _this2;\n\n        var _this$props = _this.props,\n            itemRenderer = _this$props.itemRenderer,\n            getComponentProps = _this$props.getComponentProps,\n            key = index % _this.state.numOfItems,\n            itemElement = itemRenderer(_objectSpread({}, _this.props.childProps, {\n          key: key,\n          index: index\n        })),\n            componentProps = getComponentProps && getComponentProps(index) || {};\n\n        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        _this.cc[key] = _react[\"default\"].cloneElement(itemElement, _objectSpread({}, componentProps, {\n          className: (0, _classnames[\"default\"])(_VirtualListModule[\"default\"].listItem, itemElement.props.className),\n          style: _objectSpread({}, itemElement.props.style, (_this2 = _this).composeStyle.apply(_this2, rest))\n        }));\n      };\n\n      _this.applyStyleToHideNode = function (index) {\n        var key = index % _this.state.numOfItems;\n        _this.cc[key] = _react[\"default\"].createElement(\"div\", {\n          key: key,\n          style: {\n            display: 'none'\n          }\n        });\n      };\n\n      _this.getScrollHeight = function () {\n        return _this.isPrimaryDirectionVertical ? _this.getVirtualScrollDimension() : _this.scrollBounds.clientHeight;\n      };\n\n      _this.getScrollWidth = function () {\n        return _this.isPrimaryDirectionVertical ? _this.scrollBounds.clientWidth : _this.getVirtualScrollDimension();\n      };\n\n      _this.getVirtualScrollDimension = function () {\n        var _assertThisInitialize3 = _assertThisInitialized(_this),\n            dimensionToExtent = _assertThisInitialize3.dimensionToExtent,\n            primary = _assertThisInitialize3.primary,\n            curDataSize = _assertThisInitialize3.curDataSize,\n            spacing = _this.props.spacing;\n\n        return Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize - spacing;\n      };\n\n      _this.syncClientSize = function () {\n        var _assertThisInitialize4 = _assertThisInitialized(_this),\n            props = _assertThisInitialize4.props,\n            node = _this.containerRef.current;\n\n        if (!props.clientSize && !node) {\n          return false;\n        }\n\n        var _ref2 = props.clientSize || _this.getClientSize(node),\n            clientWidth = _ref2.clientWidth,\n            clientHeight = _ref2.clientHeight,\n            _assertThisInitialize5 = _assertThisInitialized(_this),\n            scrollBounds = _assertThisInitialize5.scrollBounds;\n\n        if (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n          _this.calculateMetrics(props);\n\n          _this.setState(_this.getStatesAndUpdateBounds(props));\n\n          _this.setContainerSize();\n\n          return true;\n        }\n\n        return false;\n      };\n\n      _this.mergeClasses = function (className) {\n        var containerClass = null;\n\n        if (type === Native) {\n          containerClass = _this.isPrimaryDirectionVertical ? _VirtualListModule[\"default\"].vertical : _VirtualListModule[\"default\"].horizontal;\n        }\n\n        return (0, _classnames[\"default\"])(_VirtualListModule[\"default\"].virtualList, containerClass, className);\n      };\n\n      _this.containerRef = _react[\"default\"].createRef();\n      _this.contentRef = _react[\"default\"].createRef();\n      _this.itemContainerRef = _react[\"default\"].createRef();\n\n      if (_props.clientSize) {\n        _this.calculateMetrics(_props);\n\n        nextState = _this.getStatesAndUpdateBounds(_props);\n      }\n\n      _this.state = _objectSpread({\n        firstIndex: 0,\n        numOfItems: 0,\n        prevChildProps: null,\n        prevFirstIndex: 0,\n        updateFrom: 0,\n        updateTo: 0\n      }, nextState);\n      return _this;\n    }\n\n    _createClass(VirtualListCore, [{\n      key: \"componentDidMount\",\n      // Calculate metrics for VirtualList after the 1st render to know client W/H.\n      value: function componentDidMount() {\n        if (!this.props.clientSize) {\n          this.calculateMetrics(this.props); // eslint-disable-next-line react/no-did-mount-set-state\n\n          this.setState(this.getStatesAndUpdateBounds(this.props));\n        }\n\n        this.setContainerSize();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // TODO: remove `this.hasDataSizeChanged` and fix ui/Scrollable*\n        this.hasDataSizeChanged = prevProps.dataSize !== this.props.dataSize;\n\n        if (prevProps.direction !== this.props.direction || prevProps.overhang !== this.props.overhang || prevProps.spacing !== this.props.spacing || !(0, _equals[\"default\"])(prevProps.itemSize, this.props.itemSize)) {\n          this.calculateMetrics(this.props); // eslint-disable-next-line react/no-did-update-set-state\n\n          this.setState(this.getStatesAndUpdateBounds(this.props));\n          this.setContainerSize();\n        } else if (this.hasDataSizeChanged) {\n          var newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex); // eslint-disable-next-line react/no-did-update-set-state\n\n          this.setState(newState);\n          this.setContainerSize();\n        } else if (prevProps.rtl !== this.props.rtl) {\n          var _this$getXY = this.getXY(this.scrollPosition, 0),\n              x = _this$getXY.x,\n              y = _this$getXY.y;\n\n          if (type === Native) {\n            this.scrollToPosition(x, y, this.props.rtl);\n          } else {\n            this.setScrollPosition(x, y, this.props.rtl);\n          }\n        }\n      }\n    }, {\n      key: \"getGridPosition\",\n      value: function getGridPosition(index) {\n        var dimensionToExtent = this.dimensionToExtent,\n            primary = this.primary,\n            secondary = this.secondary,\n            primaryPosition = Math.floor(index / dimensionToExtent) * primary.gridSize,\n            secondaryPosition = index % dimensionToExtent * secondary.gridSize;\n        return {\n          primaryPosition: primaryPosition,\n          secondaryPosition: secondaryPosition\n        };\n      }\n    }, {\n      key: \"calculateMetrics\",\n      value: function calculateMetrics(props) {\n        var clientSize = props.clientSize,\n            direction = props.direction,\n            itemSize = props.itemSize,\n            spacing = props.spacing,\n            node = this.containerRef.current;\n\n        if (!clientSize && !node) {\n          return;\n        }\n\n        var _ref3 = clientSize || this.getClientSize(node),\n            clientWidth = _ref3.clientWidth,\n            clientHeight = _ref3.clientHeight,\n            heightInfo = {\n          clientSize: clientHeight,\n          minItemSize: itemSize.minHeight || null,\n          itemSize: itemSize\n        },\n            widthInfo = {\n          clientSize: clientWidth,\n          minItemSize: itemSize.minWidth || null,\n          itemSize: itemSize\n        };\n\n        var primary, secondary, dimensionToExtent, thresholdBase;\n        this.isPrimaryDirectionVertical = direction === 'vertical';\n\n        if (this.isPrimaryDirectionVertical) {\n          primary = heightInfo;\n          secondary = widthInfo;\n        } else {\n          primary = widthInfo;\n          secondary = heightInfo;\n        }\n\n        dimensionToExtent = 1;\n        this.isItemSized = primary.minItemSize && secondary.minItemSize;\n\n        if (this.isItemSized) {\n          // the number of columns is the ratio of the available width plus the spacing\n          // by the minimum item width plus the spacing\n          dimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1); // the actual item width is a ratio of the remaining width after all columns\n          // and spacing are accounted for and the number of columns that we know we should have\n\n          secondary.itemSize = Math.floor((secondary.clientSize - spacing * (dimensionToExtent - 1)) / dimensionToExtent); // the actual item height is related to the item width\n\n          primary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n        }\n\n        primary.gridSize = primary.itemSize + spacing;\n        secondary.gridSize = secondary.itemSize + spacing;\n        thresholdBase = primary.gridSize * 2;\n        this.threshold = {\n          min: -Infinity,\n          max: thresholdBase,\n          base: thresholdBase\n        };\n        this.dimensionToExtent = dimensionToExtent;\n        this.primary = primary;\n        this.secondary = secondary; // reset\n\n        this.scrollPosition = 0;\n\n        if (type === JS && this.contentRef.current) {\n          this.contentRef.current.style.transform = null;\n        }\n      }\n    }, {\n      key: \"calculateFirstIndex\",\n      value: function calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n        var overhang = props.overhang,\n            dimensionToExtent = this.dimensionToExtent,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            maxFirstIndex = this.maxFirstIndex,\n            primary = this.primary,\n            scrollBounds = this.scrollBounds,\n            scrollPosition = this.scrollPosition,\n            threshold = this.threshold,\n            gridSize = primary.gridSize;\n        var newFirstIndex = firstIndex;\n\n        if (wasFirstIndexMax && dataSizeDiff > 0) {\n          // If dataSize increased from bottom, we need adjust firstIndex\n          // If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n          if (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n            newFirstIndex = maxFirstIndex;\n          } else {\n            // For other bottom adding case, we need to update firstIndex and threshold.\n            var maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n                maxOfMin = maxPos - threshold.base,\n                numOfUpperLine = Math.floor(overhang / 2),\n                firstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n                expectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine); // To navigate with 5way, we need to adjust firstIndex to the next line\n            // since at the bottom we have num of overhang lines for upper side but none for bottom side\n            // So we add numOfUpperLine at the top and rest lines at the bottom\n\n            newFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent); // We need to update threshold also since we moved the firstIndex\n\n            threshold.max = Math.min(maxPos, threshold.max + gridSize);\n            threshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n          }\n        } else {\n          // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n          newFirstIndex = Math.min(firstIndex, maxFirstIndex);\n        }\n\n        return newFirstIndex;\n      }\n    }, {\n      key: \"calculateScrollBounds\",\n      value: function calculateScrollBounds(props) {\n        var clientSize = props.clientSize,\n            node = this.containerRef.current;\n\n        if (!clientSize && !node) {\n          return;\n        }\n\n        var scrollBounds = this.scrollBounds,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            _ref4 = clientSize || this.getClientSize(node),\n            clientWidth = _ref4.clientWidth,\n            clientHeight = _ref4.clientHeight;\n\n        var maxPos;\n        scrollBounds.clientWidth = clientWidth;\n        scrollBounds.clientHeight = clientHeight;\n        scrollBounds.scrollWidth = this.getScrollWidth();\n        scrollBounds.scrollHeight = this.getScrollHeight();\n        scrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n        scrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight); // correct position\n\n        maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n        this.syncThreshold(maxPos);\n\n        if (this.scrollPosition > maxPos) {\n          this.props.cbScrollTo({\n            position: isPrimaryDirectionVertical ? {\n              y: maxPos\n            } : {\n              x: maxPos\n            },\n            animate: false\n          });\n        }\n      }\n    }, {\n      key: \"updateMoreInfo\",\n      value: function updateMoreInfo(dataSize, primaryPosition) {\n        var dimensionToExtent = this.dimensionToExtent,\n            moreInfo = this.moreInfo,\n            _this$primary = this.primary,\n            itemSize = _this$primary.itemSize,\n            gridSize = _this$primary.gridSize,\n            clientSize = _this$primary.clientSize;\n\n        if (dataSize <= 0) {\n          moreInfo.firstVisibleIndex = null;\n          moreInfo.lastVisibleIndex = null;\n        } else {\n          moreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n          moreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n        }\n      }\n    }, {\n      key: \"syncThreshold\",\n      value: function syncThreshold(maxPos) {\n        var threshold = this.threshold;\n\n        if (threshold.max > maxPos) {\n          if (maxPos < threshold.base) {\n            threshold.max = threshold.base;\n            threshold.min = -Infinity;\n          } else {\n            threshold.max = maxPos;\n            threshold.min = maxPos - threshold.base;\n          }\n        }\n      } // Native only\n\n    }, {\n      key: \"scrollToPosition\",\n      value: function scrollToPosition(x, y) {\n        var rtl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.rtl;\n\n        if (this.containerRef.current) {\n          if (rtl) {\n            x = _platform.platform.ios || _platform.platform.safari ? -x : this.scrollBounds.maxLeft - x;\n          }\n\n          this.containerRef.current.scrollTo(x, y);\n        }\n      } // JS only\n\n    }, {\n      key: \"setScrollPosition\",\n      value: function setScrollPosition(x, y) {\n        var rtl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.rtl;\n\n        if (this.contentRef.current) {\n          this.contentRef.current.style.transform = \"translate3d(\".concat(rtl ? x : -x, \"px, -\").concat(y, \"px, 0)\");\n          this.didScroll(x, y);\n        }\n      }\n    }, {\n      key: \"didScroll\",\n      value: function didScroll(x, y) {\n        var dataSize = this.props.dataSize,\n            firstIndex = this.state.firstIndex,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            threshold = this.threshold,\n            dimensionToExtent = this.dimensionToExtent,\n            maxFirstIndex = this.maxFirstIndex,\n            scrollBounds = this.scrollBounds,\n            gridSize = this.primary.gridSize,\n            maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n        var newFirstIndex = firstIndex,\n            pos;\n\n        if (isPrimaryDirectionVertical) {\n          pos = y;\n        } else {\n          pos = x;\n        }\n\n        if (pos > threshold.max || pos < threshold.min) {\n          var overhangBefore = Math.floor(this.props.overhang / 2),\n              firstExtent = Math.max(0, Math.min(Math.floor(maxFirstIndex / dimensionToExtent), Math.floor((pos - gridSize * overhangBefore) / gridSize)));\n          var newThresholdMin, newThresholdMax;\n          newFirstIndex = firstExtent * dimensionToExtent;\n          newThresholdMin = (firstExtent + overhangBefore) * gridSize;\n          newThresholdMax = newThresholdMin + gridSize;\n          threshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n          threshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n        }\n\n        this.syncThreshold(maxPos);\n        this.scrollPosition = pos;\n        this.updateMoreInfo(dataSize, pos);\n\n        if (firstIndex !== newFirstIndex) {\n          this.setState({\n            firstIndex: newFirstIndex\n          });\n        }\n      }\n    }, {\n      key: \"composeStyle\",\n      value: function composeStyle(width, height, primaryPosition, secondaryPosition) {\n        var _this$getXY2 = this.getXY(primaryPosition, secondaryPosition),\n            x = _this$getXY2.x,\n            y = _this$getXY2.y,\n            style = {\n          position: 'absolute',\n\n          /* FIXME: RTL / this calculation only works for Chrome */\n          transform: \"translate3d(\".concat(this.props.rtl ? -x : x, \"px, \").concat(y, \"px, 0)\")\n        };\n\n        if (this.isItemSized) {\n          style.width = width;\n          style.height = height;\n        }\n\n        return style;\n      }\n    }, {\n      key: \"positionItems\",\n      value: function positionItems() {\n        var dataSize = this.props.dataSize,\n            _this$state = this.state,\n            firstIndex = _this$state.firstIndex,\n            numOfItems = _this$state.numOfItems,\n            cc = this.cc,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            dimensionToExtent = this.dimensionToExtent,\n            primary = this.primary,\n            secondary = this.secondary;\n        var hideTo = 0,\n            updateFrom = cc.length ? this.state.updateFrom : firstIndex,\n            updateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n        if (updateFrom >= updateTo) {\n          return;\n        } else if (updateTo > dataSize) {\n          hideTo = updateTo;\n          updateTo = dataSize;\n        }\n\n        var width,\n            height,\n            _this$getGridPosition = this.getGridPosition(updateFrom),\n            primaryPosition = _this$getGridPosition.primaryPosition,\n            secondaryPosition = _this$getGridPosition.secondaryPosition;\n\n        width = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n        height = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px'; // positioning items\n\n        for (var i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n          this.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n          if (++j === dimensionToExtent) {\n            secondaryPosition = 0;\n            primaryPosition += primary.gridSize;\n            j = 0;\n          } else {\n            secondaryPosition += secondary.gridSize;\n          }\n        }\n\n        for (var _i = updateTo; _i < hideTo; _i++) {\n          this.applyStyleToHideNode(_i);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props2 = this.props,\n            className = _this$props2.className,\n            voiceFocused = _this$props2['data-webos-voice-focused'],\n            voiceGroupLabel = _this$props2['data-webos-voice-group-label'],\n            itemsRenderer = _this$props2.itemsRenderer,\n            style = _this$props2.style,\n            rest = _objectWithoutProperties(_this$props2, [\"className\", \"data-webos-voice-focused\", \"data-webos-voice-group-label\", \"itemsRenderer\", \"style\"]),\n            cc = this.cc,\n            itemContainerRef = this.itemContainerRef,\n            primary = this.primary,\n            containerClasses = this.mergeClasses(className);\n\n        delete rest.cbScrollTo;\n        delete rest.childProps;\n        delete rest.clientSize;\n        delete rest.dataSize;\n        delete rest.direction;\n        delete rest.getComponentProps;\n        delete rest.isVerticalScrollbarVisible;\n        delete rest.itemRenderer;\n        delete rest.itemSize;\n        delete rest.onUpdate;\n        delete rest.overhang;\n        delete rest.pageScroll;\n        delete rest.rtl;\n        delete rest.spacing;\n        delete rest.updateStatesAndBounds;\n\n        if (primary) {\n          this.positionItems();\n        }\n\n        return _react[\"default\"].createElement(\"div\", {\n          className: containerClasses,\n          \"data-webos-voice-focused\": voiceFocused,\n          \"data-webos-voice-group-label\": voiceGroupLabel,\n          ref: this.containerRef,\n          style: style\n        }, _react[\"default\"].createElement(\"div\", Object.assign({}, rest, {\n          ref: this.contentRef\n        }), itemsRenderer({\n          cc: cc,\n          itemContainerRef: itemContainerRef,\n          primary: primary\n        })));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var shouldInvalidate = state.prevFirstIndex === state.firstIndex || state.prevChildProps !== props.childProps,\n            diff = state.firstIndex - state.prevFirstIndex,\n            updateTo = -state.numOfItems >= diff || diff > 0 || shouldInvalidate ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n            updateFrom = 0 >= diff || diff >= state.numOfItems || shouldInvalidate ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n            nextUpdateFromAndTo = state.updateFrom !== updateFrom || state.updateTo !== updateTo ? {\n          updateFrom: updateFrom,\n          updateTo: updateTo\n        } : null;\n        return _objectSpread({}, nextUpdateFromAndTo, {\n          prevChildProps: props.childProps,\n          prevFirstIndex: state.firstIndex\n        });\n      }\n    }]);\n\n    return VirtualListCore;\n  }(_react.Component), _class.propTypes =\n  /** @lends ui/VirtualList.VirtualListBase.prototype */\n  {\n    /**\n     * The rendering function called for each item in the list.\n     *\n     * > **Note**: The list does **not** always render a component whenever its render function is called\n     * due to performance optimization.\n     *\n     * Example:\n     * ```\n     * renderItem = ({index, ...rest}) => {\n     * \tdelete rest.data;\n     *\n     * \treturn (\n     * \t\t<MyComponent index={index} {...rest} />\n     * \t);\n     * }\n     * ```\n     *\n     * @type {Function}\n     * @param {Object}     event\n     * @param {Number}     event.data-index    It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n     * @param {Number}     event.index    The index number of the component to render\n     * @param {Number}     event.key    It MUST be passed as a prop to the root element in the component for DOM recycling.\n     *\n     * @required\n     * @public\n     */\n    itemRenderer: _propTypes[\"default\"].func.isRequired,\n\n    /**\n     * The size of an item for the list; valid values are either a number for `VirtualList`\n     * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n     *\n     * @type {Number|ui/VirtualList.gridListItemSizeShape}\n     * @required\n     * @private\n     */\n    itemSize: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, gridListItemSizeShape]).isRequired,\n\n    /**\n     * The render function for the items.\n     *\n     * @type {Function}\n     * @required\n     * @private\n     */\n    itemsRenderer: _propTypes[\"default\"].func.isRequired,\n\n    /**\n     * Callback method of scrollTo.\n     * Normally, [Scrollable]{@link ui/Scrollable.Scrollable} should set this value.\n     *\n     * @type {Function}\n     * @private\n     */\n    cbScrollTo: _propTypes[\"default\"].func,\n\n    /**\n     * Additional props included in the object passed to the `itemsRenderer` callback.\n     *\n     * @type {Object}\n     * @public\n     */\n    childProps: _propTypes[\"default\"].object,\n\n    /**\n     * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n     *\n     * @type {Object}\n     * @property {Number}    clientHeight    The client height of the list.\n     * @property {Number}    clientWidth    The client width of the list.\n     * @public\n     */\n    clientSize: _propTypes[\"default\"].shape({\n      clientHeight: _propTypes[\"default\"].number.isRequired,\n      clientWidth: _propTypes[\"default\"].number.isRequired\n    }),\n\n    /**\n     * Activates the component for voice control.\n     *\n     * @type {Boolean}\n     * @private\n     */\n    'data-webos-voice-focused': _propTypes[\"default\"].bool,\n\n    /**\n     * The voice control group label.\n     *\n     * @type {String}\n     * @private\n     */\n    'data-webos-voice-group-label': _propTypes[\"default\"].string,\n\n    /**\n     * The number of items of data the list contains.\n     *\n     * @type {Number}\n     * @default 0\n     * @public\n     */\n    dataSize: _propTypes[\"default\"].number,\n\n    /**\n     * The layout direction of the list.\n     *\n     * Valid values are:\n     * * `'horizontal'`, and\n     * * `'vertical'`.\n     *\n     * @type {String}\n     * @default 'vertical'\n     * @public\n     */\n    direction: _propTypes[\"default\"].oneOf(['horizontal', 'vertical']),\n\n    /**\n     * Called to get the props for list items.\n     *\n     * @type {Function}\n     * @private\n     */\n    getComponentProps: _propTypes[\"default\"].func,\n\n    /**\n     * Number of spare DOM node.\n     * `3` is good for the default value experimentally and\n     * this value is highly recommended not to be changed by developers.\n     *\n     * @type {Number}\n     * @default 3\n     * @private\n     */\n    overhang: _propTypes[\"default\"].number,\n\n    /**\n     * When `true`, the list will scroll by page.  Otherwise the list will scroll by item.\n     *\n     * @type {Boolean}\n     * @default false\n     * @private\n     */\n    pageScroll: _propTypes[\"default\"].bool,\n\n    /**\n     * `true` if RTL, `false` if LTR.\n     *\n     * @type {Boolean}\n     * @private\n     */\n    rtl: _propTypes[\"default\"].bool,\n\n    /**\n     * The spacing between items.\n     *\n     * @type {Number}\n     * @default 0\n     * @public\n     */\n    spacing: _propTypes[\"default\"].number,\n\n    /**\n     * Called to execute additional logic in a themed component when updating states and bounds.\n     *\n     * @type {Function}\n     * @private\n     */\n    updateStatesAndBounds: _propTypes[\"default\"].func\n  }, _class.defaultProps = {\n    cbScrollTo: nop,\n    dataSize: 0,\n    direction: 'vertical',\n    overhang: 3,\n    pageScroll: false,\n    spacing: 0\n  }, _temp;\n};\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\n\n\nvar VirtualListBase = VirtualListBaseFactory(JS);\nexports.VirtualListBase = VirtualListBase;\nVirtualListBase.displayName = 'ui:VirtualListBase';\n/**\n * A basic base component for\n * [VirtualListNative]{@link ui/VirtualList.VirtualListNative} and [VirtualGridListNative]{@link ui/VirtualList.VirtualGridListNative}.\n *\n * @class VirtualListBaseNative\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\n\nvar VirtualListBaseNative = VirtualListBaseFactory(Native);\nexports.VirtualListBaseNative = VirtualListBaseNative;\nVirtualListBaseNative.displayName = 'ui:VirtualListBaseNative';\n\nvar ScrollableVirtualList = function ScrollableVirtualList(props) {\n  return _react[\"default\"].createElement(_Scrollable[\"default\"], Object.assign({}, props, {\n    childRenderer: function childRenderer(_ref5) {\n      var initChildRef = _ref5.initChildRef,\n          rest = _objectWithoutProperties(_ref5, [\"initChildRef\"]);\n\n      return (// eslint-disable-line react/jsx-no-bind\n        _react[\"default\"].createElement(VirtualListBase, Object.assign({}, rest, {\n          itemsRenderer: function itemsRenderer(_ref6) {\n            var cc = _ref6.cc,\n                itemContainerRef = _ref6.itemContainerRef;\n            return (// eslint-disable-line react/jsx-no-bind\n              cc.length ? _react[\"default\"].createElement(\"div\", {\n                ref: itemContainerRef,\n                role: \"list\"\n              }, cc) : null\n            );\n          },\n          ref: initChildRef\n        }))\n      );\n    }\n  }));\n};\n\nexports.ScrollableVirtualList = ScrollableVirtualList;\nScrollableVirtualList.propTypes = {\n  direction: _propTypes[\"default\"].oneOf(['horizontal', 'vertical'])\n};\nScrollableVirtualList.defaultProps = {\n  direction: 'vertical'\n};\n\nvar ScrollableVirtualListNative = function ScrollableVirtualListNative(props) {\n  return _react[\"default\"].createElement(_ScrollableNative[\"default\"], Object.assign({}, props, {\n    childRenderer: function childRenderer(_ref7) {\n      var initChildRef = _ref7.initChildRef,\n          rest = _objectWithoutProperties(_ref7, [\"initChildRef\"]);\n\n      return (// eslint-disable-line react/jsx-no-bind\n        _react[\"default\"].createElement(VirtualListBaseNative, Object.assign({}, rest, {\n          itemsRenderer: function itemsRenderer(_ref8) {\n            var cc = _ref8.cc,\n                itemContainerRef = _ref8.itemContainerRef;\n            return (// eslint-disable-line react/jsx-no-bind\n              cc.length ? _react[\"default\"].createElement(\"div\", {\n                ref: itemContainerRef,\n                role: \"list\"\n              }, cc) : null\n            );\n          },\n          ref: initChildRef\n        }))\n      );\n    }\n  }));\n};\n\nexports.ScrollableVirtualListNative = ScrollableVirtualListNative;\nScrollableVirtualListNative.propTypes =\n/** @lends ui/VirtualList.VirtualListBaseNative.prototype */\n{\n  /**\n   * The layout direction of the list.\n   *\n   * Valid values are:\n   * * `'horizontal'`, and\n   * * `'vertical'`.\n   *\n   * @type {String}\n   * @default 'vertical'\n   * @public\n   */\n  direction: _propTypes[\"default\"].oneOf(['horizontal', 'vertical'])\n};\nScrollableVirtualListNative.defaultProps = {\n  direction: 'vertical'\n};\nvar _default = VirtualListBase;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/cdi/SteApp/node_modules/@enact/ui/VirtualList/VirtualListBase.js"],"names":["Object","defineProperty","exports","value","VirtualListBaseNative","VirtualListBase","ScrollableVirtualListNative","ScrollableVirtualList","gridListItemSizeShape","_classnames","_interopRequireDefault","require","_equals","_platform","_propTypes","_react","_interopRequireWildcard","_Scrollable","_ScrollableNative","_VirtualListModule","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","_typeof","Symbol","iterator","constructor","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","i","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","sourceKeys","keys","_objectSpread","arguments","ownKeys","concat","filter","sym","enumerable","forEach","_defineProperty","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","nop","JS","Native","shape","minHeight","number","isRequired","minWidth","VirtualListBaseFactory","type","_class","_temp","_Component","VirtualListCore","_props","_this","nextState","scrollBounds","clientWidth","clientHeight","scrollWidth","scrollHeight","maxLeft","maxTop","moreInfo","firstVisibleIndex","lastVisibleIndex","primary","secondary","isPrimaryDirectionVertical","isItemSized","dimensionToExtent","threshold","maxFirstIndex","curDataSize","hasDataSizeChanged","cc","scrollPosition","isVertical","isHorizontal","getScrollBounds","getMoreInfo","getItemPosition","index","stickTo","undefined","_assertThisInitialize","position","getGridPosition","offset","clientSize","itemSize","primaryPosition","gridPositionToItemPosition","_ref","secondaryPosition","left","top","getXY","x","y","getClientSize","node","getStatesAndUpdateBounds","firstIndex","dataSize","overhang","updateStatesAndBounds","_assertThisInitialize2","numOfItems","Math","min","ceil","gridSize","wasFirstIndexMax","dataSizeDiff","newFirstIndex","calculateScrollBounds","updateMoreInfo","cbScrollTo","calculateFirstIndex","setContainerSize","contentRef","current","style","width","height","getItemNode","ref","itemContainerRef","children","state","applyStyleToNewNode","_this2","_this$props","itemRenderer","getComponentProps","itemElement","childProps","componentProps","_len","rest","Array","_key","cloneElement","className","listItem","composeStyle","apply","applyStyleToHideNode","createElement","display","getScrollHeight","getVirtualScrollDimension","getScrollWidth","_assertThisInitialize3","spacing","syncClientSize","_assertThisInitialize4","containerRef","_ref2","_assertThisInitialize5","calculateMetrics","setState","mergeClasses","containerClass","vertical","horizontal","virtualList","createRef","prevChildProps","prevFirstIndex","updateFrom","updateTo","componentDidMount","componentDidUpdate","prevProps","direction","newState","rtl","_this$getXY","scrollToPosition","setScrollPosition","floor","_ref3","heightInfo","minItemSize","widthInfo","thresholdBase","max","Infinity","base","transform","maxPos","maxOfMin","numOfUpperLine","firstIndexFromPosition","expectedFirstIndex","_ref4","syncThreshold","animate","_this$primary","platform","ios","safari","scrollTo","didScroll","pos","overhangBefore","firstExtent","newThresholdMin","newThresholdMax","_this$getXY2","positionItems","_this$state","hideTo","_this$getGridPosition","j","_i","render","_this$props2","voiceFocused","voiceGroupLabel","itemsRenderer","containerClasses","isVerticalScrollbarVisible","onUpdate","pageScroll","assign","getDerivedStateFromProps","shouldInvalidate","diff","nextUpdateFromAndTo","Component","propTypes","func","oneOfType","object","bool","string","oneOf","defaultProps","displayName","childRenderer","_ref5","initChildRef","_ref6","role","_ref7","_ref8","_default"],"mappings":"AAAA;;;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,qBAAR,GAAgCF,OAAO,CAACG,eAAR,GAA0BH,OAAO,CAACI,2BAAR,GAAsCJ,OAAO,CAACK,qBAAR,GAAgCL,OAAO,CAACM,qBAAR,GAAgCN,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1L;;AAEA,IAAIO,WAAW,GAAGC,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAxC;;AAEA,IAAIC,OAAO,GAAGF,sBAAsB,CAACC,OAAO,CAAC,kBAAD,CAAR,CAApC;;AAEA,IAAIE,SAAS,GAAGF,OAAO,CAAC,sBAAD,CAAvB;;AAEA,IAAIG,UAAU,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAvC;;AAEA,IAAII,MAAM,GAAGC,uBAAuB,CAACL,OAAO,CAAC,OAAD,CAAR,CAApC;;AAEA,IAAIM,WAAW,GAAGP,sBAAsB,CAACC,OAAO,CAAC,eAAD,CAAR,CAAxC;;AAEA,IAAIO,iBAAiB,GAAGR,sBAAsB,CAACC,OAAO,CAAC,gCAAD,CAAR,CAA9C;;AAEA,IAAIQ,kBAAkB,GAAGT,sBAAsB,CAACC,OAAO,CAAC,0BAAD,CAAR,CAA/C;;AAEA,SAASK,uBAAT,CAAiCI,GAAjC,EAAsC;AAAE,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;AAAE,WAAOD,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAIE,MAAM,GAAG,EAAb;;AAAiB,QAAIF,GAAG,IAAI,IAAX,EAAiB;AAAE,WAAK,IAAIG,GAAT,IAAgBH,GAAhB,EAAqB;AAAE,YAAIpB,MAAM,CAACwB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,GAArC,EAA0CG,GAA1C,CAAJ,EAAoD;AAAE,cAAII,IAAI,GAAG3B,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAAC4B,wBAAhC,GAA2D5B,MAAM,CAAC4B,wBAAP,CAAgCR,GAAhC,EAAqCG,GAArC,CAA3D,GAAuG,EAAlH;;AAAsH,cAAII,IAAI,CAACE,GAAL,IAAYF,IAAI,CAACG,GAArB,EAA0B;AAAE9B,YAAAA,MAAM,CAACC,cAAP,CAAsBqB,MAAtB,EAA8BC,GAA9B,EAAmCI,IAAnC;AAA2C,WAAvE,MAA6E;AAAEL,YAAAA,MAAM,CAACC,GAAD,CAAN,GAAcH,GAAG,CAACG,GAAD,CAAjB;AAAyB;AAAE;AAAE;AAAE;;AAACD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoBF,GAApB;AAAyB,WAAOE,MAAP;AAAgB;AAAE;;AAE3d,SAASZ,sBAAT,CAAgCU,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAEjG,SAASW,OAAT,CAAiBX,GAAjB,EAAsB;AAAE,MAAI,OAAOY,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,MAAM,CAACC,QAAd,MAA2B,QAA/D,EAAyE;AAAEF,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBX,GAAjB,EAAsB;AAAE,sBAAcA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAEW,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBX,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOY,MAAP,KAAkB,UAAzB,IAAuCZ,GAAG,CAACc,WAAJ,KAAoBF,MAA3D,IAAqEZ,GAAG,KAAKY,MAAM,CAACR,SAApF,GAAgG,QAAhG,YAAkHJ,GAAlH,CAAP;AAA+H,KAAjK;AAAoK;;AAAC,SAAOW,OAAO,CAACX,GAAD,CAAd;AAAsB;;AAE/V,SAASe,wBAAT,CAAkCC,MAAlC,EAA0CC,QAA1C,EAAoD;AAAE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;;AAAW,MAAIE,MAAM,GAAGC,6BAA6B,CAACH,MAAD,EAASC,QAAT,CAA1C;;AAA8D,MAAId,GAAJ,EAASiB,CAAT;;AAAY,MAAIxC,MAAM,CAACyC,qBAAX,EAAkC;AAAE,QAAIC,gBAAgB,GAAG1C,MAAM,CAACyC,qBAAP,CAA6BL,MAA7B,CAAvB;;AAA6D,SAAKI,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGE,gBAAgB,CAACC,MAAjC,EAAyCH,CAAC,EAA1C,EAA8C;AAAEjB,MAAAA,GAAG,GAAGmB,gBAAgB,CAACF,CAAD,CAAtB;AAA2B,UAAIH,QAAQ,CAACO,OAAT,CAAiBrB,GAAjB,KAAyB,CAA7B,EAAgC;AAAU,UAAI,CAACvB,MAAM,CAACwB,SAAP,CAAiBqB,oBAAjB,CAAsCnB,IAAtC,CAA2CU,MAA3C,EAAmDb,GAAnD,CAAL,EAA8D;AAAUe,MAAAA,MAAM,CAACf,GAAD,CAAN,GAAca,MAAM,CAACb,GAAD,CAApB;AAA4B;AAAE;;AAAC,SAAOe,MAAP;AAAgB;;AAE5e,SAASC,6BAAT,CAAuCH,MAAvC,EAA+CC,QAA/C,EAAyD;AAAE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIE,MAAM,GAAG,EAAb;AAAiB,MAAIQ,UAAU,GAAG9C,MAAM,CAAC+C,IAAP,CAAYX,MAAZ,CAAjB;AAAsC,MAAIb,GAAJ,EAASiB,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGM,UAAU,CAACH,MAA3B,EAAmCH,CAAC,EAApC,EAAwC;AAAEjB,IAAAA,GAAG,GAAGuB,UAAU,CAACN,CAAD,CAAhB;AAAqB,QAAIH,QAAQ,CAACO,OAAT,CAAiBrB,GAAjB,KAAyB,CAA7B,EAAgC;AAAUe,IAAAA,MAAM,CAACf,GAAD,CAAN,GAAca,MAAM,CAACb,GAAD,CAApB;AAA4B;;AAAC,SAAOe,MAAP;AAAgB;;AAEnT,SAASU,aAAT,CAAuBV,MAAvB,EAA+B;AAAE,OAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGS,SAAS,CAACN,MAA9B,EAAsCH,CAAC,EAAvC,EAA2C;AAAE,QAAIJ,MAAM,GAAGa,SAAS,CAACT,CAAD,CAAT,IAAgB,IAAhB,GAAuBS,SAAS,CAACT,CAAD,CAAhC,GAAsC,EAAnD;AAAuD,QAAIU,OAAO,GAAGlD,MAAM,CAAC+C,IAAP,CAAYX,MAAZ,CAAd;;AAAmC,QAAI,OAAOpC,MAAM,CAACyC,qBAAd,KAAwC,UAA5C,EAAwD;AAAES,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAenD,MAAM,CAACyC,qBAAP,CAA6BL,MAA7B,EAAqCgB,MAArC,CAA4C,UAAUC,GAAV,EAAe;AAAE,eAAOrD,MAAM,CAAC4B,wBAAP,CAAgCQ,MAAhC,EAAwCiB,GAAxC,EAA6CC,UAApD;AAAiE,OAA9H,CAAf,CAAV;AAA4J;;AAACJ,IAAAA,OAAO,CAACK,OAAR,CAAgB,UAAUhC,GAAV,EAAe;AAAEiC,MAAAA,eAAe,CAAClB,MAAD,EAASf,GAAT,EAAca,MAAM,CAACb,GAAD,CAApB,CAAf;AAA4C,KAA7E;AAAiF;;AAAC,SAAOe,MAAP;AAAgB;;AAEje,SAASkB,eAAT,CAAyBpC,GAAzB,EAA8BG,GAA9B,EAAmCpB,KAAnC,EAA0C;AAAE,MAAIoB,GAAG,IAAIH,GAAX,EAAgB;AAAEpB,IAAAA,MAAM,CAACC,cAAP,CAAsBmB,GAAtB,EAA2BG,GAA3B,EAAgC;AAAEpB,MAAAA,KAAK,EAAEA,KAAT;AAAgBmD,MAAAA,UAAU,EAAE,IAA5B;AAAkCG,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEtC,IAAAA,GAAG,CAACG,GAAD,CAAH,GAAWpB,KAAX;AAAmB;;AAAC,SAAOiB,GAAP;AAAa;;AAEjN,SAASuC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2BzB,MAA3B,EAAmC0B,KAAnC,EAA0C;AAAE,OAAK,IAAIxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwB,KAAK,CAACrB,MAA1B,EAAkCH,CAAC,EAAnC,EAAuC;AAAE,QAAIyB,UAAU,GAAGD,KAAK,CAACxB,CAAD,CAAtB;AAA2ByB,IAAAA,UAAU,CAACX,UAAX,GAAwBW,UAAU,CAACX,UAAX,IAAyB,KAAjD;AAAwDW,IAAAA,UAAU,CAACR,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWQ,UAAf,EAA2BA,UAAU,CAACP,QAAX,GAAsB,IAAtB;AAA4B1D,IAAAA,MAAM,CAACC,cAAP,CAAsBqC,MAAtB,EAA8B2B,UAAU,CAAC1C,GAAzC,EAA8C0C,UAA9C;AAA4D;AAAE;;AAE7T,SAASC,YAAT,CAAsBL,WAAtB,EAAmCM,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBJ,iBAAiB,CAACF,WAAW,CAACrC,SAAb,EAAwB2C,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBL,iBAAiB,CAACF,WAAD,EAAcO,WAAd,CAAjB;AAA6C,SAAOP,WAAP;AAAqB;;AAEvN,SAASQ,0BAAT,CAAoCC,IAApC,EAA0C5C,IAA1C,EAAgD;AAAE,MAAIA,IAAI,KAAKK,OAAO,CAACL,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;AAAE,WAAOA,IAAP;AAAc;;AAAC,SAAO6C,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAEjL,SAASE,eAAT,CAAyBC,CAAzB,EAA4B;AAAED,EAAAA,eAAe,GAAGxE,MAAM,CAAC0E,cAAP,GAAwB1E,MAAM,CAAC2E,cAA/B,GAAgD,SAASH,eAAT,CAAyBC,CAAzB,EAA4B;AAAE,WAAOA,CAAC,CAACG,SAAF,IAAe5E,MAAM,CAAC2E,cAAP,CAAsBF,CAAtB,CAAtB;AAAiD,GAAjJ;AAAmJ,SAAOD,eAAe,CAACC,CAAD,CAAtB;AAA4B;;AAE7M,SAASF,sBAAT,CAAgCD,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIO,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOP,IAAP;AAAc;;AAEtK,SAASQ,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIlB,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAACiB,EAAAA,QAAQ,CAACvD,SAAT,GAAqBxB,MAAM,CAACiF,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACxD,SAAvC,EAAkD;AAAEU,IAAAA,WAAW,EAAE;AAAE/B,MAAAA,KAAK,EAAE4E,QAAT;AAAmBrB,MAAAA,QAAQ,EAAE,IAA7B;AAAmCD,MAAAA,YAAY,EAAE;AAAjD;AAAf,GAAlD,CAArB;AAAkJ,MAAIuB,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASE,eAAT,CAAyBT,CAAzB,EAA4BU,CAA5B,EAA+B;AAAED,EAAAA,eAAe,GAAGlF,MAAM,CAAC0E,cAAP,IAAyB,SAASQ,eAAT,CAAyBT,CAAzB,EAA4BU,CAA5B,EAA+B;AAAEV,IAAAA,CAAC,CAACG,SAAF,GAAcO,CAAd;AAAiB,WAAOV,CAAP;AAAW,GAAxG;;AAA0G,SAAOS,eAAe,CAACT,CAAD,EAAIU,CAAJ,CAAtB;AAA+B;;AAE1K,IAAIC,GAAG,GAAG,SAASA,GAAT,GAAe,CAAE,CAA3B;AAAA,IACIC,EAAE,GAAG,IADT;AAAA,IAEIC,MAAM,GAAG,QAFb;AAGA;;;;;;;;;;;;AAYA,IAAI9E,qBAAqB,GAAGM,UAAU,CAAC,SAAD,CAAV,CAAsByE,KAAtB,CAA4B;AACtDC,EAAAA,SAAS,EAAE1E,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MAAtB,CAA6BC,UADc;AAEtDC,EAAAA,QAAQ,EAAE7E,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MAAtB,CAA6BC;AAFe,CAA5B,CAA5B;AAIA;;;;;;;;;;AAUAxF,OAAO,CAACM,qBAAR,GAAgCA,qBAAhC;;AAEA,IAAIoF,sBAAsB,GAAG,SAASA,sBAAT,CAAgCC,IAAhC,EAAsC;AACjE,MAAIC,MAAJ,EAAYC,KAAZ;;AAEA,SAAOA,KAAK,GAAGD,MAAM;AACrB;AACA,YAAUE,UAAV,EAAsB;AACpBlB,IAAAA,SAAS,CAACmB,eAAD,EAAkBD,UAAlB,CAAT;AAEA;;;AACA,aAASC,eAAT,CAAyBC,MAAzB,EAAiC;AAC/B,UAAIC,KAAJ;;AAEAxC,MAAAA,eAAe,CAAC,IAAD,EAAOsC,eAAP,CAAf;;AAEA,UAAIG,SAAS,GAAG,IAAhB;AACAD,MAAAA,KAAK,GAAG9B,0BAA0B,CAAC,IAAD,EAAOG,eAAe,CAACyB,eAAD,CAAf,CAAiCvE,IAAjC,CAAsC,IAAtC,EAA4CwE,MAA5C,CAAP,CAAlC;AACAC,MAAAA,KAAK,CAACE,YAAN,GAAqB;AACnBC,QAAAA,WAAW,EAAE,CADM;AAEnBC,QAAAA,YAAY,EAAE,CAFK;AAGnBC,QAAAA,WAAW,EAAE,CAHM;AAInBC,QAAAA,YAAY,EAAE,CAJK;AAKnBC,QAAAA,OAAO,EAAE,CALU;AAMnBC,QAAAA,MAAM,EAAE;AANW,OAArB;AAQAR,MAAAA,KAAK,CAACS,QAAN,GAAiB;AACfC,QAAAA,iBAAiB,EAAE,IADJ;AAEfC,QAAAA,gBAAgB,EAAE;AAFH,OAAjB;AAIAX,MAAAA,KAAK,CAACY,OAAN,GAAgB,IAAhB;AACAZ,MAAAA,KAAK,CAACa,SAAN,GAAkB,IAAlB;AACAb,MAAAA,KAAK,CAACc,0BAAN,GAAmC,IAAnC;AACAd,MAAAA,KAAK,CAACe,WAAN,GAAoB,KAApB;AACAf,MAAAA,KAAK,CAACgB,iBAAN,GAA0B,CAA1B;AACAhB,MAAAA,KAAK,CAACiB,SAAN,GAAkB,CAAlB;AACAjB,MAAAA,KAAK,CAACkB,aAAN,GAAsB,CAAtB;AACAlB,MAAAA,KAAK,CAACmB,WAAN,GAAoB,CAApB;AACAnB,MAAAA,KAAK,CAACoB,kBAAN,GAA2B,KAA3B;AACApB,MAAAA,KAAK,CAACqB,EAAN,GAAW,EAAX;AACArB,MAAAA,KAAK,CAACsB,cAAN,GAAuB,CAAvB;;AAEAtB,MAAAA,KAAK,CAACuB,UAAN,GAAmB,YAAY;AAC7B,eAAOvB,KAAK,CAACc,0BAAb;AACD,OAFD;;AAIAd,MAAAA,KAAK,CAACwB,YAAN,GAAqB,YAAY;AAC/B,eAAO,CAACxB,KAAK,CAACc,0BAAd;AACD,OAFD;;AAIAd,MAAAA,KAAK,CAACyB,eAAN,GAAwB,YAAY;AAClC,eAAOzB,KAAK,CAACE,YAAb;AACD,OAFD;;AAIAF,MAAAA,KAAK,CAAC0B,WAAN,GAAoB,YAAY;AAC9B,eAAO1B,KAAK,CAACS,QAAb;AACD,OAFD;;AAIAT,MAAAA,KAAK,CAAC2B,eAAN,GAAwB,UAAUC,KAAV,EAAiB;AACvC,YAAIC,OAAO,GAAG/E,SAAS,CAACN,MAAV,GAAmB,CAAnB,IAAwBM,SAAS,CAAC,CAAD,CAAT,KAAiBgF,SAAzC,GAAqDhF,SAAS,CAAC,CAAD,CAA9D,GAAoE,OAAlF;;AAEA,YAAIiF,qBAAqB,GAAG3D,sBAAsB,CAAC4B,KAAD,CAAlD;AAAA,YACIY,OAAO,GAAGmB,qBAAqB,CAACnB,OADpC;AAAA,YAEIoB,QAAQ,GAAGhC,KAAK,CAACiC,eAAN,CAAsBL,KAAtB,CAFf;AAAA,YAGIM,MAAM,GAAGL,OAAO,KAAK,OAAZ,GAAsB,CAAtB,GAA0BjB,OAAO,CAACuB,UAAR,GAAqBvB,OAAO,CAACwB,QAHpE;;AAKAJ,QAAAA,QAAQ,CAACK,eAAT,IAA4BH,MAA5B;AACA,eAAOlC,KAAK,CAACsC,0BAAN,CAAiCN,QAAjC,CAAP;AACD,OAVD;;AAYAhC,MAAAA,KAAK,CAACsC,0BAAN,GAAmC,UAAUC,IAAV,EAAgB;AACjD,YAAIF,eAAe,GAAGE,IAAI,CAACF,eAA3B;AAAA,YACIG,iBAAiB,GAAGD,IAAI,CAACC,iBAD7B;AAEA,eAAOxC,KAAK,CAACc,0BAAN,GAAmC;AACxC2B,UAAAA,IAAI,EAAED,iBADkC;AAExCE,UAAAA,GAAG,EAAEL;AAFmC,SAAnC,GAGH;AACFI,UAAAA,IAAI,EAAEJ,eADJ;AAEFK,UAAAA,GAAG,EAAEF;AAFH,SAHJ;AAOD,OAVD;;AAYAxC,MAAAA,KAAK,CAAC2C,KAAN,GAAc,UAAUN,eAAV,EAA2BG,iBAA3B,EAA8C;AAC1D,eAAOxC,KAAK,CAACc,0BAAN,GAAmC;AACxC8B,UAAAA,CAAC,EAAEJ,iBADqC;AAExCK,UAAAA,CAAC,EAAER;AAFqC,SAAnC,GAGH;AACFO,UAAAA,CAAC,EAAEP,eADD;AAEFQ,UAAAA,CAAC,EAAEL;AAFD,SAHJ;AAOD,OARD;;AAUAxC,MAAAA,KAAK,CAAC8C,aAAN,GAAsB,UAAUC,IAAV,EAAgB;AACpC,eAAO;AACL5C,UAAAA,WAAW,EAAE4C,IAAI,CAAC5C,WADb;AAELC,UAAAA,YAAY,EAAE2C,IAAI,CAAC3C;AAFd,SAAP;AAID,OALD;;AAOAJ,MAAAA,KAAK,CAACgD,wBAAN,GAAiC,UAAUnF,KAAV,EAAiB;AAChD,YAAIoF,UAAU,GAAGnG,SAAS,CAACN,MAAV,GAAmB,CAAnB,IAAwBM,SAAS,CAAC,CAAD,CAAT,KAAiBgF,SAAzC,GAAqDhF,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAArF;;AAEA,YAAIoG,QAAQ,GAAGrF,KAAK,CAACqF,QAArB;AAAA,YACIC,QAAQ,GAAGtF,KAAK,CAACsF,QADrB;AAAA,YAEIC,qBAAqB,GAAGvF,KAAK,CAACuF,qBAFlC;AAAA,YAGIC,sBAAsB,GAAGjF,sBAAsB,CAAC4B,KAAD,CAHnD;AAAA,YAIIgB,iBAAiB,GAAGqC,sBAAsB,CAACrC,iBAJ/C;AAAA,YAKIJ,OAAO,GAAGyC,sBAAsB,CAACzC,OALrC;AAAA,YAMIH,QAAQ,GAAG4C,sBAAsB,CAAC5C,QANtC;AAAA,YAOIa,cAAc,GAAG+B,sBAAsB,CAAC/B,cAP5C;AAAA,YAQIgC,UAAU,GAAGC,IAAI,CAACC,GAAL,CAASN,QAAT,EAAmBlC,iBAAiB,IAAIuC,IAAI,CAACE,IAAL,CAAU7C,OAAO,CAACuB,UAAR,GAAqBvB,OAAO,CAAC8C,QAAvC,IAAmDP,QAAvD,CAApC,CARjB;AAAA,YASIQ,gBAAgB,GAAG3D,KAAK,CAACkB,aAAN,GAAsBT,QAAQ,CAACC,iBAAT,GAA6BM,iBAAnD,IAAwEiC,UAAU,KAAKjD,KAAK,CAACkB,aATpH;AAAA,YAUI0C,YAAY,GAAGV,QAAQ,GAAGlD,KAAK,CAACmB,WAVpC;;AAYA,YAAI0C,aAAa,GAAGZ,UAApB;AACAjD,QAAAA,KAAK,CAACkB,aAAN,GAAsBqC,IAAI,CAACE,IAAL,CAAU,CAACP,QAAQ,GAAGI,UAAZ,IAA0BtC,iBAApC,IAAyDA,iBAA/E;AACAhB,QAAAA,KAAK,CAACmB,WAAN,GAAoB+B,QAApB,CAjBgD,CAiBlB;;AAE9BlD,QAAAA,KAAK,CAACqB,EAAN,GAAW,EAAX;;AAEArB,QAAAA,KAAK,CAAC8D,qBAAN,CAA4BjG,KAA5B;;AAEAmC,QAAAA,KAAK,CAAC+D,cAAN,CAAqBb,QAArB,EAA+B5B,cAA/B;;AAEA,YAAI,EAAE8B,qBAAqB,IAAIA,qBAAqB,CAAC;AACnDY,UAAAA,UAAU,EAAEnG,KAAK,CAACmG,UADiC;AAEnDV,UAAAA,UAAU,EAAEA,UAFuC;AAGnDJ,UAAAA,QAAQ,EAAEA,QAHyC;AAInDzC,UAAAA,QAAQ,EAAEA;AAJyC,SAAD,CAAhD,CAAJ,EAKK;AACHoD,UAAAA,aAAa,GAAG7D,KAAK,CAACiE,mBAAN,CAA0BpG,KAA1B,EAAiC8F,gBAAjC,EAAmDC,YAAnD,EAAiEX,UAAjE,CAAhB;AACD;;AAED,eAAO;AACLA,UAAAA,UAAU,EAAEY,aADP;AAELP,UAAAA,UAAU,EAAEA;AAFP,SAAP;AAID,OAtCD;;AAwCAtD,MAAAA,KAAK,CAACkE,gBAAN,GAAyB,YAAY;AACnC,YAAIlE,KAAK,CAACmE,UAAN,CAAiBC,OAArB,EAA8B;AAC5BpE,UAAAA,KAAK,CAACmE,UAAN,CAAiBC,OAAjB,CAAyBC,KAAzB,CAA+BC,KAA/B,GAAuCtE,KAAK,CAACE,YAAN,CAAmBG,WAAnB,IAAkCL,KAAK,CAACc,0BAAN,GAAmC,CAAC,CAApC,GAAwC,CAA1E,IAA+E,IAAtH;AACAd,UAAAA,KAAK,CAACmE,UAAN,CAAiBC,OAAjB,CAAyBC,KAAzB,CAA+BE,MAA/B,GAAwCvE,KAAK,CAACE,YAAN,CAAmBI,YAAnB,IAAmCN,KAAK,CAACc,0BAAN,GAAmC,CAAnC,GAAuC,CAAC,CAA3E,IAAgF,IAAxH;AACD;AACF,OALD;;AAOAd,MAAAA,KAAK,CAACwE,WAAN,GAAoB,UAAU5C,KAAV,EAAiB;AACnC,YAAI6C,GAAG,GAAGzE,KAAK,CAAC0E,gBAAN,CAAuBN,OAAjC;AACA,eAAOK,GAAG,GAAGA,GAAG,CAACE,QAAJ,CAAa/C,KAAK,GAAG5B,KAAK,CAAC4E,KAAN,CAAYtB,UAAjC,CAAH,GAAkD,IAA5D;AACD,OAHD;;AAKAtD,MAAAA,KAAK,CAAC6E,mBAAN,GAA4B,UAAUjD,KAAV,EAAiB;AAC3C,YAAIkD,MAAJ;;AAEA,YAAIC,WAAW,GAAG/E,KAAK,CAACnC,KAAxB;AAAA,YACImH,YAAY,GAAGD,WAAW,CAACC,YAD/B;AAAA,YAEIC,iBAAiB,GAAGF,WAAW,CAACE,iBAFpC;AAAA,YAGI7J,GAAG,GAAGwG,KAAK,GAAG5B,KAAK,CAAC4E,KAAN,CAAYtB,UAH9B;AAAA,YAII4B,WAAW,GAAGF,YAAY,CAACnI,aAAa,CAAC,EAAD,EAAKmD,KAAK,CAACnC,KAAN,CAAYsH,UAAjB,EAA6B;AACvE/J,UAAAA,GAAG,EAAEA,GADkE;AAEvEwG,UAAAA,KAAK,EAAEA;AAFgE,SAA7B,CAAd,CAJ9B;AAAA,YAQIwD,cAAc,GAAGH,iBAAiB,IAAIA,iBAAiB,CAACrD,KAAD,CAAtC,IAAiD,EARtE;;AAUA,aAAK,IAAIyD,IAAI,GAAGvI,SAAS,CAACN,MAArB,EAA6B8I,IAAI,GAAG,IAAIC,KAAJ,CAAUF,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAApC,EAAwEG,IAAI,GAAG,CAApF,EAAuFA,IAAI,GAAGH,IAA9F,EAAoGG,IAAI,EAAxG,EAA4G;AAC1GF,UAAAA,IAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiB1I,SAAS,CAAC0I,IAAD,CAA1B;AACD;;AAEDxF,QAAAA,KAAK,CAACqB,EAAN,CAASjG,GAAT,IAAgBR,MAAM,CAAC,SAAD,CAAN,CAAkB6K,YAAlB,CAA+BP,WAA/B,EAA4CrI,aAAa,CAAC,EAAD,EAAKuI,cAAL,EAAqB;AAC5FM,UAAAA,SAAS,EAAE,CAAC,GAAGpL,WAAW,CAAC,SAAD,CAAf,EAA4BU,kBAAkB,CAAC,SAAD,CAAlB,CAA8B2K,QAA1D,EAAoET,WAAW,CAACrH,KAAZ,CAAkB6H,SAAtF,CADiF;AAE5FrB,UAAAA,KAAK,EAAExH,aAAa,CAAC,EAAD,EAAKqI,WAAW,CAACrH,KAAZ,CAAkBwG,KAAvB,EAA8B,CAACS,MAAM,GAAG9E,KAAV,EAAiB4F,YAAjB,CAA8BC,KAA9B,CAAoCf,MAApC,EAA4CQ,IAA5C,CAA9B;AAFwE,SAArB,CAAzD,CAAhB;AAID,OArBD;;AAuBAtF,MAAAA,KAAK,CAAC8F,oBAAN,GAA6B,UAAUlE,KAAV,EAAiB;AAC5C,YAAIxG,GAAG,GAAGwG,KAAK,GAAG5B,KAAK,CAAC4E,KAAN,CAAYtB,UAA9B;AACAtD,QAAAA,KAAK,CAACqB,EAAN,CAASjG,GAAT,IAAgBR,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgC,KAAhC,EAAuC;AACrD3K,UAAAA,GAAG,EAAEA,GADgD;AAErDiJ,UAAAA,KAAK,EAAE;AACL2B,YAAAA,OAAO,EAAE;AADJ;AAF8C,SAAvC,CAAhB;AAMD,OARD;;AAUAhG,MAAAA,KAAK,CAACiG,eAAN,GAAwB,YAAY;AAClC,eAAOjG,KAAK,CAACc,0BAAN,GAAmCd,KAAK,CAACkG,yBAAN,EAAnC,GAAuElG,KAAK,CAACE,YAAN,CAAmBE,YAAjG;AACD,OAFD;;AAIAJ,MAAAA,KAAK,CAACmG,cAAN,GAAuB,YAAY;AACjC,eAAOnG,KAAK,CAACc,0BAAN,GAAmCd,KAAK,CAACE,YAAN,CAAmBC,WAAtD,GAAoEH,KAAK,CAACkG,yBAAN,EAA3E;AACD,OAFD;;AAIAlG,MAAAA,KAAK,CAACkG,yBAAN,GAAkC,YAAY;AAC5C,YAAIE,sBAAsB,GAAGhI,sBAAsB,CAAC4B,KAAD,CAAnD;AAAA,YACIgB,iBAAiB,GAAGoF,sBAAsB,CAACpF,iBAD/C;AAAA,YAEIJ,OAAO,GAAGwF,sBAAsB,CAACxF,OAFrC;AAAA,YAGIO,WAAW,GAAGiF,sBAAsB,CAACjF,WAHzC;AAAA,YAIIkF,OAAO,GAAGrG,KAAK,CAACnC,KAAN,CAAYwI,OAJ1B;;AAMA,eAAO9C,IAAI,CAACE,IAAL,CAAUtC,WAAW,GAAGH,iBAAxB,IAA6CJ,OAAO,CAAC8C,QAArD,GAAgE2C,OAAvE;AACD,OARD;;AAUArG,MAAAA,KAAK,CAACsG,cAAN,GAAuB,YAAY;AACjC,YAAIC,sBAAsB,GAAGnI,sBAAsB,CAAC4B,KAAD,CAAnD;AAAA,YACInC,KAAK,GAAG0I,sBAAsB,CAAC1I,KADnC;AAAA,YAEIkF,IAAI,GAAG/C,KAAK,CAACwG,YAAN,CAAmBpC,OAF9B;;AAIA,YAAI,CAACvG,KAAK,CAACsE,UAAP,IAAqB,CAACY,IAA1B,EAAgC;AAC9B,iBAAO,KAAP;AACD;;AAED,YAAI0D,KAAK,GAAG5I,KAAK,CAACsE,UAAN,IAAoBnC,KAAK,CAAC8C,aAAN,CAAoBC,IAApB,CAAhC;AAAA,YACI5C,WAAW,GAAGsG,KAAK,CAACtG,WADxB;AAAA,YAEIC,YAAY,GAAGqG,KAAK,CAACrG,YAFzB;AAAA,YAGIsG,sBAAsB,GAAGtI,sBAAsB,CAAC4B,KAAD,CAHnD;AAAA,YAIIE,YAAY,GAAGwG,sBAAsB,CAACxG,YAJ1C;;AAMA,YAAIC,WAAW,KAAKD,YAAY,CAACC,WAA7B,IAA4CC,YAAY,KAAKF,YAAY,CAACE,YAA9E,EAA4F;AAC1FJ,UAAAA,KAAK,CAAC2G,gBAAN,CAAuB9I,KAAvB;;AAEAmC,UAAAA,KAAK,CAAC4G,QAAN,CAAe5G,KAAK,CAACgD,wBAAN,CAA+BnF,KAA/B,CAAf;;AAEAmC,UAAAA,KAAK,CAACkE,gBAAN;;AAEA,iBAAO,IAAP;AACD;;AAED,eAAO,KAAP;AACD,OA1BD;;AA4BAlE,MAAAA,KAAK,CAAC6G,YAAN,GAAqB,UAAUnB,SAAV,EAAqB;AACxC,YAAIoB,cAAc,GAAG,IAArB;;AAEA,YAAIpH,IAAI,KAAKP,MAAb,EAAqB;AACnB2H,UAAAA,cAAc,GAAG9G,KAAK,CAACc,0BAAN,GAAmC9F,kBAAkB,CAAC,SAAD,CAAlB,CAA8B+L,QAAjE,GAA4E/L,kBAAkB,CAAC,SAAD,CAAlB,CAA8BgM,UAA3H;AACD;;AAED,eAAO,CAAC,GAAG1M,WAAW,CAAC,SAAD,CAAf,EAA4BU,kBAAkB,CAAC,SAAD,CAAlB,CAA8BiM,WAA1D,EAAuEH,cAAvE,EAAuFpB,SAAvF,CAAP;AACD,OARD;;AAUA1F,MAAAA,KAAK,CAACwG,YAAN,GAAqB5L,MAAM,CAAC,SAAD,CAAN,CAAkBsM,SAAlB,EAArB;AACAlH,MAAAA,KAAK,CAACmE,UAAN,GAAmBvJ,MAAM,CAAC,SAAD,CAAN,CAAkBsM,SAAlB,EAAnB;AACAlH,MAAAA,KAAK,CAAC0E,gBAAN,GAAyB9J,MAAM,CAAC,SAAD,CAAN,CAAkBsM,SAAlB,EAAzB;;AAEA,UAAInH,MAAM,CAACoC,UAAX,EAAuB;AACrBnC,QAAAA,KAAK,CAAC2G,gBAAN,CAAuB5G,MAAvB;;AAEAE,QAAAA,SAAS,GAAGD,KAAK,CAACgD,wBAAN,CAA+BjD,MAA/B,CAAZ;AACD;;AAEDC,MAAAA,KAAK,CAAC4E,KAAN,GAAc/H,aAAa,CAAC;AAC1BoG,QAAAA,UAAU,EAAE,CADc;AAE1BK,QAAAA,UAAU,EAAE,CAFc;AAG1B6D,QAAAA,cAAc,EAAE,IAHU;AAI1BC,QAAAA,cAAc,EAAE,CAJU;AAK1BC,QAAAA,UAAU,EAAE,CALc;AAM1BC,QAAAA,QAAQ,EAAE;AANgB,OAAD,EAOxBrH,SAPwB,CAA3B;AAQA,aAAOD,KAAP;AACD;;AAEDjC,IAAAA,YAAY,CAAC+B,eAAD,EAAkB,CAAC;AAC7B1E,MAAAA,GAAG,EAAE,mBADwB;AAE7B;AACApB,MAAAA,KAAK,EAAE,SAASuN,iBAAT,GAA6B;AAClC,YAAI,CAAC,KAAK1J,KAAL,CAAWsE,UAAhB,EAA4B;AAC1B,eAAKwE,gBAAL,CAAsB,KAAK9I,KAA3B,EAD0B,CACS;;AAEnC,eAAK+I,QAAL,CAAc,KAAK5D,wBAAL,CAA8B,KAAKnF,KAAnC,CAAd;AACD;;AAED,aAAKqG,gBAAL;AACD;AAX4B,KAAD,EAY3B;AACD9I,MAAAA,GAAG,EAAE,oBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAASwN,kBAAT,CAA4BC,SAA5B,EAAuC;AAC5C;AACA,aAAKrG,kBAAL,GAA0BqG,SAAS,CAACvE,QAAV,KAAuB,KAAKrF,KAAL,CAAWqF,QAA5D;;AAEA,YAAIuE,SAAS,CAACC,SAAV,KAAwB,KAAK7J,KAAL,CAAW6J,SAAnC,IAAgDD,SAAS,CAACtE,QAAV,KAAuB,KAAKtF,KAAL,CAAWsF,QAAlF,IAA8FsE,SAAS,CAACpB,OAAV,KAAsB,KAAKxI,KAAL,CAAWwI,OAA/H,IAA0I,CAAC,CAAC,GAAG5L,OAAO,CAAC,SAAD,CAAX,EAAwBgN,SAAS,CAACrF,QAAlC,EAA4C,KAAKvE,KAAL,CAAWuE,QAAvD,CAA/I,EAAiN;AAC/M,eAAKuE,gBAAL,CAAsB,KAAK9I,KAA3B,EAD+M,CAC5K;;AAEnC,eAAK+I,QAAL,CAAc,KAAK5D,wBAAL,CAA8B,KAAKnF,KAAnC,CAAd;AACA,eAAKqG,gBAAL;AACD,SALD,MAKO,IAAI,KAAK9C,kBAAT,EAA6B;AAClC,cAAIuG,QAAQ,GAAG,KAAK3E,wBAAL,CAA8B,KAAKnF,KAAnC,EAA0C,KAAK+G,KAAL,CAAW3B,UAArD,CAAf,CADkC,CAC+C;;AAEjF,eAAK2D,QAAL,CAAce,QAAd;AACA,eAAKzD,gBAAL;AACD,SALM,MAKA,IAAIuD,SAAS,CAACG,GAAV,KAAkB,KAAK/J,KAAL,CAAW+J,GAAjC,EAAsC;AAC3C,cAAIC,WAAW,GAAG,KAAKlF,KAAL,CAAW,KAAKrB,cAAhB,EAAgC,CAAhC,CAAlB;AAAA,cACIsB,CAAC,GAAGiF,WAAW,CAACjF,CADpB;AAAA,cAEIC,CAAC,GAAGgF,WAAW,CAAChF,CAFpB;;AAIA,cAAInD,IAAI,KAAKP,MAAb,EAAqB;AACnB,iBAAK2I,gBAAL,CAAsBlF,CAAtB,EAAyBC,CAAzB,EAA4B,KAAKhF,KAAL,CAAW+J,GAAvC;AACD,WAFD,MAEO;AACL,iBAAKG,iBAAL,CAAuBnF,CAAvB,EAA0BC,CAA1B,EAA6B,KAAKhF,KAAL,CAAW+J,GAAxC;AACD;AACF;AACF;AA3BA,KAZ2B,EAwC3B;AACDxM,MAAAA,GAAG,EAAE,iBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAASiI,eAAT,CAAyBL,KAAzB,EAAgC;AACrC,YAAIZ,iBAAiB,GAAG,KAAKA,iBAA7B;AAAA,YACIJ,OAAO,GAAG,KAAKA,OADnB;AAAA,YAEIC,SAAS,GAAG,KAAKA,SAFrB;AAAA,YAGIwB,eAAe,GAAGkB,IAAI,CAACyE,KAAL,CAAWpG,KAAK,GAAGZ,iBAAnB,IAAwCJ,OAAO,CAAC8C,QAHtE;AAAA,YAIIlB,iBAAiB,GAAGZ,KAAK,GAAGZ,iBAAR,GAA4BH,SAAS,CAAC6C,QAJ9D;AAKA,eAAO;AACLrB,UAAAA,eAAe,EAAEA,eADZ;AAELG,UAAAA,iBAAiB,EAAEA;AAFd,SAAP;AAID;AAZA,KAxC2B,EAqD3B;AACDpH,MAAAA,GAAG,EAAE,kBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAAS2M,gBAAT,CAA0B9I,KAA1B,EAAiC;AACtC,YAAIsE,UAAU,GAAGtE,KAAK,CAACsE,UAAvB;AAAA,YACIuF,SAAS,GAAG7J,KAAK,CAAC6J,SADtB;AAAA,YAEItF,QAAQ,GAAGvE,KAAK,CAACuE,QAFrB;AAAA,YAGIiE,OAAO,GAAGxI,KAAK,CAACwI,OAHpB;AAAA,YAIItD,IAAI,GAAG,KAAKyD,YAAL,CAAkBpC,OAJ7B;;AAMA,YAAI,CAACjC,UAAD,IAAe,CAACY,IAApB,EAA0B;AACxB;AACD;;AAED,YAAIkF,KAAK,GAAG9F,UAAU,IAAI,KAAKW,aAAL,CAAmBC,IAAnB,CAA1B;AAAA,YACI5C,WAAW,GAAG8H,KAAK,CAAC9H,WADxB;AAAA,YAEIC,YAAY,GAAG6H,KAAK,CAAC7H,YAFzB;AAAA,YAGI8H,UAAU,GAAG;AACf/F,UAAAA,UAAU,EAAE/B,YADG;AAEf+H,UAAAA,WAAW,EAAE/F,QAAQ,CAAC/C,SAAT,IAAsB,IAFpB;AAGf+C,UAAAA,QAAQ,EAAEA;AAHK,SAHjB;AAAA,YAQIgG,SAAS,GAAG;AACdjG,UAAAA,UAAU,EAAEhC,WADE;AAEdgI,UAAAA,WAAW,EAAE/F,QAAQ,CAAC5C,QAAT,IAAqB,IAFpB;AAGd4C,UAAAA,QAAQ,EAAEA;AAHI,SARhB;;AAcA,YAAIxB,OAAJ,EAAaC,SAAb,EAAwBG,iBAAxB,EAA2CqH,aAA3C;AACA,aAAKvH,0BAAL,GAAkC4G,SAAS,KAAK,UAAhD;;AAEA,YAAI,KAAK5G,0BAAT,EAAqC;AACnCF,UAAAA,OAAO,GAAGsH,UAAV;AACArH,UAAAA,SAAS,GAAGuH,SAAZ;AACD,SAHD,MAGO;AACLxH,UAAAA,OAAO,GAAGwH,SAAV;AACAvH,UAAAA,SAAS,GAAGqH,UAAZ;AACD;;AAEDlH,QAAAA,iBAAiB,GAAG,CAApB;AACA,aAAKD,WAAL,GAAmBH,OAAO,CAACuH,WAAR,IAAuBtH,SAAS,CAACsH,WAApD;;AAEA,YAAI,KAAKpH,WAAT,EAAsB;AACpB;AACA;AACAC,UAAAA,iBAAiB,GAAGuC,IAAI,CAAC+E,GAAL,CAAS/E,IAAI,CAACyE,KAAL,CAAW,CAACnH,SAAS,CAACsB,UAAV,GAAuBkE,OAAxB,KAAoCxF,SAAS,CAACsH,WAAV,GAAwB9B,OAA5D,CAAX,CAAT,EAA2F,CAA3F,CAApB,CAHoB,CAG+F;AACnH;;AAEAxF,UAAAA,SAAS,CAACuB,QAAV,GAAqBmB,IAAI,CAACyE,KAAL,CAAW,CAACnH,SAAS,CAACsB,UAAV,GAAuBkE,OAAO,IAAIrF,iBAAiB,GAAG,CAAxB,CAA/B,IAA6DA,iBAAxE,CAArB,CANoB,CAM6F;;AAEjHJ,UAAAA,OAAO,CAACwB,QAAR,GAAmBmB,IAAI,CAACyE,KAAL,CAAWpH,OAAO,CAACuH,WAAR,IAAuBtH,SAAS,CAACuB,QAAV,GAAqBvB,SAAS,CAACsH,WAAtD,CAAX,CAAnB;AACD;;AAEDvH,QAAAA,OAAO,CAAC8C,QAAR,GAAmB9C,OAAO,CAACwB,QAAR,GAAmBiE,OAAtC;AACAxF,QAAAA,SAAS,CAAC6C,QAAV,GAAqB7C,SAAS,CAACuB,QAAV,GAAqBiE,OAA1C;AACAgC,QAAAA,aAAa,GAAGzH,OAAO,CAAC8C,QAAR,GAAmB,CAAnC;AACA,aAAKzC,SAAL,GAAiB;AACfuC,UAAAA,GAAG,EAAE,CAAC+E,QADS;AAEfD,UAAAA,GAAG,EAAED,aAFU;AAGfG,UAAAA,IAAI,EAAEH;AAHS,SAAjB;AAKA,aAAKrH,iBAAL,GAAyBA,iBAAzB;AACA,aAAKJ,OAAL,GAAeA,OAAf;AACA,aAAKC,SAAL,GAAiBA,SAAjB,CA5DsC,CA4DV;;AAE5B,aAAKS,cAAL,GAAsB,CAAtB;;AAEA,YAAI5B,IAAI,KAAKR,EAAT,IAAe,KAAKiF,UAAL,CAAgBC,OAAnC,EAA4C;AAC1C,eAAKD,UAAL,CAAgBC,OAAhB,CAAwBC,KAAxB,CAA8BoE,SAA9B,GAA0C,IAA1C;AACD;AACF;AArEA,KArD2B,EA2H3B;AACDrN,MAAAA,GAAG,EAAE,qBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAASiK,mBAAT,CAA6BpG,KAA7B,EAAoC8F,gBAApC,EAAsDC,YAAtD,EAAoEX,UAApE,EAAgF;AACrF,YAAIE,QAAQ,GAAGtF,KAAK,CAACsF,QAArB;AAAA,YACInC,iBAAiB,GAAG,KAAKA,iBAD7B;AAAA,YAEIF,0BAA0B,GAAG,KAAKA,0BAFtC;AAAA,YAGII,aAAa,GAAG,KAAKA,aAHzB;AAAA,YAIIN,OAAO,GAAG,KAAKA,OAJnB;AAAA,YAKIV,YAAY,GAAG,KAAKA,YALxB;AAAA,YAMIoB,cAAc,GAAG,KAAKA,cAN1B;AAAA,YAOIL,SAAS,GAAG,KAAKA,SAPrB;AAAA,YAQIyC,QAAQ,GAAG9C,OAAO,CAAC8C,QARvB;AASA,YAAIG,aAAa,GAAGZ,UAApB;;AAEA,YAAIU,gBAAgB,IAAIC,YAAY,GAAG,CAAvC,EAA0C;AACxC;AACA;AACA,cAAI5C,iBAAiB,GAAG,CAApB,IAAyB4C,YAAY,GAAG5C,iBAA5C,EAA+D;AAC7D6C,YAAAA,aAAa,GAAG3C,aAAhB;AACD,WAFD,MAEO;AACL;AACA,gBAAIwH,MAAM,GAAG5H,0BAA0B,GAAGZ,YAAY,CAACM,MAAhB,GAAyBN,YAAY,CAACK,OAA7E;AAAA,gBACIoI,QAAQ,GAAGD,MAAM,GAAGzH,SAAS,CAACuH,IADlC;AAAA,gBAEII,cAAc,GAAGrF,IAAI,CAACyE,KAAL,CAAW7E,QAAQ,GAAG,CAAtB,CAFrB;AAAA,gBAGI0F,sBAAsB,GAAGtF,IAAI,CAACyE,KAAL,CAAW1G,cAAc,GAAGoC,QAA5B,CAH7B;AAAA,gBAIIoF,kBAAkB,GAAGvF,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYO,sBAAsB,GAAGD,cAArC,CAJzB,CAFK,CAM0E;AAC/E;AACA;;AAEA/E,YAAAA,aAAa,GAAGN,IAAI,CAACC,GAAL,CAAStC,aAAT,EAAwB4H,kBAAkB,GAAG9H,iBAA7C,CAAhB,CAVK,CAU4E;;AAEjFC,YAAAA,SAAS,CAACqH,GAAV,GAAgB/E,IAAI,CAACC,GAAL,CAASkF,MAAT,EAAiBzH,SAAS,CAACqH,GAAV,GAAgB5E,QAAjC,CAAhB;AACAzC,YAAAA,SAAS,CAACuC,GAAV,GAAgBD,IAAI,CAACC,GAAL,CAASmF,QAAT,EAAmB1H,SAAS,CAACqH,GAAV,GAAgB5E,QAAnC,CAAhB;AACD;AACF,SApBD,MAoBO;AACL;AACAG,UAAAA,aAAa,GAAGN,IAAI,CAACC,GAAL,CAASP,UAAT,EAAqB/B,aAArB,CAAhB;AACD;;AAED,eAAO2C,aAAP;AACD;AAxCA,KA3H2B,EAoK3B;AACDzI,MAAAA,GAAG,EAAE,uBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAAS8J,qBAAT,CAA+BjG,KAA/B,EAAsC;AAC3C,YAAIsE,UAAU,GAAGtE,KAAK,CAACsE,UAAvB;AAAA,YACIY,IAAI,GAAG,KAAKyD,YAAL,CAAkBpC,OAD7B;;AAGA,YAAI,CAACjC,UAAD,IAAe,CAACY,IAApB,EAA0B;AACxB;AACD;;AAED,YAAI7C,YAAY,GAAG,KAAKA,YAAxB;AAAA,YACIY,0BAA0B,GAAG,KAAKA,0BADtC;AAAA,YAEIiI,KAAK,GAAG5G,UAAU,IAAI,KAAKW,aAAL,CAAmBC,IAAnB,CAF1B;AAAA,YAGI5C,WAAW,GAAG4I,KAAK,CAAC5I,WAHxB;AAAA,YAIIC,YAAY,GAAG2I,KAAK,CAAC3I,YAJzB;;AAMA,YAAIsI,MAAJ;AACAxI,QAAAA,YAAY,CAACC,WAAb,GAA2BA,WAA3B;AACAD,QAAAA,YAAY,CAACE,YAAb,GAA4BA,YAA5B;AACAF,QAAAA,YAAY,CAACG,WAAb,GAA2B,KAAK8F,cAAL,EAA3B;AACAjG,QAAAA,YAAY,CAACI,YAAb,GAA4B,KAAK2F,eAAL,EAA5B;AACA/F,QAAAA,YAAY,CAACK,OAAb,GAAuBgD,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYpI,YAAY,CAACG,WAAb,GAA2BF,WAAvC,CAAvB;AACAD,QAAAA,YAAY,CAACM,MAAb,GAAsB+C,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAYpI,YAAY,CAACI,YAAb,GAA4BF,YAAxC,CAAtB,CApB2C,CAoBkC;;AAE7EsI,QAAAA,MAAM,GAAG5H,0BAA0B,GAAGZ,YAAY,CAACM,MAAhB,GAAyBN,YAAY,CAACK,OAAzE;AACA,aAAKyI,aAAL,CAAmBN,MAAnB;;AAEA,YAAI,KAAKpH,cAAL,GAAsBoH,MAA1B,EAAkC;AAChC,eAAK7K,KAAL,CAAWmG,UAAX,CAAsB;AACpBhC,YAAAA,QAAQ,EAAElB,0BAA0B,GAAG;AACrC+B,cAAAA,CAAC,EAAE6F;AADkC,aAAH,GAEhC;AACF9F,cAAAA,CAAC,EAAE8F;AADD,aAHgB;AAMpBO,YAAAA,OAAO,EAAE;AANW,WAAtB;AAQD;AACF;AArCA,KApK2B,EA0M3B;AACD7N,MAAAA,GAAG,EAAE,gBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAAS+J,cAAT,CAAwBb,QAAxB,EAAkCb,eAAlC,EAAmD;AACxD,YAAIrB,iBAAiB,GAAG,KAAKA,iBAA7B;AAAA,YACIP,QAAQ,GAAG,KAAKA,QADpB;AAAA,YAEIyI,aAAa,GAAG,KAAKtI,OAFzB;AAAA,YAGIwB,QAAQ,GAAG8G,aAAa,CAAC9G,QAH7B;AAAA,YAIIsB,QAAQ,GAAGwF,aAAa,CAACxF,QAJ7B;AAAA,YAKIvB,UAAU,GAAG+G,aAAa,CAAC/G,UAL/B;;AAOA,YAAIe,QAAQ,IAAI,CAAhB,EAAmB;AACjBzC,UAAAA,QAAQ,CAACC,iBAAT,GAA6B,IAA7B;AACAD,UAAAA,QAAQ,CAACE,gBAAT,GAA4B,IAA5B;AACD,SAHD,MAGO;AACLF,UAAAA,QAAQ,CAACC,iBAAT,GAA6B,CAAC6C,IAAI,CAACyE,KAAL,CAAW,CAAC3F,eAAe,GAAGD,QAAnB,IAA+BsB,QAA1C,IAAsD,CAAvD,IAA4D1C,iBAAzF;AACAP,UAAAA,QAAQ,CAACE,gBAAT,GAA4B4C,IAAI,CAACC,GAAL,CAASN,QAAQ,GAAG,CAApB,EAAuBK,IAAI,CAACE,IAAL,CAAU,CAACpB,eAAe,GAAGF,UAAnB,IAAiCuB,QAA3C,IAAuD1C,iBAAvD,GAA2E,CAAlG,CAA5B;AACD;AACF;AAjBA,KA1M2B,EA4N3B;AACD5F,MAAAA,GAAG,EAAE,eADJ;AAEDpB,MAAAA,KAAK,EAAE,SAASgP,aAAT,CAAuBN,MAAvB,EAA+B;AACpC,YAAIzH,SAAS,GAAG,KAAKA,SAArB;;AAEA,YAAIA,SAAS,CAACqH,GAAV,GAAgBI,MAApB,EAA4B;AAC1B,cAAIA,MAAM,GAAGzH,SAAS,CAACuH,IAAvB,EAA6B;AAC3BvH,YAAAA,SAAS,CAACqH,GAAV,GAAgBrH,SAAS,CAACuH,IAA1B;AACAvH,YAAAA,SAAS,CAACuC,GAAV,GAAgB,CAAC+E,QAAjB;AACD,WAHD,MAGO;AACLtH,YAAAA,SAAS,CAACqH,GAAV,GAAgBI,MAAhB;AACAzH,YAAAA,SAAS,CAACuC,GAAV,GAAgBkF,MAAM,GAAGzH,SAAS,CAACuH,IAAnC;AACD;AACF;AACF,OAdA,CAcC;;AAdD,KA5N2B,EA4O3B;AACDpN,MAAAA,GAAG,EAAE,kBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAAS8N,gBAAT,CAA0BlF,CAA1B,EAA6BC,CAA7B,EAAgC;AACrC,YAAI+E,GAAG,GAAG9K,SAAS,CAACN,MAAV,GAAmB,CAAnB,IAAwBM,SAAS,CAAC,CAAD,CAAT,KAAiBgF,SAAzC,GAAqDhF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAKe,KAAL,CAAW+J,GAAzF;;AAEA,YAAI,KAAKpB,YAAL,CAAkBpC,OAAtB,EAA+B;AAC7B,cAAIwD,GAAJ,EAAS;AACPhF,YAAAA,CAAC,GAAGlI,SAAS,CAACyO,QAAV,CAAmBC,GAAnB,IAA0B1O,SAAS,CAACyO,QAAV,CAAmBE,MAA7C,GAAsD,CAACzG,CAAvD,GAA2D,KAAK1C,YAAL,CAAkBK,OAAlB,GAA4BqC,CAA3F;AACD;;AAED,eAAK4D,YAAL,CAAkBpC,OAAlB,CAA0BkF,QAA1B,CAAmC1G,CAAnC,EAAsCC,CAAtC;AACD;AACF,OAZA,CAYC;;AAZD,KA5O2B,EA0P3B;AACDzH,MAAAA,GAAG,EAAE,mBADJ;AAEDpB,MAAAA,KAAK,EAAE,SAAS+N,iBAAT,CAA2BnF,CAA3B,EAA8BC,CAA9B,EAAiC;AACtC,YAAI+E,GAAG,GAAG9K,SAAS,CAACN,MAAV,GAAmB,CAAnB,IAAwBM,SAAS,CAAC,CAAD,CAAT,KAAiBgF,SAAzC,GAAqDhF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAKe,KAAL,CAAW+J,GAAzF;;AAEA,YAAI,KAAKzD,UAAL,CAAgBC,OAApB,EAA6B;AAC3B,eAAKD,UAAL,CAAgBC,OAAhB,CAAwBC,KAAxB,CAA8BoE,SAA9B,GAA0C,eAAezL,MAAf,CAAsB4K,GAAG,GAAGhF,CAAH,GAAO,CAACA,CAAjC,EAAoC,OAApC,EAA6C5F,MAA7C,CAAoD6F,CAApD,EAAuD,QAAvD,CAA1C;AACA,eAAK0G,SAAL,CAAe3G,CAAf,EAAkBC,CAAlB;AACD;AACF;AATA,KA1P2B,EAoQ3B;AACDzH,MAAAA,GAAG,EAAE,WADJ;AAEDpB,MAAAA,KAAK,EAAE,SAASuP,SAAT,CAAmB3G,CAAnB,EAAsBC,CAAtB,EAAyB;AAC9B,YAAIK,QAAQ,GAAG,KAAKrF,KAAL,CAAWqF,QAA1B;AAAA,YACID,UAAU,GAAG,KAAK2B,KAAL,CAAW3B,UAD5B;AAAA,YAEInC,0BAA0B,GAAG,KAAKA,0BAFtC;AAAA,YAGIG,SAAS,GAAG,KAAKA,SAHrB;AAAA,YAIID,iBAAiB,GAAG,KAAKA,iBAJ7B;AAAA,YAKIE,aAAa,GAAG,KAAKA,aALzB;AAAA,YAMIhB,YAAY,GAAG,KAAKA,YANxB;AAAA,YAOIwD,QAAQ,GAAG,KAAK9C,OAAL,CAAa8C,QAP5B;AAAA,YAQIgF,MAAM,GAAG5H,0BAA0B,GAAGZ,YAAY,CAACM,MAAhB,GAAyBN,YAAY,CAACK,OAR7E;AASA,YAAIsD,aAAa,GAAGZ,UAApB;AAAA,YACIuG,GADJ;;AAGA,YAAI1I,0BAAJ,EAAgC;AAC9B0I,UAAAA,GAAG,GAAG3G,CAAN;AACD,SAFD,MAEO;AACL2G,UAAAA,GAAG,GAAG5G,CAAN;AACD;;AAED,YAAI4G,GAAG,GAAGvI,SAAS,CAACqH,GAAhB,IAAuBkB,GAAG,GAAGvI,SAAS,CAACuC,GAA3C,EAAgD;AAC9C,cAAIiG,cAAc,GAAGlG,IAAI,CAACyE,KAAL,CAAW,KAAKnK,KAAL,CAAWsF,QAAX,GAAsB,CAAjC,CAArB;AAAA,cACIuG,WAAW,GAAGnG,IAAI,CAAC+E,GAAL,CAAS,CAAT,EAAY/E,IAAI,CAACC,GAAL,CAASD,IAAI,CAACyE,KAAL,CAAW9G,aAAa,GAAGF,iBAA3B,CAAT,EAAwDuC,IAAI,CAACyE,KAAL,CAAW,CAACwB,GAAG,GAAG9F,QAAQ,GAAG+F,cAAlB,IAAoC/F,QAA/C,CAAxD,CAAZ,CADlB;AAEA,cAAIiG,eAAJ,EAAqBC,eAArB;AACA/F,UAAAA,aAAa,GAAG6F,WAAW,GAAG1I,iBAA9B;AACA2I,UAAAA,eAAe,GAAG,CAACD,WAAW,GAAGD,cAAf,IAAiC/F,QAAnD;AACAkG,UAAAA,eAAe,GAAGD,eAAe,GAAGjG,QAApC;AACAzC,UAAAA,SAAS,CAACuC,GAAV,GAAgBK,aAAa,KAAK,CAAlB,GAAsB,CAAC0E,QAAvB,GAAkCoB,eAAlD;AACA1I,UAAAA,SAAS,CAACqH,GAAV,GAAgBzE,aAAa,KAAK3C,aAAlB,GAAkCqH,QAAlC,GAA6CqB,eAA7D;AACD;;AAED,aAAKZ,aAAL,CAAmBN,MAAnB;AACA,aAAKpH,cAAL,GAAsBkI,GAAtB;AACA,aAAKzF,cAAL,CAAoBb,QAApB,EAA8BsG,GAA9B;;AAEA,YAAIvG,UAAU,KAAKY,aAAnB,EAAkC;AAChC,eAAK+C,QAAL,CAAc;AACZ3D,YAAAA,UAAU,EAAEY;AADA,WAAd;AAGD;AACF;AAzCA,KApQ2B,EA8S3B;AACDzI,MAAAA,GAAG,EAAE,cADJ;AAEDpB,MAAAA,KAAK,EAAE,SAAS4L,YAAT,CAAsBtB,KAAtB,EAA6BC,MAA7B,EAAqClC,eAArC,EAAsDG,iBAAtD,EAAyE;AAC9E,YAAIqH,YAAY,GAAG,KAAKlH,KAAL,CAAWN,eAAX,EAA4BG,iBAA5B,CAAnB;AAAA,YACII,CAAC,GAAGiH,YAAY,CAACjH,CADrB;AAAA,YAEIC,CAAC,GAAGgH,YAAY,CAAChH,CAFrB;AAAA,YAGIwB,KAAK,GAAG;AACVrC,UAAAA,QAAQ,EAAE,UADA;;AAGV;AACAyG,UAAAA,SAAS,EAAE,eAAezL,MAAf,CAAsB,KAAKa,KAAL,CAAW+J,GAAX,GAAiB,CAAChF,CAAlB,GAAsBA,CAA5C,EAA+C,MAA/C,EAAuD5F,MAAvD,CAA8D6F,CAA9D,EAAiE,QAAjE;AAJD,SAHZ;;AAUA,YAAI,KAAK9B,WAAT,EAAsB;AACpBsD,UAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACAD,UAAAA,KAAK,CAACE,MAAN,GAAeA,MAAf;AACD;;AAED,eAAOF,KAAP;AACD;AAnBA,KA9S2B,EAkU3B;AACDjJ,MAAAA,GAAG,EAAE,eADJ;AAEDpB,MAAAA,KAAK,EAAE,SAAS8P,aAAT,GAAyB;AAC9B,YAAI5G,QAAQ,GAAG,KAAKrF,KAAL,CAAWqF,QAA1B;AAAA,YACI6G,WAAW,GAAG,KAAKnF,KADvB;AAAA,YAEI3B,UAAU,GAAG8G,WAAW,CAAC9G,UAF7B;AAAA,YAGIK,UAAU,GAAGyG,WAAW,CAACzG,UAH7B;AAAA,YAIIjC,EAAE,GAAG,KAAKA,EAJd;AAAA,YAKIP,0BAA0B,GAAG,KAAKA,0BALtC;AAAA,YAMIE,iBAAiB,GAAG,KAAKA,iBAN7B;AAAA,YAOIJ,OAAO,GAAG,KAAKA,OAPnB;AAAA,YAQIC,SAAS,GAAG,KAAKA,SARrB;AASA,YAAImJ,MAAM,GAAG,CAAb;AAAA,YACI3C,UAAU,GAAGhG,EAAE,CAAC7E,MAAH,GAAY,KAAKoI,KAAL,CAAWyC,UAAvB,GAAoCpE,UADrD;AAAA,YAEIqE,QAAQ,GAAGjG,EAAE,CAAC7E,MAAH,GAAY,KAAKoI,KAAL,CAAW0C,QAAvB,GAAkCrE,UAAU,GAAGK,UAF9D;;AAIA,YAAI+D,UAAU,IAAIC,QAAlB,EAA4B;AAC1B;AACD,SAFD,MAEO,IAAIA,QAAQ,GAAGpE,QAAf,EAAyB;AAC9B8G,UAAAA,MAAM,GAAG1C,QAAT;AACAA,UAAAA,QAAQ,GAAGpE,QAAX;AACD;;AAED,YAAIoB,KAAJ;AAAA,YACIC,MADJ;AAAA,YAEI0F,qBAAqB,GAAG,KAAKhI,eAAL,CAAqBoF,UAArB,CAF5B;AAAA,YAGIhF,eAAe,GAAG4H,qBAAqB,CAAC5H,eAH5C;AAAA,YAIIG,iBAAiB,GAAGyH,qBAAqB,CAACzH,iBAJ9C;;AAMA8B,QAAAA,KAAK,GAAG,CAACxD,0BAA0B,GAAGD,SAAS,CAACuB,QAAb,GAAwBxB,OAAO,CAACwB,QAA3D,IAAuE,IAA/E;AACAmC,QAAAA,MAAM,GAAG,CAACzD,0BAA0B,GAAGF,OAAO,CAACwB,QAAX,GAAsBvB,SAAS,CAACuB,QAA3D,IAAuE,IAAhF,CA5B8B,CA4BwD;;AAEtF,aAAK,IAAI/F,CAAC,GAAGgL,UAAR,EAAoB6C,CAAC,GAAG7C,UAAU,GAAGrG,iBAA1C,EAA6D3E,CAAC,GAAGiL,QAAjE,EAA2EjL,CAAC,EAA5E,EAAgF;AAC9E,eAAKwI,mBAAL,CAAyBxI,CAAzB,EAA4BiI,KAA5B,EAAmCC,MAAnC,EAA2ClC,eAA3C,EAA4DG,iBAA5D;;AAEA,cAAI,EAAE0H,CAAF,KAAQlJ,iBAAZ,EAA+B;AAC7BwB,YAAAA,iBAAiB,GAAG,CAApB;AACAH,YAAAA,eAAe,IAAIzB,OAAO,CAAC8C,QAA3B;AACAwG,YAAAA,CAAC,GAAG,CAAJ;AACD,WAJD,MAIO;AACL1H,YAAAA,iBAAiB,IAAI3B,SAAS,CAAC6C,QAA/B;AACD;AACF;;AAED,aAAK,IAAIyG,EAAE,GAAG7C,QAAd,EAAwB6C,EAAE,GAAGH,MAA7B,EAAqCG,EAAE,EAAvC,EAA2C;AACzC,eAAKrE,oBAAL,CAA0BqE,EAA1B;AACD;AACF;AA/CA,KAlU2B,EAkX3B;AACD/O,MAAAA,GAAG,EAAE,QADJ;AAEDpB,MAAAA,KAAK,EAAE,SAASoQ,MAAT,GAAkB;AACvB,YAAIC,YAAY,GAAG,KAAKxM,KAAxB;AAAA,YACI6H,SAAS,GAAG2E,YAAY,CAAC3E,SAD7B;AAAA,YAEI4E,YAAY,GAAGD,YAAY,CAAC,0BAAD,CAF/B;AAAA,YAGIE,eAAe,GAAGF,YAAY,CAAC,8BAAD,CAHlC;AAAA,YAIIG,aAAa,GAAGH,YAAY,CAACG,aAJjC;AAAA,YAKInG,KAAK,GAAGgG,YAAY,CAAChG,KALzB;AAAA,YAMIiB,IAAI,GAAGtJ,wBAAwB,CAACqO,YAAD,EAAe,CAAC,WAAD,EAAc,0BAAd,EAA0C,8BAA1C,EAA0E,eAA1E,EAA2F,OAA3F,CAAf,CANnC;AAAA,YAOIhJ,EAAE,GAAG,KAAKA,EAPd;AAAA,YAQIqD,gBAAgB,GAAG,KAAKA,gBAR5B;AAAA,YASI9D,OAAO,GAAG,KAAKA,OATnB;AAAA,YAUI6J,gBAAgB,GAAG,KAAK5D,YAAL,CAAkBnB,SAAlB,CAVvB;;AAYA,eAAOJ,IAAI,CAACtB,UAAZ;AACA,eAAOsB,IAAI,CAACH,UAAZ;AACA,eAAOG,IAAI,CAACnD,UAAZ;AACA,eAAOmD,IAAI,CAACpC,QAAZ;AACA,eAAOoC,IAAI,CAACoC,SAAZ;AACA,eAAOpC,IAAI,CAACL,iBAAZ;AACA,eAAOK,IAAI,CAACoF,0BAAZ;AACA,eAAOpF,IAAI,CAACN,YAAZ;AACA,eAAOM,IAAI,CAAClD,QAAZ;AACA,eAAOkD,IAAI,CAACqF,QAAZ;AACA,eAAOrF,IAAI,CAACnC,QAAZ;AACA,eAAOmC,IAAI,CAACsF,UAAZ;AACA,eAAOtF,IAAI,CAACsC,GAAZ;AACA,eAAOtC,IAAI,CAACe,OAAZ;AACA,eAAOf,IAAI,CAAClC,qBAAZ;;AAEA,YAAIxC,OAAJ,EAAa;AACX,eAAKkJ,aAAL;AACD;;AAED,eAAOlP,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgC,KAAhC,EAAuC;AAC5CL,UAAAA,SAAS,EAAE+E,gBADiC;AAE5C,sCAA4BH,YAFgB;AAG5C,0CAAgCC,eAHY;AAI5C9F,UAAAA,GAAG,EAAE,KAAK+B,YAJkC;AAK5CnC,UAAAA,KAAK,EAAEA;AALqC,SAAvC,EAMJzJ,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgC,KAAhC,EAAuClM,MAAM,CAACgR,MAAP,CAAc,EAAd,EAAkBvF,IAAlB,EAAwB;AAChEb,UAAAA,GAAG,EAAE,KAAKN;AADsD,SAAxB,CAAvC,EAECqG,aAAa,CAAC;AAChBnJ,UAAAA,EAAE,EAAEA,EADY;AAEhBqD,UAAAA,gBAAgB,EAAEA,gBAFF;AAGhB9D,UAAAA,OAAO,EAAEA;AAHO,SAAD,CAFd,CANI,CAAP;AAaD;AAhDA,KAlX2B,CAAlB,EAmaR,CAAC;AACHxF,MAAAA,GAAG,EAAE,0BADF;AAEHpB,MAAAA,KAAK,EAAE,SAAS8Q,wBAAT,CAAkCjN,KAAlC,EAAyC+G,KAAzC,EAAgD;AACrD,YAAImG,gBAAgB,GAAGnG,KAAK,CAACwC,cAAN,KAAyBxC,KAAK,CAAC3B,UAA/B,IAA6C2B,KAAK,CAACuC,cAAN,KAAyBtJ,KAAK,CAACsH,UAAnG;AAAA,YACI6F,IAAI,GAAGpG,KAAK,CAAC3B,UAAN,GAAmB2B,KAAK,CAACwC,cADpC;AAAA,YAEIE,QAAQ,GAAG,CAAC1C,KAAK,CAACtB,UAAP,IAAqB0H,IAArB,IAA6BA,IAAI,GAAG,CAApC,IAAyCD,gBAAzC,GAA4DnG,KAAK,CAAC3B,UAAN,GAAmB2B,KAAK,CAACtB,UAArF,GAAkGsB,KAAK,CAACwC,cAFvH;AAAA,YAGIC,UAAU,GAAG,KAAK2D,IAAL,IAAaA,IAAI,IAAIpG,KAAK,CAACtB,UAA3B,IAAyCyH,gBAAzC,GAA4DnG,KAAK,CAAC3B,UAAlE,GAA+E2B,KAAK,CAACwC,cAAN,GAAuBxC,KAAK,CAACtB,UAH7H;AAAA,YAII2H,mBAAmB,GAAGrG,KAAK,CAACyC,UAAN,KAAqBA,UAArB,IAAmCzC,KAAK,CAAC0C,QAAN,KAAmBA,QAAtD,GAAiE;AACzFD,UAAAA,UAAU,EAAEA,UAD6E;AAEzFC,UAAAA,QAAQ,EAAEA;AAF+E,SAAjE,GAGtB,IAPJ;AAQA,eAAOzK,aAAa,CAAC,EAAD,EAAKoO,mBAAL,EAA0B;AAC5C9D,UAAAA,cAAc,EAAEtJ,KAAK,CAACsH,UADsB;AAE5CiC,UAAAA,cAAc,EAAExC,KAAK,CAAC3B;AAFsB,SAA1B,CAApB;AAID;AAfE,KAAD,CAnaQ,CAAZ;;AAqbA,WAAOnD,eAAP;AACD,GAprBD,CAorBElF,MAAM,CAACsQ,SAprBT,CAFO,EAsrBcvL,MAAM,CAACwL,SAAP;AACrB;AACA;AACE;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BAnG,IAAAA,YAAY,EAAErK,UAAU,CAAC,SAAD,CAAV,CAAsByQ,IAAtB,CAA2B7L,UA3B3C;;AA6BE;;;;;;;;AAQA6C,IAAAA,QAAQ,EAAEzH,UAAU,CAAC,SAAD,CAAV,CAAsB0Q,SAAtB,CAAgC,CAAC1Q,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MAAvB,EAA+BjF,qBAA/B,CAAhC,EAAuFkF,UArCnG;;AAuCE;;;;;;;AAOAiL,IAAAA,aAAa,EAAE7P,UAAU,CAAC,SAAD,CAAV,CAAsByQ,IAAtB,CAA2B7L,UA9C5C;;AAgDE;;;;;;;AAOAyE,IAAAA,UAAU,EAAErJ,UAAU,CAAC,SAAD,CAAV,CAAsByQ,IAvDpC;;AAyDE;;;;;;AAMAjG,IAAAA,UAAU,EAAExK,UAAU,CAAC,SAAD,CAAV,CAAsB2Q,MA/DpC;;AAiEE;;;;;;;;AAQAnJ,IAAAA,UAAU,EAAExH,UAAU,CAAC,SAAD,CAAV,CAAsByE,KAAtB,CAA4B;AACtCgB,MAAAA,YAAY,EAAEzF,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MAAtB,CAA6BC,UADL;AAEtCY,MAAAA,WAAW,EAAExF,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MAAtB,CAA6BC;AAFJ,KAA5B,CAzEd;;AA8EE;;;;;;AAMA,gCAA4B5E,UAAU,CAAC,SAAD,CAAV,CAAsB4Q,IApFpD;;AAsFE;;;;;;AAMA,oCAAgC5Q,UAAU,CAAC,SAAD,CAAV,CAAsB6Q,MA5FxD;;AA8FE;;;;;;;AAOAtI,IAAAA,QAAQ,EAAEvI,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MArGlC;;AAuGE;;;;;;;;;;;AAWAoI,IAAAA,SAAS,EAAE/M,UAAU,CAAC,SAAD,CAAV,CAAsB8Q,KAAtB,CAA4B,CAAC,YAAD,EAAe,UAAf,CAA5B,CAlHb;;AAoHE;;;;;;AAMAxG,IAAAA,iBAAiB,EAAEtK,UAAU,CAAC,SAAD,CAAV,CAAsByQ,IA1H3C;;AA4HE;;;;;;;;;AASAjI,IAAAA,QAAQ,EAAExI,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MArIlC;;AAuIE;;;;;;;AAOAsL,IAAAA,UAAU,EAAEjQ,UAAU,CAAC,SAAD,CAAV,CAAsB4Q,IA9IpC;;AAgJE;;;;;;AAMA3D,IAAAA,GAAG,EAAEjN,UAAU,CAAC,SAAD,CAAV,CAAsB4Q,IAtJ7B;;AAwJE;;;;;;;AAOAlF,IAAAA,OAAO,EAAE1L,UAAU,CAAC,SAAD,CAAV,CAAsB2E,MA/JjC;;AAiKE;;;;;;AAMA8D,IAAAA,qBAAqB,EAAEzI,UAAU,CAAC,SAAD,CAAV,CAAsByQ;AAvK/C,GAxrBO,EAg2BJzL,MAAM,CAAC+L,YAAP,GAAsB;AACvB1H,IAAAA,UAAU,EAAE/E,GADW;AAEvBiE,IAAAA,QAAQ,EAAE,CAFa;AAGvBwE,IAAAA,SAAS,EAAE,UAHY;AAIvBvE,IAAAA,QAAQ,EAAE,CAJa;AAKvByH,IAAAA,UAAU,EAAE,KALW;AAMvBvE,IAAAA,OAAO,EAAE;AANc,GAh2BlB,EAu2BJzG,KAv2BH;AAw2BD,CA32BD;AA42BA;;;;;;;;;;;AAWA,IAAI1F,eAAe,GAAGuF,sBAAsB,CAACP,EAAD,CAA5C;AACAnF,OAAO,CAACG,eAAR,GAA0BA,eAA1B;AACAA,eAAe,CAACyR,WAAhB,GAA8B,oBAA9B;AACA;;;;;;;;;;AAUA,IAAI1R,qBAAqB,GAAGwF,sBAAsB,CAACN,MAAD,CAAlD;AACApF,OAAO,CAACE,qBAAR,GAAgCA,qBAAhC;AACAA,qBAAqB,CAAC0R,WAAtB,GAAoC,0BAApC;;AAEA,IAAIvR,qBAAqB,GAAG,SAASA,qBAAT,CAA+ByD,KAA/B,EAAsC;AAChE,SAAOjD,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgCjL,WAAW,CAAC,SAAD,CAA3C,EAAwDjB,MAAM,CAACgR,MAAP,CAAc,EAAd,EAAkBhN,KAAlB,EAAyB;AACtF+N,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AAC3C,UAAIC,YAAY,GAAGD,KAAK,CAACC,YAAzB;AAAA,UACIxG,IAAI,GAAGtJ,wBAAwB,CAAC6P,KAAD,EAAQ,CAAC,cAAD,CAAR,CADnC;;AAGA,aAAQ;AACNjR,QAAAA,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgC7L,eAAhC,EAAiDL,MAAM,CAACgR,MAAP,CAAc,EAAd,EAAkBvF,IAAlB,EAAwB;AACvEkF,UAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBuB,KAAvB,EAA8B;AAC3C,gBAAI1K,EAAE,GAAG0K,KAAK,CAAC1K,EAAf;AAAA,gBACIqD,gBAAgB,GAAGqH,KAAK,CAACrH,gBAD7B;AAEA,mBAAQ;AACNrD,cAAAA,EAAE,CAAC7E,MAAH,GAAY5B,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgC,KAAhC,EAAuC;AACjDtB,gBAAAA,GAAG,EAAEC,gBAD4C;AAEjDsH,gBAAAA,IAAI,EAAE;AAF2C,eAAvC,EAGT3K,EAHS,CAAZ,GAGS;AAJX;AAMD,WAVsE;AAWvEoD,UAAAA,GAAG,EAAEqH;AAXkE,SAAxB,CAAjD;AADF;AAeD;AApBqF,GAAzB,CAAxD,CAAP;AAsBD,CAvBD;;AAyBA/R,OAAO,CAACK,qBAAR,GAAgCA,qBAAhC;AACAA,qBAAqB,CAAC+Q,SAAtB,GAAkC;AAChCzD,EAAAA,SAAS,EAAE/M,UAAU,CAAC,SAAD,CAAV,CAAsB8Q,KAAtB,CAA4B,CAAC,YAAD,EAAe,UAAf,CAA5B;AADqB,CAAlC;AAGArR,qBAAqB,CAACsR,YAAtB,GAAqC;AACnChE,EAAAA,SAAS,EAAE;AADwB,CAArC;;AAIA,IAAIvN,2BAA2B,GAAG,SAASA,2BAAT,CAAqC0D,KAArC,EAA4C;AAC5E,SAAOjD,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgChL,iBAAiB,CAAC,SAAD,CAAjD,EAA8DlB,MAAM,CAACgR,MAAP,CAAc,EAAd,EAAkBhN,KAAlB,EAAyB;AAC5F+N,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBK,KAAvB,EAA8B;AAC3C,UAAIH,YAAY,GAAGG,KAAK,CAACH,YAAzB;AAAA,UACIxG,IAAI,GAAGtJ,wBAAwB,CAACiQ,KAAD,EAAQ,CAAC,cAAD,CAAR,CADnC;;AAGA,aAAQ;AACNrR,QAAAA,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgC9L,qBAAhC,EAAuDJ,MAAM,CAACgR,MAAP,CAAc,EAAd,EAAkBvF,IAAlB,EAAwB;AAC7EkF,UAAAA,aAAa,EAAE,SAASA,aAAT,CAAuB0B,KAAvB,EAA8B;AAC3C,gBAAI7K,EAAE,GAAG6K,KAAK,CAAC7K,EAAf;AAAA,gBACIqD,gBAAgB,GAAGwH,KAAK,CAACxH,gBAD7B;AAEA,mBAAQ;AACNrD,cAAAA,EAAE,CAAC7E,MAAH,GAAY5B,MAAM,CAAC,SAAD,CAAN,CAAkBmL,aAAlB,CAAgC,KAAhC,EAAuC;AACjDtB,gBAAAA,GAAG,EAAEC,gBAD4C;AAEjDsH,gBAAAA,IAAI,EAAE;AAF2C,eAAvC,EAGT3K,EAHS,CAAZ,GAGS;AAJX;AAMD,WAV4E;AAW7EoD,UAAAA,GAAG,EAAEqH;AAXwE,SAAxB,CAAvD;AADF;AAeD;AApB2F,GAAzB,CAA9D,CAAP;AAsBD,CAvBD;;AAyBA/R,OAAO,CAACI,2BAAR,GAAsCA,2BAAtC;AACAA,2BAA2B,CAACgR,SAA5B;AACA;AACA;AACE;;;;;;;;;;;AAWAzD,EAAAA,SAAS,EAAE/M,UAAU,CAAC,SAAD,CAAV,CAAsB8Q,KAAtB,CAA4B,CAAC,YAAD,EAAe,UAAf,CAA5B;AAZb,CAFA;AAgBAtR,2BAA2B,CAACuR,YAA5B,GAA2C;AACzChE,EAAAA,SAAS,EAAE;AAD8B,CAA3C;AAGA,IAAIyE,QAAQ,GAAGjS,eAAf;AACAH,OAAO,CAAC,SAAD,CAAP,GAAqBoS,QAArB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VirtualListBaseNative = exports.VirtualListBase = exports.ScrollableVirtualListNative = exports.ScrollableVirtualList = exports.gridListItemSizeShape = exports[\"default\"] = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _equals = _interopRequireDefault(require(\"ramda/src/equals\"));\n\nvar _platform = require(\"@enact/core/platform\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Scrollable = _interopRequireDefault(require(\"../Scrollable\"));\n\nvar _ScrollableNative = _interopRequireDefault(require(\"../Scrollable/ScrollableNative\"));\n\nvar _VirtualListModule = _interopRequireDefault(require(\"./VirtualList.module.css\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar nop = function nop() {},\n    JS = 'JS',\n    Native = 'Native';\n/**\n * The shape for the grid list item size\n * in a list for [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @typedef {Object} gridListItemSizeShape\n * @memberof ui/VirtualList\n * @property {Number}    minWidth    The minimum width of the grid list item.\n * @property {Number}    minHeight    The minimum height of the grid list item.\n * @public\n */\n\n\nvar gridListItemSizeShape = _propTypes[\"default\"].shape({\n  minHeight: _propTypes[\"default\"].number.isRequired,\n  minWidth: _propTypes[\"default\"].number.isRequired\n});\n/**\n * The base version of the virtual list component.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\n\n\nexports.gridListItemSizeShape = gridListItemSizeShape;\n\nvar VirtualListBaseFactory = function VirtualListBaseFactory(type) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(VirtualListCore, _Component);\n\n    /* No displayName here. We set displayName to returned components of this factory function. */\n    function VirtualListCore(_props) {\n      var _this;\n\n      _classCallCheck(this, VirtualListCore);\n\n      var nextState = null;\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(VirtualListCore).call(this, _props));\n      _this.scrollBounds = {\n        clientWidth: 0,\n        clientHeight: 0,\n        scrollWidth: 0,\n        scrollHeight: 0,\n        maxLeft: 0,\n        maxTop: 0\n      };\n      _this.moreInfo = {\n        firstVisibleIndex: null,\n        lastVisibleIndex: null\n      };\n      _this.primary = null;\n      _this.secondary = null;\n      _this.isPrimaryDirectionVertical = true;\n      _this.isItemSized = false;\n      _this.dimensionToExtent = 0;\n      _this.threshold = 0;\n      _this.maxFirstIndex = 0;\n      _this.curDataSize = 0;\n      _this.hasDataSizeChanged = false;\n      _this.cc = [];\n      _this.scrollPosition = 0;\n\n      _this.isVertical = function () {\n        return _this.isPrimaryDirectionVertical;\n      };\n\n      _this.isHorizontal = function () {\n        return !_this.isPrimaryDirectionVertical;\n      };\n\n      _this.getScrollBounds = function () {\n        return _this.scrollBounds;\n      };\n\n      _this.getMoreInfo = function () {\n        return _this.moreInfo;\n      };\n\n      _this.getItemPosition = function (index) {\n        var stickTo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'start';\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            primary = _assertThisInitialize.primary,\n            position = _this.getGridPosition(index),\n            offset = stickTo === 'start' ? 0 : primary.clientSize - primary.itemSize;\n\n        position.primaryPosition -= offset;\n        return _this.gridPositionToItemPosition(position);\n      };\n\n      _this.gridPositionToItemPosition = function (_ref) {\n        var primaryPosition = _ref.primaryPosition,\n            secondaryPosition = _ref.secondaryPosition;\n        return _this.isPrimaryDirectionVertical ? {\n          left: secondaryPosition,\n          top: primaryPosition\n        } : {\n          left: primaryPosition,\n          top: secondaryPosition\n        };\n      };\n\n      _this.getXY = function (primaryPosition, secondaryPosition) {\n        return _this.isPrimaryDirectionVertical ? {\n          x: secondaryPosition,\n          y: primaryPosition\n        } : {\n          x: primaryPosition,\n          y: secondaryPosition\n        };\n      };\n\n      _this.getClientSize = function (node) {\n        return {\n          clientWidth: node.clientWidth,\n          clientHeight: node.clientHeight\n        };\n      };\n\n      _this.getStatesAndUpdateBounds = function (props) {\n        var firstIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        var dataSize = props.dataSize,\n            overhang = props.overhang,\n            updateStatesAndBounds = props.updateStatesAndBounds,\n            _assertThisInitialize2 = _assertThisInitialized(_this),\n            dimensionToExtent = _assertThisInitialize2.dimensionToExtent,\n            primary = _assertThisInitialize2.primary,\n            moreInfo = _assertThisInitialize2.moreInfo,\n            scrollPosition = _assertThisInitialize2.scrollPosition,\n            numOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n            wasFirstIndexMax = _this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent && firstIndex === _this.maxFirstIndex,\n            dataSizeDiff = dataSize - _this.curDataSize;\n\n        var newFirstIndex = firstIndex;\n        _this.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n        _this.curDataSize = dataSize; // reset children\n\n        _this.cc = [];\n\n        _this.calculateScrollBounds(props);\n\n        _this.updateMoreInfo(dataSize, scrollPosition);\n\n        if (!(updateStatesAndBounds && updateStatesAndBounds({\n          cbScrollTo: props.cbScrollTo,\n          numOfItems: numOfItems,\n          dataSize: dataSize,\n          moreInfo: moreInfo\n        }))) {\n          newFirstIndex = _this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n        }\n\n        return {\n          firstIndex: newFirstIndex,\n          numOfItems: numOfItems\n        };\n      };\n\n      _this.setContainerSize = function () {\n        if (_this.contentRef.current) {\n          _this.contentRef.current.style.width = _this.scrollBounds.scrollWidth + (_this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n          _this.contentRef.current.style.height = _this.scrollBounds.scrollHeight + (_this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n        }\n      };\n\n      _this.getItemNode = function (index) {\n        var ref = _this.itemContainerRef.current;\n        return ref ? ref.children[index % _this.state.numOfItems] : null;\n      };\n\n      _this.applyStyleToNewNode = function (index) {\n        var _this2;\n\n        var _this$props = _this.props,\n            itemRenderer = _this$props.itemRenderer,\n            getComponentProps = _this$props.getComponentProps,\n            key = index % _this.state.numOfItems,\n            itemElement = itemRenderer(_objectSpread({}, _this.props.childProps, {\n          key: key,\n          index: index\n        })),\n            componentProps = getComponentProps && getComponentProps(index) || {};\n\n        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        _this.cc[key] = _react[\"default\"].cloneElement(itemElement, _objectSpread({}, componentProps, {\n          className: (0, _classnames[\"default\"])(_VirtualListModule[\"default\"].listItem, itemElement.props.className),\n          style: _objectSpread({}, itemElement.props.style, (_this2 = _this).composeStyle.apply(_this2, rest))\n        }));\n      };\n\n      _this.applyStyleToHideNode = function (index) {\n        var key = index % _this.state.numOfItems;\n        _this.cc[key] = _react[\"default\"].createElement(\"div\", {\n          key: key,\n          style: {\n            display: 'none'\n          }\n        });\n      };\n\n      _this.getScrollHeight = function () {\n        return _this.isPrimaryDirectionVertical ? _this.getVirtualScrollDimension() : _this.scrollBounds.clientHeight;\n      };\n\n      _this.getScrollWidth = function () {\n        return _this.isPrimaryDirectionVertical ? _this.scrollBounds.clientWidth : _this.getVirtualScrollDimension();\n      };\n\n      _this.getVirtualScrollDimension = function () {\n        var _assertThisInitialize3 = _assertThisInitialized(_this),\n            dimensionToExtent = _assertThisInitialize3.dimensionToExtent,\n            primary = _assertThisInitialize3.primary,\n            curDataSize = _assertThisInitialize3.curDataSize,\n            spacing = _this.props.spacing;\n\n        return Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize - spacing;\n      };\n\n      _this.syncClientSize = function () {\n        var _assertThisInitialize4 = _assertThisInitialized(_this),\n            props = _assertThisInitialize4.props,\n            node = _this.containerRef.current;\n\n        if (!props.clientSize && !node) {\n          return false;\n        }\n\n        var _ref2 = props.clientSize || _this.getClientSize(node),\n            clientWidth = _ref2.clientWidth,\n            clientHeight = _ref2.clientHeight,\n            _assertThisInitialize5 = _assertThisInitialized(_this),\n            scrollBounds = _assertThisInitialize5.scrollBounds;\n\n        if (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n          _this.calculateMetrics(props);\n\n          _this.setState(_this.getStatesAndUpdateBounds(props));\n\n          _this.setContainerSize();\n\n          return true;\n        }\n\n        return false;\n      };\n\n      _this.mergeClasses = function (className) {\n        var containerClass = null;\n\n        if (type === Native) {\n          containerClass = _this.isPrimaryDirectionVertical ? _VirtualListModule[\"default\"].vertical : _VirtualListModule[\"default\"].horizontal;\n        }\n\n        return (0, _classnames[\"default\"])(_VirtualListModule[\"default\"].virtualList, containerClass, className);\n      };\n\n      _this.containerRef = _react[\"default\"].createRef();\n      _this.contentRef = _react[\"default\"].createRef();\n      _this.itemContainerRef = _react[\"default\"].createRef();\n\n      if (_props.clientSize) {\n        _this.calculateMetrics(_props);\n\n        nextState = _this.getStatesAndUpdateBounds(_props);\n      }\n\n      _this.state = _objectSpread({\n        firstIndex: 0,\n        numOfItems: 0,\n        prevChildProps: null,\n        prevFirstIndex: 0,\n        updateFrom: 0,\n        updateTo: 0\n      }, nextState);\n      return _this;\n    }\n\n    _createClass(VirtualListCore, [{\n      key: \"componentDidMount\",\n      // Calculate metrics for VirtualList after the 1st render to know client W/H.\n      value: function componentDidMount() {\n        if (!this.props.clientSize) {\n          this.calculateMetrics(this.props); // eslint-disable-next-line react/no-did-mount-set-state\n\n          this.setState(this.getStatesAndUpdateBounds(this.props));\n        }\n\n        this.setContainerSize();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // TODO: remove `this.hasDataSizeChanged` and fix ui/Scrollable*\n        this.hasDataSizeChanged = prevProps.dataSize !== this.props.dataSize;\n\n        if (prevProps.direction !== this.props.direction || prevProps.overhang !== this.props.overhang || prevProps.spacing !== this.props.spacing || !(0, _equals[\"default\"])(prevProps.itemSize, this.props.itemSize)) {\n          this.calculateMetrics(this.props); // eslint-disable-next-line react/no-did-update-set-state\n\n          this.setState(this.getStatesAndUpdateBounds(this.props));\n          this.setContainerSize();\n        } else if (this.hasDataSizeChanged) {\n          var newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex); // eslint-disable-next-line react/no-did-update-set-state\n\n          this.setState(newState);\n          this.setContainerSize();\n        } else if (prevProps.rtl !== this.props.rtl) {\n          var _this$getXY = this.getXY(this.scrollPosition, 0),\n              x = _this$getXY.x,\n              y = _this$getXY.y;\n\n          if (type === Native) {\n            this.scrollToPosition(x, y, this.props.rtl);\n          } else {\n            this.setScrollPosition(x, y, this.props.rtl);\n          }\n        }\n      }\n    }, {\n      key: \"getGridPosition\",\n      value: function getGridPosition(index) {\n        var dimensionToExtent = this.dimensionToExtent,\n            primary = this.primary,\n            secondary = this.secondary,\n            primaryPosition = Math.floor(index / dimensionToExtent) * primary.gridSize,\n            secondaryPosition = index % dimensionToExtent * secondary.gridSize;\n        return {\n          primaryPosition: primaryPosition,\n          secondaryPosition: secondaryPosition\n        };\n      }\n    }, {\n      key: \"calculateMetrics\",\n      value: function calculateMetrics(props) {\n        var clientSize = props.clientSize,\n            direction = props.direction,\n            itemSize = props.itemSize,\n            spacing = props.spacing,\n            node = this.containerRef.current;\n\n        if (!clientSize && !node) {\n          return;\n        }\n\n        var _ref3 = clientSize || this.getClientSize(node),\n            clientWidth = _ref3.clientWidth,\n            clientHeight = _ref3.clientHeight,\n            heightInfo = {\n          clientSize: clientHeight,\n          minItemSize: itemSize.minHeight || null,\n          itemSize: itemSize\n        },\n            widthInfo = {\n          clientSize: clientWidth,\n          minItemSize: itemSize.minWidth || null,\n          itemSize: itemSize\n        };\n\n        var primary, secondary, dimensionToExtent, thresholdBase;\n        this.isPrimaryDirectionVertical = direction === 'vertical';\n\n        if (this.isPrimaryDirectionVertical) {\n          primary = heightInfo;\n          secondary = widthInfo;\n        } else {\n          primary = widthInfo;\n          secondary = heightInfo;\n        }\n\n        dimensionToExtent = 1;\n        this.isItemSized = primary.minItemSize && secondary.minItemSize;\n\n        if (this.isItemSized) {\n          // the number of columns is the ratio of the available width plus the spacing\n          // by the minimum item width plus the spacing\n          dimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1); // the actual item width is a ratio of the remaining width after all columns\n          // and spacing are accounted for and the number of columns that we know we should have\n\n          secondary.itemSize = Math.floor((secondary.clientSize - spacing * (dimensionToExtent - 1)) / dimensionToExtent); // the actual item height is related to the item width\n\n          primary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n        }\n\n        primary.gridSize = primary.itemSize + spacing;\n        secondary.gridSize = secondary.itemSize + spacing;\n        thresholdBase = primary.gridSize * 2;\n        this.threshold = {\n          min: -Infinity,\n          max: thresholdBase,\n          base: thresholdBase\n        };\n        this.dimensionToExtent = dimensionToExtent;\n        this.primary = primary;\n        this.secondary = secondary; // reset\n\n        this.scrollPosition = 0;\n\n        if (type === JS && this.contentRef.current) {\n          this.contentRef.current.style.transform = null;\n        }\n      }\n    }, {\n      key: \"calculateFirstIndex\",\n      value: function calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n        var overhang = props.overhang,\n            dimensionToExtent = this.dimensionToExtent,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            maxFirstIndex = this.maxFirstIndex,\n            primary = this.primary,\n            scrollBounds = this.scrollBounds,\n            scrollPosition = this.scrollPosition,\n            threshold = this.threshold,\n            gridSize = primary.gridSize;\n        var newFirstIndex = firstIndex;\n\n        if (wasFirstIndexMax && dataSizeDiff > 0) {\n          // If dataSize increased from bottom, we need adjust firstIndex\n          // If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n          if (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n            newFirstIndex = maxFirstIndex;\n          } else {\n            // For other bottom adding case, we need to update firstIndex and threshold.\n            var maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n                maxOfMin = maxPos - threshold.base,\n                numOfUpperLine = Math.floor(overhang / 2),\n                firstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n                expectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine); // To navigate with 5way, we need to adjust firstIndex to the next line\n            // since at the bottom we have num of overhang lines for upper side but none for bottom side\n            // So we add numOfUpperLine at the top and rest lines at the bottom\n\n            newFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent); // We need to update threshold also since we moved the firstIndex\n\n            threshold.max = Math.min(maxPos, threshold.max + gridSize);\n            threshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n          }\n        } else {\n          // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n          newFirstIndex = Math.min(firstIndex, maxFirstIndex);\n        }\n\n        return newFirstIndex;\n      }\n    }, {\n      key: \"calculateScrollBounds\",\n      value: function calculateScrollBounds(props) {\n        var clientSize = props.clientSize,\n            node = this.containerRef.current;\n\n        if (!clientSize && !node) {\n          return;\n        }\n\n        var scrollBounds = this.scrollBounds,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            _ref4 = clientSize || this.getClientSize(node),\n            clientWidth = _ref4.clientWidth,\n            clientHeight = _ref4.clientHeight;\n\n        var maxPos;\n        scrollBounds.clientWidth = clientWidth;\n        scrollBounds.clientHeight = clientHeight;\n        scrollBounds.scrollWidth = this.getScrollWidth();\n        scrollBounds.scrollHeight = this.getScrollHeight();\n        scrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n        scrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight); // correct position\n\n        maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n        this.syncThreshold(maxPos);\n\n        if (this.scrollPosition > maxPos) {\n          this.props.cbScrollTo({\n            position: isPrimaryDirectionVertical ? {\n              y: maxPos\n            } : {\n              x: maxPos\n            },\n            animate: false\n          });\n        }\n      }\n    }, {\n      key: \"updateMoreInfo\",\n      value: function updateMoreInfo(dataSize, primaryPosition) {\n        var dimensionToExtent = this.dimensionToExtent,\n            moreInfo = this.moreInfo,\n            _this$primary = this.primary,\n            itemSize = _this$primary.itemSize,\n            gridSize = _this$primary.gridSize,\n            clientSize = _this$primary.clientSize;\n\n        if (dataSize <= 0) {\n          moreInfo.firstVisibleIndex = null;\n          moreInfo.lastVisibleIndex = null;\n        } else {\n          moreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n          moreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n        }\n      }\n    }, {\n      key: \"syncThreshold\",\n      value: function syncThreshold(maxPos) {\n        var threshold = this.threshold;\n\n        if (threshold.max > maxPos) {\n          if (maxPos < threshold.base) {\n            threshold.max = threshold.base;\n            threshold.min = -Infinity;\n          } else {\n            threshold.max = maxPos;\n            threshold.min = maxPos - threshold.base;\n          }\n        }\n      } // Native only\n\n    }, {\n      key: \"scrollToPosition\",\n      value: function scrollToPosition(x, y) {\n        var rtl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.rtl;\n\n        if (this.containerRef.current) {\n          if (rtl) {\n            x = _platform.platform.ios || _platform.platform.safari ? -x : this.scrollBounds.maxLeft - x;\n          }\n\n          this.containerRef.current.scrollTo(x, y);\n        }\n      } // JS only\n\n    }, {\n      key: \"setScrollPosition\",\n      value: function setScrollPosition(x, y) {\n        var rtl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.rtl;\n\n        if (this.contentRef.current) {\n          this.contentRef.current.style.transform = \"translate3d(\".concat(rtl ? x : -x, \"px, -\").concat(y, \"px, 0)\");\n          this.didScroll(x, y);\n        }\n      }\n    }, {\n      key: \"didScroll\",\n      value: function didScroll(x, y) {\n        var dataSize = this.props.dataSize,\n            firstIndex = this.state.firstIndex,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            threshold = this.threshold,\n            dimensionToExtent = this.dimensionToExtent,\n            maxFirstIndex = this.maxFirstIndex,\n            scrollBounds = this.scrollBounds,\n            gridSize = this.primary.gridSize,\n            maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n        var newFirstIndex = firstIndex,\n            pos;\n\n        if (isPrimaryDirectionVertical) {\n          pos = y;\n        } else {\n          pos = x;\n        }\n\n        if (pos > threshold.max || pos < threshold.min) {\n          var overhangBefore = Math.floor(this.props.overhang / 2),\n              firstExtent = Math.max(0, Math.min(Math.floor(maxFirstIndex / dimensionToExtent), Math.floor((pos - gridSize * overhangBefore) / gridSize)));\n          var newThresholdMin, newThresholdMax;\n          newFirstIndex = firstExtent * dimensionToExtent;\n          newThresholdMin = (firstExtent + overhangBefore) * gridSize;\n          newThresholdMax = newThresholdMin + gridSize;\n          threshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n          threshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n        }\n\n        this.syncThreshold(maxPos);\n        this.scrollPosition = pos;\n        this.updateMoreInfo(dataSize, pos);\n\n        if (firstIndex !== newFirstIndex) {\n          this.setState({\n            firstIndex: newFirstIndex\n          });\n        }\n      }\n    }, {\n      key: \"composeStyle\",\n      value: function composeStyle(width, height, primaryPosition, secondaryPosition) {\n        var _this$getXY2 = this.getXY(primaryPosition, secondaryPosition),\n            x = _this$getXY2.x,\n            y = _this$getXY2.y,\n            style = {\n          position: 'absolute',\n\n          /* FIXME: RTL / this calculation only works for Chrome */\n          transform: \"translate3d(\".concat(this.props.rtl ? -x : x, \"px, \").concat(y, \"px, 0)\")\n        };\n\n        if (this.isItemSized) {\n          style.width = width;\n          style.height = height;\n        }\n\n        return style;\n      }\n    }, {\n      key: \"positionItems\",\n      value: function positionItems() {\n        var dataSize = this.props.dataSize,\n            _this$state = this.state,\n            firstIndex = _this$state.firstIndex,\n            numOfItems = _this$state.numOfItems,\n            cc = this.cc,\n            isPrimaryDirectionVertical = this.isPrimaryDirectionVertical,\n            dimensionToExtent = this.dimensionToExtent,\n            primary = this.primary,\n            secondary = this.secondary;\n        var hideTo = 0,\n            updateFrom = cc.length ? this.state.updateFrom : firstIndex,\n            updateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n        if (updateFrom >= updateTo) {\n          return;\n        } else if (updateTo > dataSize) {\n          hideTo = updateTo;\n          updateTo = dataSize;\n        }\n\n        var width,\n            height,\n            _this$getGridPosition = this.getGridPosition(updateFrom),\n            primaryPosition = _this$getGridPosition.primaryPosition,\n            secondaryPosition = _this$getGridPosition.secondaryPosition;\n\n        width = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n        height = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px'; // positioning items\n\n        for (var i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n          this.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n          if (++j === dimensionToExtent) {\n            secondaryPosition = 0;\n            primaryPosition += primary.gridSize;\n            j = 0;\n          } else {\n            secondaryPosition += secondary.gridSize;\n          }\n        }\n\n        for (var _i = updateTo; _i < hideTo; _i++) {\n          this.applyStyleToHideNode(_i);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props2 = this.props,\n            className = _this$props2.className,\n            voiceFocused = _this$props2['data-webos-voice-focused'],\n            voiceGroupLabel = _this$props2['data-webos-voice-group-label'],\n            itemsRenderer = _this$props2.itemsRenderer,\n            style = _this$props2.style,\n            rest = _objectWithoutProperties(_this$props2, [\"className\", \"data-webos-voice-focused\", \"data-webos-voice-group-label\", \"itemsRenderer\", \"style\"]),\n            cc = this.cc,\n            itemContainerRef = this.itemContainerRef,\n            primary = this.primary,\n            containerClasses = this.mergeClasses(className);\n\n        delete rest.cbScrollTo;\n        delete rest.childProps;\n        delete rest.clientSize;\n        delete rest.dataSize;\n        delete rest.direction;\n        delete rest.getComponentProps;\n        delete rest.isVerticalScrollbarVisible;\n        delete rest.itemRenderer;\n        delete rest.itemSize;\n        delete rest.onUpdate;\n        delete rest.overhang;\n        delete rest.pageScroll;\n        delete rest.rtl;\n        delete rest.spacing;\n        delete rest.updateStatesAndBounds;\n\n        if (primary) {\n          this.positionItems();\n        }\n\n        return _react[\"default\"].createElement(\"div\", {\n          className: containerClasses,\n          \"data-webos-voice-focused\": voiceFocused,\n          \"data-webos-voice-group-label\": voiceGroupLabel,\n          ref: this.containerRef,\n          style: style\n        }, _react[\"default\"].createElement(\"div\", Object.assign({}, rest, {\n          ref: this.contentRef\n        }), itemsRenderer({\n          cc: cc,\n          itemContainerRef: itemContainerRef,\n          primary: primary\n        })));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var shouldInvalidate = state.prevFirstIndex === state.firstIndex || state.prevChildProps !== props.childProps,\n            diff = state.firstIndex - state.prevFirstIndex,\n            updateTo = -state.numOfItems >= diff || diff > 0 || shouldInvalidate ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n            updateFrom = 0 >= diff || diff >= state.numOfItems || shouldInvalidate ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n            nextUpdateFromAndTo = state.updateFrom !== updateFrom || state.updateTo !== updateTo ? {\n          updateFrom: updateFrom,\n          updateTo: updateTo\n        } : null;\n        return _objectSpread({}, nextUpdateFromAndTo, {\n          prevChildProps: props.childProps,\n          prevFirstIndex: state.firstIndex\n        });\n      }\n    }]);\n\n    return VirtualListCore;\n  }(_react.Component), _class.propTypes =\n  /** @lends ui/VirtualList.VirtualListBase.prototype */\n  {\n    /**\n     * The rendering function called for each item in the list.\n     *\n     * > **Note**: The list does **not** always render a component whenever its render function is called\n     * due to performance optimization.\n     *\n     * Example:\n     * ```\n     * renderItem = ({index, ...rest}) => {\n     * \tdelete rest.data;\n     *\n     * \treturn (\n     * \t\t<MyComponent index={index} {...rest} />\n     * \t);\n     * }\n     * ```\n     *\n     * @type {Function}\n     * @param {Object}     event\n     * @param {Number}     event.data-index    It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n     * @param {Number}     event.index    The index number of the component to render\n     * @param {Number}     event.key    It MUST be passed as a prop to the root element in the component for DOM recycling.\n     *\n     * @required\n     * @public\n     */\n    itemRenderer: _propTypes[\"default\"].func.isRequired,\n\n    /**\n     * The size of an item for the list; valid values are either a number for `VirtualList`\n     * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n     *\n     * @type {Number|ui/VirtualList.gridListItemSizeShape}\n     * @required\n     * @private\n     */\n    itemSize: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, gridListItemSizeShape]).isRequired,\n\n    /**\n     * The render function for the items.\n     *\n     * @type {Function}\n     * @required\n     * @private\n     */\n    itemsRenderer: _propTypes[\"default\"].func.isRequired,\n\n    /**\n     * Callback method of scrollTo.\n     * Normally, [Scrollable]{@link ui/Scrollable.Scrollable} should set this value.\n     *\n     * @type {Function}\n     * @private\n     */\n    cbScrollTo: _propTypes[\"default\"].func,\n\n    /**\n     * Additional props included in the object passed to the `itemsRenderer` callback.\n     *\n     * @type {Object}\n     * @public\n     */\n    childProps: _propTypes[\"default\"].object,\n\n    /**\n     * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n     *\n     * @type {Object}\n     * @property {Number}    clientHeight    The client height of the list.\n     * @property {Number}    clientWidth    The client width of the list.\n     * @public\n     */\n    clientSize: _propTypes[\"default\"].shape({\n      clientHeight: _propTypes[\"default\"].number.isRequired,\n      clientWidth: _propTypes[\"default\"].number.isRequired\n    }),\n\n    /**\n     * Activates the component for voice control.\n     *\n     * @type {Boolean}\n     * @private\n     */\n    'data-webos-voice-focused': _propTypes[\"default\"].bool,\n\n    /**\n     * The voice control group label.\n     *\n     * @type {String}\n     * @private\n     */\n    'data-webos-voice-group-label': _propTypes[\"default\"].string,\n\n    /**\n     * The number of items of data the list contains.\n     *\n     * @type {Number}\n     * @default 0\n     * @public\n     */\n    dataSize: _propTypes[\"default\"].number,\n\n    /**\n     * The layout direction of the list.\n     *\n     * Valid values are:\n     * * `'horizontal'`, and\n     * * `'vertical'`.\n     *\n     * @type {String}\n     * @default 'vertical'\n     * @public\n     */\n    direction: _propTypes[\"default\"].oneOf(['horizontal', 'vertical']),\n\n    /**\n     * Called to get the props for list items.\n     *\n     * @type {Function}\n     * @private\n     */\n    getComponentProps: _propTypes[\"default\"].func,\n\n    /**\n     * Number of spare DOM node.\n     * `3` is good for the default value experimentally and\n     * this value is highly recommended not to be changed by developers.\n     *\n     * @type {Number}\n     * @default 3\n     * @private\n     */\n    overhang: _propTypes[\"default\"].number,\n\n    /**\n     * When `true`, the list will scroll by page.  Otherwise the list will scroll by item.\n     *\n     * @type {Boolean}\n     * @default false\n     * @private\n     */\n    pageScroll: _propTypes[\"default\"].bool,\n\n    /**\n     * `true` if RTL, `false` if LTR.\n     *\n     * @type {Boolean}\n     * @private\n     */\n    rtl: _propTypes[\"default\"].bool,\n\n    /**\n     * The spacing between items.\n     *\n     * @type {Number}\n     * @default 0\n     * @public\n     */\n    spacing: _propTypes[\"default\"].number,\n\n    /**\n     * Called to execute additional logic in a themed component when updating states and bounds.\n     *\n     * @type {Function}\n     * @private\n     */\n    updateStatesAndBounds: _propTypes[\"default\"].func\n  }, _class.defaultProps = {\n    cbScrollTo: nop,\n    dataSize: 0,\n    direction: 'vertical',\n    overhang: 3,\n    pageScroll: false,\n    spacing: 0\n  }, _temp;\n};\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\n\n\nvar VirtualListBase = VirtualListBaseFactory(JS);\nexports.VirtualListBase = VirtualListBase;\nVirtualListBase.displayName = 'ui:VirtualListBase';\n/**\n * A basic base component for\n * [VirtualListNative]{@link ui/VirtualList.VirtualListNative} and [VirtualGridListNative]{@link ui/VirtualList.VirtualGridListNative}.\n *\n * @class VirtualListBaseNative\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\n\nvar VirtualListBaseNative = VirtualListBaseFactory(Native);\nexports.VirtualListBaseNative = VirtualListBaseNative;\nVirtualListBaseNative.displayName = 'ui:VirtualListBaseNative';\n\nvar ScrollableVirtualList = function ScrollableVirtualList(props) {\n  return _react[\"default\"].createElement(_Scrollable[\"default\"], Object.assign({}, props, {\n    childRenderer: function childRenderer(_ref5) {\n      var initChildRef = _ref5.initChildRef,\n          rest = _objectWithoutProperties(_ref5, [\"initChildRef\"]);\n\n      return (// eslint-disable-line react/jsx-no-bind\n        _react[\"default\"].createElement(VirtualListBase, Object.assign({}, rest, {\n          itemsRenderer: function itemsRenderer(_ref6) {\n            var cc = _ref6.cc,\n                itemContainerRef = _ref6.itemContainerRef;\n            return (// eslint-disable-line react/jsx-no-bind\n              cc.length ? _react[\"default\"].createElement(\"div\", {\n                ref: itemContainerRef,\n                role: \"list\"\n              }, cc) : null\n            );\n          },\n          ref: initChildRef\n        }))\n      );\n    }\n  }));\n};\n\nexports.ScrollableVirtualList = ScrollableVirtualList;\nScrollableVirtualList.propTypes = {\n  direction: _propTypes[\"default\"].oneOf(['horizontal', 'vertical'])\n};\nScrollableVirtualList.defaultProps = {\n  direction: 'vertical'\n};\n\nvar ScrollableVirtualListNative = function ScrollableVirtualListNative(props) {\n  return _react[\"default\"].createElement(_ScrollableNative[\"default\"], Object.assign({}, props, {\n    childRenderer: function childRenderer(_ref7) {\n      var initChildRef = _ref7.initChildRef,\n          rest = _objectWithoutProperties(_ref7, [\"initChildRef\"]);\n\n      return (// eslint-disable-line react/jsx-no-bind\n        _react[\"default\"].createElement(VirtualListBaseNative, Object.assign({}, rest, {\n          itemsRenderer: function itemsRenderer(_ref8) {\n            var cc = _ref8.cc,\n                itemContainerRef = _ref8.itemContainerRef;\n            return (// eslint-disable-line react/jsx-no-bind\n              cc.length ? _react[\"default\"].createElement(\"div\", {\n                ref: itemContainerRef,\n                role: \"list\"\n              }, cc) : null\n            );\n          },\n          ref: initChildRef\n        }))\n      );\n    }\n  }));\n};\n\nexports.ScrollableVirtualListNative = ScrollableVirtualListNative;\nScrollableVirtualListNative.propTypes =\n/** @lends ui/VirtualList.VirtualListBaseNative.prototype */\n{\n  /**\n   * The layout direction of the list.\n   *\n   * Valid values are:\n   * * `'horizontal'`, and\n   * * `'vertical'`.\n   *\n   * @type {String}\n   * @default 'vertical'\n   * @public\n   */\n  direction: _propTypes[\"default\"].oneOf(['horizontal', 'vertical'])\n};\nScrollableVirtualListNative.defaultProps = {\n  direction: 'vertical'\n};\nvar _default = VirtualListBase;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}