{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ScrollAnimator = exports[\"default\"] = void 0;\n\nvar _clamp = _interopRequireDefault(require(\"ramda/src/clamp\"));\n\nvar _util = require(\"@enact/core/util\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar // Use eases library\ntimingFunctions = {\n  'linear': function linear(source, target, duration, curTime) {\n    curTime /= duration;\n    return (target - source) * curTime + source;\n  },\n  'ease-in': function easeIn(source, target, duration, curTime) {\n    curTime /= duration;\n    return (target - source) * curTime * curTime * curTime * curTime + source;\n  },\n  'ease-out': function easeOut(source, target, duration, curTime) {\n    curTime /= duration;\n    curTime--;\n    return (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n  },\n  'ease-in-out': function easeInOut(source, target, duration, curTime) {\n    curTime /= duration / 2;\n\n    if (curTime < 1) {\n      return (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n    } else {\n      curTime -= 2;\n    }\n\n    return (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n  }\n},\n    // for simulate()\nframeTime = 16.0,\n    // time for one frame\nmaxVelocity = 100,\n    // speed cap\nstopVelocity = 0.04,\n    // velocity to stop\nvelocityFriction = 0.95,\n    // velocity decreasing factor\nclampVelocity = (0, _clamp[\"default\"])(-maxVelocity, maxVelocity);\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/Scrollable\n * @private\n */\n\nvar ScrollAnimator =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n   *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n   *\t`'ease-out'`.\n   * @constructor\n   * @memberof ui/Scrollable.ScrollAnimator\n   */\n  function ScrollAnimator(type) {\n    _classCallCheck(this, ScrollAnimator);\n\n    this.rAFId = null;\n    this.type = 'ease-out';\n    this.timingFunction = timingFunctions[type || this.type];\n  }\n\n  _createClass(ScrollAnimator, [{\n    key: \"simulate\",\n    value: function simulate(sourceX, sourceY, velocityX, velocityY) {\n      var stepX = clampVelocity(velocityX * frameTime),\n          stepY = clampVelocity(velocityY * frameTime),\n          deltaX = 0,\n          deltaY = 0,\n          duration = 0;\n\n      do {\n        stepX *= velocityFriction;\n        stepY *= velocityFriction;\n        deltaX += stepX;\n        deltaY += stepY;\n        duration += frameTime;\n      } while (stepX * stepX + stepY * stepY > stopVelocity);\n\n      return {\n        targetX: sourceX + deltaX,\n        targetY: sourceY + deltaY,\n        duration: duration\n      };\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(rAFCallbackFuntion) {\n      var _this = this;\n\n      var rAF = window.requestAnimationFrame,\n          startTimeStamp = (0, _util.perfNow)(),\n          fn = function fn() {\n        var // schedule next frame\n        rAFId = rAF(fn),\n            // current timestamp\n        curTimeStamp = (0, _util.perfNow)(),\n            // current time if 0 at starting position\n        curTime = curTimeStamp - startTimeStamp;\n        _this.rAFId = rAFId;\n        rAFCallbackFuntion(curTime);\n      };\n\n      this.rAFId = rAF(fn);\n    }\n  }, {\n    key: \"isAnimating\",\n    value: function isAnimating() {\n      return this.rAFId !== null;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var cAF = window.cancelAnimationFrame;\n\n      if (this.rAFId !== null) {\n        cAF(this.rAFId);\n        this.rAFId = null;\n      }\n    }\n  }]);\n\n  return ScrollAnimator;\n}();\n\nexports.ScrollAnimator = ScrollAnimator;\nvar _default = ScrollAnimator;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/cdi/SteApp/node_modules/@enact/ui/Scrollable/ScrollAnimator.js"],"names":["Object","defineProperty","exports","value","ScrollAnimator","_clamp","_interopRequireDefault","require","_util","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","timingFunctions","linear","source","duration","curTime","easeIn","easeOut","easeInOut","frameTime","maxVelocity","stopVelocity","velocityFriction","clampVelocity","type","rAFId","timingFunction","simulate","sourceX","sourceY","velocityX","velocityY","stepX","stepY","deltaX","deltaY","targetX","targetY","animate","rAFCallbackFuntion","_this","rAF","window","requestAnimationFrame","startTimeStamp","perfNow","fn","curTimeStamp","isAnimating","stop","cAF","cancelAnimationFrame","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ScrollAnimator = exports[\"default\"] = void 0;\n\nvar _clamp = _interopRequireDefault(require(\"ramda/src/clamp\"));\n\nvar _util = require(\"@enact/core/util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar // Use eases library\ntimingFunctions = {\n  'linear': function linear(source, target, duration, curTime) {\n    curTime /= duration;\n    return (target - source) * curTime + source;\n  },\n  'ease-in': function easeIn(source, target, duration, curTime) {\n    curTime /= duration;\n    return (target - source) * curTime * curTime * curTime * curTime + source;\n  },\n  'ease-out': function easeOut(source, target, duration, curTime) {\n    curTime /= duration;\n    curTime--;\n    return (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n  },\n  'ease-in-out': function easeInOut(source, target, duration, curTime) {\n    curTime /= duration / 2;\n\n    if (curTime < 1) {\n      return (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n    } else {\n      curTime -= 2;\n    }\n\n    return (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n  }\n},\n    // for simulate()\nframeTime = 16.0,\n    // time for one frame\nmaxVelocity = 100,\n    // speed cap\nstopVelocity = 0.04,\n    // velocity to stop\nvelocityFriction = 0.95,\n    // velocity decreasing factor\nclampVelocity = (0, _clamp[\"default\"])(-maxVelocity, maxVelocity);\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/Scrollable\n * @private\n */\n\nvar ScrollAnimator =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n   *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n   *\t`'ease-out'`.\n   * @constructor\n   * @memberof ui/Scrollable.ScrollAnimator\n   */\n  function ScrollAnimator(type) {\n    _classCallCheck(this, ScrollAnimator);\n\n    this.rAFId = null;\n    this.type = 'ease-out';\n    this.timingFunction = timingFunctions[type || this.type];\n  }\n\n  _createClass(ScrollAnimator, [{\n    key: \"simulate\",\n    value: function simulate(sourceX, sourceY, velocityX, velocityY) {\n      var stepX = clampVelocity(velocityX * frameTime),\n          stepY = clampVelocity(velocityY * frameTime),\n          deltaX = 0,\n          deltaY = 0,\n          duration = 0;\n\n      do {\n        stepX *= velocityFriction;\n        stepY *= velocityFriction;\n        deltaX += stepX;\n        deltaY += stepY;\n        duration += frameTime;\n      } while (stepX * stepX + stepY * stepY > stopVelocity);\n\n      return {\n        targetX: sourceX + deltaX,\n        targetY: sourceY + deltaY,\n        duration: duration\n      };\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(rAFCallbackFuntion) {\n      var _this = this;\n\n      var rAF = window.requestAnimationFrame,\n          startTimeStamp = (0, _util.perfNow)(),\n          fn = function fn() {\n        var // schedule next frame\n        rAFId = rAF(fn),\n            // current timestamp\n        curTimeStamp = (0, _util.perfNow)(),\n            // current time if 0 at starting position\n        curTime = curTimeStamp - startTimeStamp;\n        _this.rAFId = rAFId;\n        rAFCallbackFuntion(curTime);\n      };\n\n      this.rAFId = rAF(fn);\n    }\n  }, {\n    key: \"isAnimating\",\n    value: function isAnimating() {\n      return this.rAFId !== null;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var cAF = window.cancelAnimationFrame;\n\n      if (this.rAFId !== null) {\n        cAF(this.rAFId);\n        this.rAFId = null;\n      }\n    }\n  }]);\n\n  return ScrollAnimator;\n}();\n\nexports.ScrollAnimator = ScrollAnimator;\nvar _default = ScrollAnimator;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}