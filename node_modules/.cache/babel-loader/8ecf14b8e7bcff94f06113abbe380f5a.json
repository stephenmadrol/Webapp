{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BreadcrumbDecorator = exports[\"default\"] = void 0;\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _kind = _interopRequireDefault(require(\"@enact/core/kind\"));\n\nvar _util = require(\"@enact/core/util\");\n\nvar _ViewManager = _interopRequireDefault(require(\"@enact/ui/ViewManager\"));\n\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _IdProvider = _interopRequireDefault(require(\"../internal/IdProvider\"));\n\nvar _Skinnable = _interopRequireDefault(require(\"../Skinnable\"));\n\nvar _Breadcrumb = _interopRequireDefault(require(\"./Breadcrumb\"));\n\nvar _BreadcrumbArranger = _interopRequireDefault(require(\"./BreadcrumbArranger\"));\n\nvar _CancelDecorator = _interopRequireDefault(require(\"./CancelDecorator\"));\n\nvar _IndexedBreadcrumbs = _interopRequireDefault(require(\"./IndexedBreadcrumbs\"));\n\nvar _PanelsModule = _interopRequireDefault(require(\"./Panels.module.css\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n} // TODO: Figure out how to document private sub-module members\n\n/**\n * Default config for {@link moonstone/Panels.BreadcrumbDecorator}\n * @hocconfig\n * @memberof moonstone/Panels.BreadcrumbDecorator\n */\n\n\nvar defaultConfig = {\n  /**\n   * Classes to be added to the root node\n   *\n   * @type {String}\n   * @default null\n   * @memberof moonstone/Panels.BreadcrumbDecorator.defaultConfig\n   */\n  className: null,\n\n  /**\n   * Maximum number of breadcrumbs to display. If a function, it will be called on render to\n   * calculate the number of breadcrumbs\n   *\n   * @type {Number|Function}\n   * @default 0\n   * @memberof moonstone/Panels.BreadcrumbDecorator.defaultConfig\n   */\n  max: 0,\n\n  /**\n   * Arranger for Panels\n   *\n   * @type {Object}\n   * @default null\n   * @memberof moonstone/Panels.BreadcrumbDecorator.defaultConfig\n   */\n  panelArranger: null\n};\n/**\n * A higher-order component that adds breadcrumbs to a Panels component\n *\n * @class BreadcrumbDecorator\n * @type {Function}\n * @hoc\n * @private\n * @memberof moonstone/Panels\n */\n\nvar BreadcrumbDecorator = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var max = config.max,\n      panelArranger = config.panelArranger,\n      cfgClassName = config.className;\n  var calcMax = (0, _util.coerceFunction)(max);\n  var Decorator = (0, _kind[\"default\"])({\n    name: 'BreadcrumbDecorator',\n    propTypes:\n    /** @lends moonstone/Panels.BreadcrumbDecorator.prototype */\n    {\n      /**\n       * Array of breadcrumbs or a function that generates an array of breadcrumbs\n       *\n       * @type {Function|Node[]}\n       * @default IndexedBreadcrumbs\n       */\n      breadcrumbs: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, // generator\n      _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].node) // static array of breadcrumbs\n      ]),\n\n      /**\n       * An object containing properties to be passed to each child. `aria-owns` will be added\n       * or updated to this object to add the breadcrumbs to the accessibility tree of each\n       * panel.\n       *\n       * @type {Object}\n       * @public\n       */\n      childProps: _propTypes[\"default\"].object,\n\n      /**\n       * Panels to be rendered\n       *\n       * @type {Node}\n       */\n      children: _propTypes[\"default\"].node,\n\n      /**\n       * Function that generates unique identifiers for Panel instances\n       *\n       * @type {Function}\n       * @required\n       * @private\n       */\n      generateId: _propTypes[\"default\"].func,\n\n      /**\n       * Unique identifier for the Panels instance\n       *\n       * @type {String}\n       * @public\n       */\n      id: _propTypes[\"default\"].string,\n\n      /**\n       * Index of the active panel\n       *\n       * @type {Number}\n       * @default 0\n       */\n      index: _propTypes[\"default\"].number,\n\n      /**\n       * Disable breadcrumb transitions.\n       *\n       * @type {Boolean}\n       * @default false\n       */\n      noAnimation: _propTypes[\"default\"].bool,\n\n      /**\n       * Called when a breadcrumb is clicked. The payload includes the `index` of the selected\n       * breadcrumb\n       *\n       * @type {Function}\n       */\n      onSelectBreadcrumb: _propTypes[\"default\"].func\n    },\n    defaultProps: {\n      breadcrumbs: _IndexedBreadcrumbs[\"default\"],\n      index: 0,\n      noAnimation: false\n    },\n    styles: {\n      css: _PanelsModule[\"default\"],\n      className: cfgClassName\n    },\n    handlers: {\n      handleBreadcrumbWillTransition: function handleBreadcrumbWillTransition(ev, _ref) {\n        var id = _ref.id;\n\n        var current = _spotlight[\"default\"].getCurrent();\n\n        if (!current) return;\n        var breadcrumbs = document.querySelector(\"#\".concat(id, \" .\").concat(_PanelsModule[\"default\"].breadcrumbs));\n\n        if (breadcrumbs && breadcrumbs.contains(current)) {\n          current.blur();\n        }\n      }\n    },\n    computed: {\n      // Invokes the breadcrumb generator, if provided\n      breadcrumbs: function breadcrumbs(_ref2) {\n        var _breadcrumbs = _ref2.breadcrumbs,\n            id = _ref2.id,\n            index = _ref2.index,\n            onSelectBreadcrumb = _ref2.onSelectBreadcrumb;\n        var x = calcMax(index);\n\n        if (Array.isArray(_breadcrumbs)) {\n          // limit the number of breadcrumbs based on the index and config.max\n          var start = Math.max(index - x, 0);\n\n          var children = _react[\"default\"].Children.toArray(_breadcrumbs).slice(start, start + x); // map over the children to either clone it with the appropriate props or to\n          // create a Breadcrumb if passed an array of renderable primitives\n\n\n          return _react[\"default\"].Children.map(children, function (child, i) {\n            var props = {\n              id: \"\".concat(id, \"_bc_\").concat(i),\n              index: i,\n              onSelect: onSelectBreadcrumb\n            };\n\n            if (_react[\"default\"].isValidElement(child)) {\n              return _react[\"default\"].cloneElement(child, props);\n            } else {\n              return _react[\"default\"].createElement(_Breadcrumb[\"default\"], props, child);\n            }\n          });\n        } else {\n          return _breadcrumbs(id, index, x, onSelectBreadcrumb);\n        }\n      },\n      childProps: function childProps(_ref3) {\n        var _childProps = _ref3.childProps,\n            id = _ref3.id,\n            index = _ref3.index;\n\n        if (!id || index === 0) {\n          return _childProps;\n        }\n\n        var start = Math.max(index - calcMax(index), 0);\n        var updatedChildProps = Object.assign({}, _childProps);\n        var ariaOwns = [];\n\n        for (var i = start; i < index; i++) {\n          ariaOwns.push(\"\".concat(id, \"_bc_\").concat(i));\n        }\n\n        if (updatedChildProps['aria-owns']) {\n          ariaOwns.unshift(updatedChildProps['aria-owns']);\n        }\n\n        updatedChildProps['aria-owns'] = ariaOwns.join(' ');\n        return updatedChildProps;\n      }\n    },\n    render: function render(_ref4) {\n      var breadcrumbs = _ref4.breadcrumbs,\n          childProps = _ref4.childProps,\n          children = _ref4.children,\n          className = _ref4.className,\n          generateId = _ref4.generateId,\n          handleBreadcrumbWillTransition = _ref4.handleBreadcrumbWillTransition,\n          id = _ref4.id,\n          index = _ref4.index,\n          noAnimation = _ref4.noAnimation,\n          rest = _objectWithoutProperties(_ref4, [\"breadcrumbs\", \"childProps\", \"children\", \"className\", \"generateId\", \"handleBreadcrumbWillTransition\", \"id\", \"index\", \"noAnimation\"]);\n\n      delete rest.onSelectBreadcrumb;\n\n      var count = _react[\"default\"].Children.count(children);\n\n      !(index === 0 && count === 0 || index < count) ? process.env.NODE_ENV !== \"production\" ? (0, _invariant[\"default\"])(false, \"Panels index, \".concat(index, \", is invalid for number of children, \").concat(count)) : !false ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0 : void 0;\n      return _react[\"default\"].createElement(\"div\", {\n        className: className,\n        \"data-index\": index,\n        id: id\n      }, _react[\"default\"].createElement(_ViewManager[\"default\"], {\n        arranger: _BreadcrumbArranger[\"default\"],\n        className: _PanelsModule[\"default\"].breadcrumbs,\n        duration: 300,\n        end: calcMax(),\n        index: index - 1,\n        noAnimation: noAnimation,\n        onWillTransition: handleBreadcrumbWillTransition,\n        start: 0\n      }, breadcrumbs), _react[\"default\"].createElement(Wrapped, Object.assign({}, rest, {\n        arranger: panelArranger,\n        childProps: childProps,\n        generateId: generateId,\n        id: \"\".concat(id, \"_panels\"),\n        index: index,\n        noAnimation: noAnimation\n      }), children));\n    }\n  });\n  return (0, _CancelDecorator[\"default\"])({\n    cancel: 'onSelectBreadcrumb'\n  }, (0, _IdProvider[\"default\"])((0, _Skinnable[\"default\"])(Decorator)));\n});\nexports.BreadcrumbDecorator = BreadcrumbDecorator;\nvar _default = BreadcrumbDecorator;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["F:\\books\\vscode\\enact\\final\\SteApp\\node_modules\\@enact\\moonstone\\Panels\\BreadcrumbDecorator.js"],"names":["Object","defineProperty","exports","value","BreadcrumbDecorator","_hoc","_interopRequireDefault","require","_kind","_util","_ViewManager","_spotlight","_invariant","_propTypes","_react","_IdProvider","_Skinnable","_Breadcrumb","_BreadcrumbArranger","_CancelDecorator","_IndexedBreadcrumbs","_PanelsModule","obj","__esModule","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","keys","defaultConfig","className","max","panelArranger","config","Wrapped","cfgClassName","calcMax","coerceFunction","Decorator","name","propTypes","breadcrumbs","oneOfType","func","arrayOf","node","childProps","object","children","generateId","id","string","index","number","noAnimation","bool","onSelectBreadcrumb","defaultProps","styles","css","handlers","handleBreadcrumbWillTransition","ev","_ref","current","getCurrent","document","querySelector","concat","contains","blur","computed","_ref2","_breadcrumbs","x","Array","isArray","start","Math","Children","toArray","slice","map","child","props","onSelect","isValidElement","cloneElement","createElement","_ref3","_childProps","updatedChildProps","assign","ariaOwns","push","unshift","join","render","_ref4","rest","count","process","env","NODE_ENV","invariant","arranger","duration","end","onWillTransition","cancel","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BreadcrumbDecorator = exports[\"default\"] = void 0;\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _kind = _interopRequireDefault(require(\"@enact/core/kind\"));\n\nvar _util = require(\"@enact/core/util\");\n\nvar _ViewManager = _interopRequireDefault(require(\"@enact/ui/ViewManager\"));\n\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _IdProvider = _interopRequireDefault(require(\"../internal/IdProvider\"));\n\nvar _Skinnable = _interopRequireDefault(require(\"../Skinnable\"));\n\nvar _Breadcrumb = _interopRequireDefault(require(\"./Breadcrumb\"));\n\nvar _BreadcrumbArranger = _interopRequireDefault(require(\"./BreadcrumbArranger\"));\n\nvar _CancelDecorator = _interopRequireDefault(require(\"./CancelDecorator\"));\n\nvar _IndexedBreadcrumbs = _interopRequireDefault(require(\"./IndexedBreadcrumbs\"));\n\nvar _PanelsModule = _interopRequireDefault(require(\"./Panels.module.css\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n// TODO: Figure out how to document private sub-module members\n\n/**\n * Default config for {@link moonstone/Panels.BreadcrumbDecorator}\n * @hocconfig\n * @memberof moonstone/Panels.BreadcrumbDecorator\n */\nvar defaultConfig = {\n  /**\n   * Classes to be added to the root node\n   *\n   * @type {String}\n   * @default null\n   * @memberof moonstone/Panels.BreadcrumbDecorator.defaultConfig\n   */\n  className: null,\n\n  /**\n   * Maximum number of breadcrumbs to display. If a function, it will be called on render to\n   * calculate the number of breadcrumbs\n   *\n   * @type {Number|Function}\n   * @default 0\n   * @memberof moonstone/Panels.BreadcrumbDecorator.defaultConfig\n   */\n  max: 0,\n\n  /**\n   * Arranger for Panels\n   *\n   * @type {Object}\n   * @default null\n   * @memberof moonstone/Panels.BreadcrumbDecorator.defaultConfig\n   */\n  panelArranger: null\n};\n/**\n * A higher-order component that adds breadcrumbs to a Panels component\n *\n * @class BreadcrumbDecorator\n * @type {Function}\n * @hoc\n * @private\n * @memberof moonstone/Panels\n */\n\nvar BreadcrumbDecorator = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var max = config.max,\n      panelArranger = config.panelArranger,\n      cfgClassName = config.className;\n  var calcMax = (0, _util.coerceFunction)(max);\n  var Decorator = (0, _kind[\"default\"])({\n    name: 'BreadcrumbDecorator',\n    propTypes:\n    /** @lends moonstone/Panels.BreadcrumbDecorator.prototype */\n    {\n      /**\n       * Array of breadcrumbs or a function that generates an array of breadcrumbs\n       *\n       * @type {Function|Node[]}\n       * @default IndexedBreadcrumbs\n       */\n      breadcrumbs: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, // generator\n      _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].node) // static array of breadcrumbs\n      ]),\n\n      /**\n       * An object containing properties to be passed to each child. `aria-owns` will be added\n       * or updated to this object to add the breadcrumbs to the accessibility tree of each\n       * panel.\n       *\n       * @type {Object}\n       * @public\n       */\n      childProps: _propTypes[\"default\"].object,\n\n      /**\n       * Panels to be rendered\n       *\n       * @type {Node}\n       */\n      children: _propTypes[\"default\"].node,\n\n      /**\n       * Function that generates unique identifiers for Panel instances\n       *\n       * @type {Function}\n       * @required\n       * @private\n       */\n      generateId: _propTypes[\"default\"].func,\n\n      /**\n       * Unique identifier for the Panels instance\n       *\n       * @type {String}\n       * @public\n       */\n      id: _propTypes[\"default\"].string,\n\n      /**\n       * Index of the active panel\n       *\n       * @type {Number}\n       * @default 0\n       */\n      index: _propTypes[\"default\"].number,\n\n      /**\n       * Disable breadcrumb transitions.\n       *\n       * @type {Boolean}\n       * @default false\n       */\n      noAnimation: _propTypes[\"default\"].bool,\n\n      /**\n       * Called when a breadcrumb is clicked. The payload includes the `index` of the selected\n       * breadcrumb\n       *\n       * @type {Function}\n       */\n      onSelectBreadcrumb: _propTypes[\"default\"].func\n    },\n    defaultProps: {\n      breadcrumbs: _IndexedBreadcrumbs[\"default\"],\n      index: 0,\n      noAnimation: false\n    },\n    styles: {\n      css: _PanelsModule[\"default\"],\n      className: cfgClassName\n    },\n    handlers: {\n      handleBreadcrumbWillTransition: function handleBreadcrumbWillTransition(ev, _ref) {\n        var id = _ref.id;\n\n        var current = _spotlight[\"default\"].getCurrent();\n\n        if (!current) return;\n        var breadcrumbs = document.querySelector(\"#\".concat(id, \" .\").concat(_PanelsModule[\"default\"].breadcrumbs));\n\n        if (breadcrumbs && breadcrumbs.contains(current)) {\n          current.blur();\n        }\n      }\n    },\n    computed: {\n      // Invokes the breadcrumb generator, if provided\n      breadcrumbs: function breadcrumbs(_ref2) {\n        var _breadcrumbs = _ref2.breadcrumbs,\n            id = _ref2.id,\n            index = _ref2.index,\n            onSelectBreadcrumb = _ref2.onSelectBreadcrumb;\n        var x = calcMax(index);\n\n        if (Array.isArray(_breadcrumbs)) {\n          // limit the number of breadcrumbs based on the index and config.max\n          var start = Math.max(index - x, 0);\n\n          var children = _react[\"default\"].Children.toArray(_breadcrumbs).slice(start, start + x); // map over the children to either clone it with the appropriate props or to\n          // create a Breadcrumb if passed an array of renderable primitives\n\n\n          return _react[\"default\"].Children.map(children, function (child, i) {\n            var props = {\n              id: \"\".concat(id, \"_bc_\").concat(i),\n              index: i,\n              onSelect: onSelectBreadcrumb\n            };\n\n            if (_react[\"default\"].isValidElement(child)) {\n              return _react[\"default\"].cloneElement(child, props);\n            } else {\n              return _react[\"default\"].createElement(_Breadcrumb[\"default\"], props, child);\n            }\n          });\n        } else {\n          return _breadcrumbs(id, index, x, onSelectBreadcrumb);\n        }\n      },\n      childProps: function childProps(_ref3) {\n        var _childProps = _ref3.childProps,\n            id = _ref3.id,\n            index = _ref3.index;\n\n        if (!id || index === 0) {\n          return _childProps;\n        }\n\n        var start = Math.max(index - calcMax(index), 0);\n        var updatedChildProps = Object.assign({}, _childProps);\n        var ariaOwns = [];\n\n        for (var i = start; i < index; i++) {\n          ariaOwns.push(\"\".concat(id, \"_bc_\").concat(i));\n        }\n\n        if (updatedChildProps['aria-owns']) {\n          ariaOwns.unshift(updatedChildProps['aria-owns']);\n        }\n\n        updatedChildProps['aria-owns'] = ariaOwns.join(' ');\n        return updatedChildProps;\n      }\n    },\n    render: function render(_ref4) {\n      var breadcrumbs = _ref4.breadcrumbs,\n          childProps = _ref4.childProps,\n          children = _ref4.children,\n          className = _ref4.className,\n          generateId = _ref4.generateId,\n          handleBreadcrumbWillTransition = _ref4.handleBreadcrumbWillTransition,\n          id = _ref4.id,\n          index = _ref4.index,\n          noAnimation = _ref4.noAnimation,\n          rest = _objectWithoutProperties(_ref4, [\"breadcrumbs\", \"childProps\", \"children\", \"className\", \"generateId\", \"handleBreadcrumbWillTransition\", \"id\", \"index\", \"noAnimation\"]);\n\n      delete rest.onSelectBreadcrumb;\n\n      var count = _react[\"default\"].Children.count(children);\n\n      !(index === 0 && count === 0 || index < count) ? process.env.NODE_ENV !== \"production\" ? (0, _invariant[\"default\"])(false, \"Panels index, \".concat(index, \", is invalid for number of children, \").concat(count)) : invariant(false) : void 0;\n      return _react[\"default\"].createElement(\"div\", {\n        className: className,\n        \"data-index\": index,\n        id: id\n      }, _react[\"default\"].createElement(_ViewManager[\"default\"], {\n        arranger: _BreadcrumbArranger[\"default\"],\n        className: _PanelsModule[\"default\"].breadcrumbs,\n        duration: 300,\n        end: calcMax(),\n        index: index - 1,\n        noAnimation: noAnimation,\n        onWillTransition: handleBreadcrumbWillTransition,\n        start: 0\n      }, breadcrumbs), _react[\"default\"].createElement(Wrapped, Object.assign({}, rest, {\n        arranger: panelArranger,\n        childProps: childProps,\n        generateId: generateId,\n        id: \"\".concat(id, \"_panels\"),\n        index: index,\n        noAnimation: noAnimation\n      }), children));\n    }\n  });\n  return (0, _CancelDecorator[\"default\"])({\n    cancel: 'onSelectBreadcrumb'\n  }, (0, _IdProvider[\"default\"])((0, _Skinnable[\"default\"])(Decorator)));\n});\nexports.BreadcrumbDecorator = BreadcrumbDecorator;\nvar _default = BreadcrumbDecorator;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}